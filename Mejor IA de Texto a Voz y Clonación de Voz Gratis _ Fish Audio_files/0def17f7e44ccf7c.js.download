(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,541071,373488,e=>{"use strict";e.s(["MoreHorizontal",()=>t],541071),e.s(["default",()=>t],373488);let t=(0,e.i(475254).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},129160,e=>{"use strict";e.s(["Popover",()=>B,"PopoverContent",()=>H,"PopoverTrigger",()=>U],129160);var t=e.i(843476),r=e.i(271645),a=e.i(981140),n=e.i(820783),i=e.i(30030),s=e.i(726330),o=e.i(303536),l=e.i(765491),d=e.i(610772),c=e.i(853660),u=e.i(774606),m=e.i(296626),f=e.i(248425),p=Symbol("radix.slottable");function h(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}var x=e.i(369340),g=e.i(186312),v=e.i(985369),b="Popover",[y,j]=(0,i.createContextScope)(b,[c.createPopperScope]),w=(0,c.createPopperScope)(),[N,k]=y(b),C=e=>{let{__scopePopover:a,children:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!1}=e,u=w(a),m=r.useRef(null),[f,p]=r.useState(!1),[h,g]=(0,x.useControllableState)({prop:i,defaultProp:null!=s&&s,onChange:o,caller:b});return(0,t.jsx)(c.Root,{...u,children:(0,t.jsx)(N,{scope:a,contentId:(0,d.useId)(),triggerRef:m,open:h,onOpenChange:g,onOpenToggle:r.useCallback(()=>g(e=>!e),[g]),hasCustomAnchor:f,onCustomAnchorAdd:r.useCallback(()=>p(!0),[]),onCustomAnchorRemove:r.useCallback(()=>p(!1),[]),modal:l,children:n})})};C.displayName=b;var _="PopoverAnchor";r.forwardRef((e,a)=>{let{__scopePopover:n,...i}=e,s=k(_,n),o=w(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=s;return r.useEffect(()=>(l(),()=>d()),[l,d]),(0,t.jsx)(c.Anchor,{...o,...i,ref:a})}).displayName=_;var M="PopoverTrigger",P=r.forwardRef((e,r)=>{let{__scopePopover:i,...s}=e,o=k(M,i),l=w(i),d=(0,n.useComposedRefs)(r,o.triggerRef),u=(0,t.jsx)(f.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":V(o.open),...s,ref:d,onClick:(0,a.composeEventHandlers)(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?u:(0,t.jsx)(c.Anchor,{asChild:!0,...l,children:u})});P.displayName=M;var R="PopoverPortal",[E,F]=y(R,{forceMount:void 0}),S=e=>{let{__scopePopover:r,forceMount:a,children:n,container:i}=e,s=k(R,r);return(0,t.jsx)(E,{scope:r,forceMount:a,children:(0,t.jsx)(m.Presence,{present:a||s.open,children:(0,t.jsx)(u.Portal,{asChild:!0,container:i,children:n})})})};S.displayName=R;var T="PopoverContent",A=r.forwardRef((e,r)=>{let a=F(T,e.__scopePopover),{forceMount:n=a.forceMount,...i}=e,s=k(T,e.__scopePopover);return(0,t.jsx)(m.Presence,{present:n||s.open,children:s.modal?(0,t.jsx)(Z,{...i,ref:r}):(0,t.jsx)(D,{...i,ref:r})})});A.displayName=T;var I=function(e){let a=function(e){let t=r.forwardRef((e,t)=>{let{children:a,...i}=e;if(r.isValidElement(a)){var s,o,l;let e,d,c=(d=(e=null==(o=Object.getOwnPropertyDescriptor((s=a).props,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(d=(e=null==(l=Object.getOwnPropertyDescriptor(s,"ref"))?void 0:l.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref,u=function(e,t){let r={...t};for(let a in t){let n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=i(...t);return n(...t),a}:n&&(r[a]=n):"style"===a?r[a]={...n,...i}:"className"===a&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(i,a.props);return a.type!==r.Fragment&&(u.ref=t?(0,n.composeRefs)(t,c):c),r.cloneElement(a,u)}return r.Children.count(a)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),i=r.forwardRef((e,n)=>{let{children:i,...s}=e,o=r.Children.toArray(i),l=o.find(h);if(l){let e=l.props.children,i=o.map(t=>t!==l?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(a,{...s,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,t.jsx)(a,{...s,ref:n,children:i})});return i.displayName="".concat(e,".Slot"),i}("PopoverContent.RemoveScroll"),Z=r.forwardRef((e,i)=>{let s=k(T,e.__scopePopover),o=r.useRef(null),l=(0,n.useComposedRefs)(i,o),d=r.useRef(!1);return r.useEffect(()=>{let e=o.current;if(e)return(0,g.hideOthers)(e)},[]),(0,t.jsx)(v.RemoveScroll,{as:I,allowPinchZoom:!0,children:(0,t.jsx)(O,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),d.current||null==(t=s.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;d.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),D=r.forwardRef((e,a)=>{let n=k(T,e.__scopePopover),i=r.useRef(!1),s=r.useRef(!1);return(0,t.jsx)(O,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,a;null==(r=e.onCloseAutoFocus)||r.call(e,t),t.defaultPrevented||(i.current||null==(a=n.triggerRef.current)||a.focus(),t.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:t=>{var r,a;null==(r=e.onInteractOutside)||r.call(e,t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let o=t.target;(null==(a=n.triggerRef.current)?void 0:a.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),O=r.forwardRef((e,r)=>{let{__scopePopover:a,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:h,...x}=e,g=k(T,a),v=w(a);return(0,o.useFocusGuards)(),(0,t.jsx)(l.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:d,children:(0,t.jsx)(s.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:h,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:p,onDismiss:()=>g.onOpenChange(!1),children:(0,t.jsx)(c.Content,{"data-state":V(g.open),role:"dialog",id:g.contentId,...v,...x,ref:r,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),z="PopoverClose";function V(e){return e?"open":"closed"}r.forwardRef((e,r)=>{let{__scopePopover:n,...i}=e,s=k(z,n);return(0,t.jsx)(f.Primitive.button,{type:"button",...i,ref:r,onClick:(0,a.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})}).displayName=z,r.forwardRef((e,r)=>{let{__scopePopover:a,...n}=e,i=w(a);return(0,t.jsx)(c.Arrow,{...i,...n,ref:r})}).displayName="PopoverArrow";var L=e.i(647163);let B=C,U=P,H=r.forwardRef((e,r)=>{let{className:a,align:n="center",sideOffset:i=4,...s}=e;return(0,t.jsx)(S,{children:(0,t.jsx)(A,{ref:r,align:n,sideOffset:i,className:(0,L.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})})});H.displayName=A.displayName},162353,e=>{"use strict";e.s(["SUGGESTED_TAG_KEYS",()=>s,"TAG_CATEGORIES",()=>i,"getTagLabel",()=>l,"normalizeTag",()=>d]);let t=["male","female","neutral"],r=["young","middle-aged","old"],a=["conversational","narration","character-voice","social-media","educational","advertisement","entertainment"],n=["deep","low","medium","high","soft","bright","warm","dark","raspy","smooth","breathy","husky","energetic","calm","relaxed","fast","slow","measured","dynamic","friendly","professional","serious","cheerful","enthusiastic","confident","authoritative","gentle","empathetic","playful","dramatic","intimate","mysterious","sad","angry","clear","crisp","neutral-tone","expressive","monotone","animated","storytelling","narrative","character","announcer","host","teacher","coach","anime","gaming","cinematic","documentary","radio","podcast"],i={gender:{labelKey:"gender",tags:t},age:{labelKey:"age",tags:r},usecase:{labelKey:"use-case",tags:a},voiceQuality:{labelKey:"voice-qualities",tags:n}},s=[...t,...r,...a,...n];function o(e){return s.includes(e)}function l(e,t){return o(e)?t(e):e}function d(e,t){let r=e.trim();if(!r)return r;let a=r.toLowerCase();if(o(a))return a;let n=a.replace(/\s+/g,"-");if(o(n))return n;if(t)for(let e of s){let r=t(e).toLowerCase();if(a===r||n===r.replace(/\s+/g,"-"))return e}return r}},707621,e=>{"use strict";e.s(["CircleAlert",()=>t.default]);var t=e.i(361653)},307523,(e,t,r)=>{function a(e){return void 0===e}function n(e){return e===Object(e)}function i(e){return Array.isArray(e)}function s(e,t){return t?n(e)&&!a(e.uri):n(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function o(e){return!a(e)&&e}t.exports={serialize:function e(t,r,l,d){r=r||{},l=l||new FormData,r.indices=o(r.indices),r.nullsAsUndefineds=o(r.nullsAsUndefineds),r.booleansAsIntegers=o(r.booleansAsIntegers),r.allowEmptyArrays=o(r.allowEmptyArrays),r.noAttributesWithArrayNotation=o(r.noAttributesWithArrayNotation),r.noFilesWithArrayNotation=o(r.noFilesWithArrayNotation),r.dotsForObjectNotation=o(r.dotsForObjectNotation);let c="function"==typeof l.getParts;return a(t)||(null===t?r.nullsAsUndefineds||l.append(d,""):"boolean"==typeof t?r.booleansAsIntegers?l.append(d,+!!t):l.append(d,t):i(t)?t.length?t.forEach((t,a)=>{var i;let o=d+"["+(r.indices?a:"")+"]";(r.noAttributesWithArrayNotation||r.noFilesWithArrayNotation&&s(i=t,c)&&"string"==typeof i.name&&(n(i.lastModifiedDate)||"number"==typeof i.lastModified))&&(o=d),e(t,r,l,o)}):r.allowEmptyArrays&&l.append(r.noAttributesWithArrayNotation?d:d+"[]",""):t instanceof Date?l.append(d,t.toISOString()):n(t)&&!s(t,c)?Object.keys(t).forEach(a=>{let n=t[a];if(i(n))for(;a.length>2&&a.lastIndexOf("[]")===a.length-2;)a=a.substring(0,a.length-2);let s=d?r.dotsForObjectNotation?d+"."+a:d+"["+a+"]":a;e(n,r,l,s)}):l.append(d,t)),l}}},258679,e=>{"use strict";e.s(["cloneModel",()=>f,"createModel",()=>g,"deleteModel",()=>m,"dislikeModel",()=>l,"editModel",()=>v,"editModelSample",()=>y,"likeModel",()=>i,"markModel",()=>s,"modelInfo",()=>a,"modelLanguages",()=>h,"modelList",()=>n,"modelSearchAutoComplete",()=>j,"modelTags",()=>p,"modifyModel",()=>x,"reportModel",()=>b,"shareModel",()=>u,"unDislikeModel",()=>d,"unLikeModel",()=>o,"unMarkModel",()=>c]);var t=e.i(307523),r=e.i(100574);let a=r.fetcher.path("/model/{id}").method("get").create(),n=r.fetcher.path("/model").method("get").create(),i=r.fetcher.path("/model/{id}/like").method("put").create(),s=r.fetcher.path("/model/{id}/mark").method("put").create(),o=r.fetcher.path("/model/{id}/like").method("delete").create(),l=r.fetcher.path("/model/{id}/unlike").method("put").create(),d=r.fetcher.path("/model/{id}/unlike").method("delete").create(),c=r.fetcher.path("/model/{id}/mark").method("delete").create(),u=r.fetcher.path("/model/{id}/share").method("post").create(),m=r.fetcher.path("/model/{id}").method("delete").create(),f=r.fetcher.path("/model/{id}/clone").method("post").create(),p=r.fetcher.path("/model/tags").method("get").create(),h=r.fetcher.path("/model/languages").method("get").create(),x=r.fetcher.path("/model/{id}").method("patch").create(),g=async e=>{e.generate_sample=!0;let a=(0,t.serialize)(e,{noAttributesWithArrayNotation:!0,noFilesWithArrayNotation:!0,dotsForObjectNotation:!0,nullsAsUndefineds:!0}),n=await fetch("".concat(r.BASE_URL,"/model/web"),{method:"POST",headers:{authorization:(0,r.getAuthorization)()},body:a});if(401==n.status&&(0,r.handle401)(),!n.ok)if(n.status>=400&&n.status<500)(0,r.handle4xx)(await n.json());else throw Error("Unknown error occurred");return n},v=async(e,a)=>{let n=(0,t.serialize)(a,{noAttributesWithArrayNotation:!0,noFilesWithArrayNotation:!0,dotsForObjectNotation:!0,nullsAsUndefineds:!0}),i=await fetch("".concat(r.BASE_URL,"/model/").concat(e),{method:"PATCH",headers:{authorization:(0,r.getAuthorization)()},body:n});if(401==i.status&&(0,r.handle401)(),!i.ok)if(i.status>=400&&i.status<500)(0,r.handle4xx)(await i.json());else throw Error("Unknown error occurred");return i},b=r.fetcher.path("/report").method("post").create(),y=r.fetcher.path("/model/{id}/samples").method("put").create(),j=r.fetcher.path("/model/search/autocomplete").method("get").create()},951577,e=>{"use strict";e.s(["PauseIcon",()=>a,"PlayIcon",()=>r,"PlayIcon2",()=>n]);var t=e.i(843476);function r(e){return(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("g",{clipPath:"url(#clip0_140_14648)",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.72453 3.96644C4.74687 3.77714 4.81311 3.59568 4.91796 3.4365C5.02281 3.27732 5.16339 3.14483 5.32849 3.04957C5.49359 2.95431 5.67865 2.89893 5.86894 2.88782C6.05922 2.87672 6.24947 2.9102 6.42453 2.9856C7.30953 3.36394 9.29286 4.2631 11.8095 5.7156C14.327 7.16894 16.0979 8.4381 16.867 9.01394C17.5237 9.50644 17.5254 10.4831 16.8679 10.9773C16.1062 11.5498 14.357 12.8023 11.8095 14.2739C9.25953 15.7456 7.29953 16.6339 6.42286 17.0073C5.66786 17.3298 4.82286 16.8406 4.72453 16.0264C4.60953 15.0748 4.39453 12.9139 4.39453 9.9956C4.39453 7.07894 4.6087 4.91894 4.72453 3.96644Z",fill:"currentColor"})}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_140_14648",children:(0,t.jsx)("rect",{width:"20",height:"20",fill:"currentColor"})})})]})}function a(e){return(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("path",{d:"M5.5 3C4.67157 3 4 3.67157 4 4.5V15.5C4 16.3284 4.67157 17 5.5 17H7.5C8.32843 17 9 16.3284 9 15.5V4.5C9 3.67157 8.32843 3 7.5 3H5.5Z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M12.5 3C11.6716 3 11 3.67157 11 4.5V15.5C11 16.3284 11.6716 17 12.5 17H14.5C15.3284 17 16 16.3284 16 15.5V4.5C16 3.67157 15.3284 3 14.5 3H12.5Z",fill:"currentColor"})]})}function n(e){return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",...e,children:(0,t.jsx)("path",{d:"M13.125 6.99978C13.1254 7.14833 13.0873 7.29444 13.0144 7.42391C12.9416 7.55338 12.8365 7.66179 12.7094 7.73861L4.83 12.5588C4.69716 12.6401 4.54501 12.6845 4.38926 12.6874C4.23352 12.6903 4.07983 12.6515 3.94406 12.5752C3.80959 12.5 3.69757 12.3903 3.61953 12.2575C3.54148 12.1247 3.50022 11.9735 3.5 11.8194V2.18018C3.50022 2.02611 3.54148 1.87489 3.61953 1.74206C3.69757 1.60923 3.80959 1.49958 3.94406 1.42439C4.07983 1.34802 4.23352 1.30928 4.38926 1.31216C4.54501 1.31505 4.69716 1.35945 4.83 1.4408L12.7094 6.26096C12.8365 6.33778 12.9416 6.44619 13.0144 6.57566C13.0873 6.70513 13.1254 6.85124 13.125 6.99978Z",fill:"#EEEEF1"})})}},717889,e=>{"use strict";e.s(["useEvent",()=>i],717889);var t=e.i(271645),r="undefined"!=typeof window?window:null,a=function(e){return!!e.addEventListener},n=function(e){return!!e.on};let i=function(e,i,s,o){void 0===s&&(s=r),(0,t.useEffect)(function(){if(i&&s)return a(s)?!function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(s,e,i,o):n(s)&&s.on(e,i,o),function(){a(s)?function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(s,e,i,o):n(s)&&s.off(e,i,o)}},[e,i,s,JSON.stringify(o)])}},999682,e=>{"use strict";e.s(["usePrevious",()=>r]);var t=e.i(271645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},470152,e=>{"use strict";function t(e,t){let[r,a]=t;return Math.min(a,Math.max(r,e))}e.s(["clamp",()=>t])},710619,e=>{"use strict";e.s(["Label",()=>d],710619);var t=e.i(843476),r=e.i(271645);e.i(174080);var a=e.i(991918),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let i=(0,a.createSlot)("Primitive.".concat(n)),s=r.forwardRef((e,r)=>{let{asChild:a,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?i:n,{...s,ref:r})});return s.displayName="Primitive.".concat(n),{...e,[n]:s}},{}),i=r.forwardRef((e,r)=>(0,t.jsx)(n.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var s=e.i(225913),o=e.i(647163);let l=(0,s.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(i,{ref:r,className:(0,o.cn)(l(),a),...n})});d.displayName=i.displayName},602946,e=>{"use strict";e.s(["Form",()=>o,"FormControl",()=>p,"FormDescription",()=>h,"FormField",()=>d,"FormItem",()=>m,"FormLabel",()=>f,"FormMessage",()=>x]);var t=e.i(843476),r=e.i(271645),a=e.i(991918),n=e.i(653145),i=e.i(647163),s=e.i(710619);let o=n.FormProvider,l=r.createContext({}),d=e=>{let{...r}=e;return(0,t.jsx)(l.Provider,{value:{name:r.name},children:(0,t.jsx)(n.Controller,{...r})})},c=()=>{let e=r.useContext(l),t=r.useContext(u),{getFieldState:a,formState:i}=(0,n.useFormContext)(),s=a(e.name,i);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...s}},u=r.createContext({}),m=r.forwardRef((e,a)=>{let{className:n,...s}=e,o=r.useId();return(0,t.jsx)(u.Provider,{value:{id:o},children:(0,t.jsx)("div",{ref:a,className:(0,i.cn)("space-y-2",n),...s})})});m.displayName="FormItem";let f=r.forwardRef((e,r)=>{let{className:a,...n}=e,{error:o,formItemId:l}=c();return(0,t.jsx)(s.Label,{ref:r,className:(0,i.cn)(o&&"text-destructive",a),htmlFor:l,...n})});f.displayName="FormLabel";let p=r.forwardRef((e,r)=>{let{...n}=e,{error:i,formItemId:s,formDescriptionId:o,formMessageId:l}=c();return(0,t.jsx)(a.Slot,{ref:r,id:s,"aria-describedby":i?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!i,...n})});p.displayName="FormControl";let h=r.forwardRef((e,r)=>{let{className:a,...n}=e,{formDescriptionId:s}=c();return(0,t.jsx)("p",{ref:r,id:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})});h.displayName="FormDescription";let x=r.forwardRef((e,r)=>{let{className:a,children:n,...s}=e,{error:o,formMessageId:l}=c(),d=o?String(null==o?void 0:o.message):n;return d?(0,t.jsx)("p",{ref:r,id:l,className:(0,i.cn)("text-sm font-medium text-destructive",a),...s,children:d}):null});x.displayName="FormMessage"},994814,e=>{"use strict";e.s(["zodResolver",()=>s],994814);var t=e.i(653145);let r=(e,r,a)=>{if(e&&"reportValidity"in e){let n=(0,t.get)(a,r);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},a=(e,t)=>{for(let a in t.fields){let n=t.fields[a];n&&n.ref&&"reportValidity"in n.ref?r(n.ref,a,e):n.refs&&n.refs.forEach(t=>r(t,a,e))}},n=(e,t)=>e.some(e=>e.startsWith(t+"."));var i=function(e,r){for(var a={};e.length;){var n=e[0],i=n.code,s=n.message,o=n.path.join(".");if(!a[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];a[o]={message:l.message,type:l.code}}else a[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),r){var d=a[o].types,c=d&&d[n.code];a[o]=(0,t.appendErrors)(o,r,a,i,c?[].concat(c,n.message):n.message)}e.shift()}return a},s=function(e,r,s){return void 0===s&&(s={}),function(o,l,d){try{return Promise.resolve(function(t,n){try{var i=Promise.resolve(e["sync"===s.mode?"parse":"parseAsync"](o,r)).then(function(e){return d.shouldUseNativeValidation&&a({},d),{errors:{},values:s.raw?o:e}})}catch(e){return n(e)}return i&&i.then?i.then(void 0,n):i}(0,function(e){if(Array.isArray(null==e?void 0:e.errors))return{values:{},errors:((e,r)=>{r.shouldUseNativeValidation&&a(e,r);let i={};for(let a in e){let s=(0,t.get)(r.fields,a),o=Object.assign(e[a]||{},{ref:s&&s.ref});if(n(r.names||Object.keys(e),a)){let e=Object.assign({},(0,t.get)(i,a));(0,t.set)(e,"root",o),(0,t.set)(i,a,e)}else(0,t.set)(i,a,o)}return i})(i(e.errors,!d.shouldUseNativeValidation&&"all"===d.criteriaMode),d)};throw e}))}catch(e){return Promise.reject(e)}}}},50270,e=>{"use strict";e.s(["z",()=>o],50270),e.s(["BRAND",()=>i.BRAND,"DIRTY",()=>a.DIRTY,"EMPTY_PATH",()=>a.EMPTY_PATH,"INVALID",()=>a.INVALID,"NEVER",()=>i.NEVER,"OK",()=>a.OK,"ParseStatus",()=>a.ParseStatus,"Schema",()=>i.Schema,"ZodAny",()=>i.ZodAny,"ZodArray",()=>i.ZodArray,"ZodBigInt",()=>i.ZodBigInt,"ZodBoolean",()=>i.ZodBoolean,"ZodBranded",()=>i.ZodBranded,"ZodCatch",()=>i.ZodCatch,"ZodDate",()=>i.ZodDate,"ZodDefault",()=>i.ZodDefault,"ZodDiscriminatedUnion",()=>i.ZodDiscriminatedUnion,"ZodEffects",()=>i.ZodEffects,"ZodEnum",()=>i.ZodEnum,"ZodError",()=>s.ZodError,"ZodFirstPartyTypeKind",()=>i.ZodFirstPartyTypeKind,"ZodFunction",()=>i.ZodFunction,"ZodIntersection",()=>i.ZodIntersection,"ZodIssueCode",()=>s.ZodIssueCode,"ZodLazy",()=>i.ZodLazy,"ZodLiteral",()=>i.ZodLiteral,"ZodMap",()=>i.ZodMap,"ZodNaN",()=>i.ZodNaN,"ZodNativeEnum",()=>i.ZodNativeEnum,"ZodNever",()=>i.ZodNever,"ZodNull",()=>i.ZodNull,"ZodNullable",()=>i.ZodNullable,"ZodNumber",()=>i.ZodNumber,"ZodObject",()=>i.ZodObject,"ZodOptional",()=>i.ZodOptional,"ZodParsedType",()=>n.ZodParsedType,"ZodPipeline",()=>i.ZodPipeline,"ZodPromise",()=>i.ZodPromise,"ZodReadonly",()=>i.ZodReadonly,"ZodRecord",()=>i.ZodRecord,"ZodSchema",()=>i.ZodSchema,"ZodSet",()=>i.ZodSet,"ZodString",()=>i.ZodString,"ZodSymbol",()=>i.ZodSymbol,"ZodTransformer",()=>i.ZodTransformer,"ZodTuple",()=>i.ZodTuple,"ZodType",()=>i.ZodType,"ZodUndefined",()=>i.ZodUndefined,"ZodUnion",()=>i.ZodUnion,"ZodUnknown",()=>i.ZodUnknown,"ZodVoid",()=>i.ZodVoid,"addIssueToContext",()=>a.addIssueToContext,"any",()=>i.any,"array",()=>i.array,"bigint",()=>i.bigint,"boolean",()=>i.boolean,"coerce",()=>i.coerce,"custom",()=>i.custom,"date",()=>i.date,"datetimeRegex",()=>i.datetimeRegex,"defaultErrorMap",()=>r.default,"discriminatedUnion",()=>i.discriminatedUnion,"effect",()=>i.effect,"enum",()=>i.enum,"function",()=>i.function,"getErrorMap",()=>t.getErrorMap,"getParsedType",()=>n.getParsedType,"instanceof",()=>i.instanceof,"intersection",()=>i.intersection,"isAborted",()=>a.isAborted,"isAsync",()=>a.isAsync,"isDirty",()=>a.isDirty,"isValid",()=>a.isValid,"late",()=>i.late,"lazy",()=>i.lazy,"literal",()=>i.literal,"makeIssue",()=>a.makeIssue,"map",()=>i.map,"nan",()=>i.nan,"nativeEnum",()=>i.nativeEnum,"never",()=>i.never,"null",()=>i.null,"nullable",()=>i.nullable,"number",()=>i.number,"object",()=>i.object,"objectUtil",()=>n.objectUtil,"oboolean",()=>i.oboolean,"onumber",()=>i.onumber,"optional",()=>i.optional,"ostring",()=>i.ostring,"pipeline",()=>i.pipeline,"preprocess",()=>i.preprocess,"promise",()=>i.promise,"quotelessJson",()=>s.quotelessJson,"record",()=>i.record,"set",()=>i.set,"setErrorMap",()=>t.setErrorMap,"strictObject",()=>i.strictObject,"string",()=>i.string,"symbol",()=>i.symbol,"transformer",()=>i.transformer,"tuple",()=>i.tuple,"undefined",()=>i.undefined,"union",()=>i.union,"unknown",()=>i.unknown,"util",()=>n.util,"void",()=>i.void],788685),e.s([],38570),e.i(38570),e.s(["defaultErrorMap",()=>r.default,"getErrorMap",()=>t.getErrorMap,"setErrorMap",()=>t.setErrorMap],277290);var t=e.i(937904),r=e.i(795554);e.i(277290);var a=e.i(665354);e.s([],527404),e.i(527404);var n=e.i(904783),i=e.i(965638),s=e.i(169790),o=e.i(788685)},158079,e=>{"use strict";e.s(["Textarea",()=>n]);var t=e.i(843476),r=e.i(271645),a=e.i(647163);let n=r.forwardRef((e,r)=>{let{className:n,...i}=e;return(0,t.jsx)("textarea",{className:(0,a.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...i})});n.displayName="Textarea"},689593,e=>{"use strict";e.s(["AutoHeightTextarea",()=>i]);var t=e.i(843476),r=e.i(647163),a=e.i(158079),n=e.i(271645);let i=(0,n.forwardRef)((e,i)=>{let{className:o,onChange:l,value:d,...c}=e,[u,m]=(0,n.useState)(null);return(0,n.useEffect)(()=>{s(u)},[u,d]),(0,t.jsx)(a.Textarea,{ref:e=>{m(e),"function"==typeof i?i(e):i&&"current"in i&&(i.current=e)},className:(0,r.cn)("min-h-[80px] resize-none",o),value:d,onChange:e=>(s(e.target),null==l?void 0:l(e)),...c})});function s(e){e&&(e.style.height="auto",e.scrollTop=0,e.style.height=e.scrollHeight+2+"px")}i.displayName="AutoHeightTextarea"},62932,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("file-plus-corner",[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]])},370144,e=>{"use strict";e.s(["FilePlus2",()=>t.default]);var t=e.i(62932)},236579,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("image-plus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]])},653860,e=>{"use strict";e.s(["FileUpload",()=>c,"Input",()=>o,"InputV2",()=>l,"InputV2Slot",()=>d],653860);var t=e.i(843476),r=e.i(271645),a=e.i(647163),n=e.i(370144),i=e.i(236579),i=i,s=e.i(657688);let o=r.forwardRef((e,r)=>{let{className:n,type:i,...s}=e;return"textarea"===i?(0,t.jsx)("textarea",{className:(0,a.cn)("flex h-32 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...s}):(0,t.jsx)("input",{type:i,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...s})});o.displayName="Input";let l=r.forwardRef((e,n)=>{let{className:i,type:s,children:o,...l}=e,d=r.useRef(null);return r.useImperativeHandle(n,()=>d.current,[d]),(0,t.jsxs)("div",{className:(0,a.cn)("flex h-10 w-full items-center gap-2 overflow-hidden rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-within:outline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),children:[(0,t.jsx)("input",{type:s,className:"w-0 min-w-2 flex-1 bg-transparent outline-none",ref:d,...l}),o]})});l.displayName="InputV2";let d=r.forwardRef((e,r)=>{let{className:n,side:i,...s}=e;return(0,t.jsx)("div",{className:(0,a.cn)({"-order-1":"right"!==i},"h-6 w-6 text-center leading-6",n),ref:r,...s})});d.displayName="InputV2Slot",r.forwardRef((e,n)=>{let{className:o,file:l,img:d,alt:c,...u}=e,m=r.useRef(null);r.useImperativeHandle(n,()=>m.current);let f=r.useMemo(()=>{if("string"==typeof l)return l;if(l&&l instanceof Blob&&l.type&&l.type.includes("image")){let e=URL.createObjectURL(l);return e&&""+e}return d},[l,d]);return r.useEffect(()=>()=>{f&&"string"==typeof f&&f.startsWith("blob:")&&URL.revokeObjectURL(f)},[f]),(0,t.jsxs)("div",{className:(0,a.cn)("border-file-upload-icon flex h-24 w-24 items-center justify-center rounded-md border border-dashed border-opacity-50 dark:border-white",o),onClick:function(){var e;null==(e=m.current)||e.click()},children:[f?(0,t.jsx)(s.default,{loading:"lazy",src:f,layout:"fill",className:"!relative h-full w-full object-cover",alt:c||""}):(0,t.jsx)(i.default,{className:"text-gray-1"}),(0,t.jsx)("input",{className:"hidden",ref:m,type:"file",accept:"image/jpeg,image/png,image/gif",...u})]})}).displayName="PictureUpload";let c=r.forwardRef((e,i)=>{let{className:s,children:o,dropable:l=!1,onChange:d,...c}=e,u=r.useRef(null);return r.useImperativeHandle(i,()=>u.current),(0,t.jsxs)("div",{className:(0,a.cn)("flex items-center rounded-md border border-dashed border-file-upload-border border-opacity-50 p-4",s),onClick:function(){var e;null==(e=u.current)||e.click()},onDragOverCapture:l?function(e){e.preventDefault(),e.stopPropagation()}:void 0,onDropCapture:l?function(e){e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files;t.length>0&&(null==d||d(t))}:void 0,children:[(0,t.jsx)("div",{className:"dark:bg-file-upload-icon-bg flex h-11 w-11 items-center justify-center rounded-lg bg-timeline-pointground",children:(0,t.jsx)(n.FilePlus2,{className:"text-file-upload-icon"})}),o,(0,t.jsx)("input",{className:"hidden",ref:u,type:"file",...c,onChange:function(e){e.target.files&&(null==d||d(e.target.files))}})]})});c.displayName="FileUpload"},824440,e=>{"use strict";e.s(["ThemeSelector",()=>u]);var t=e.i(843476),r=e.i(271645),a=e.i(991799),n=e.i(897250),i=e.i(4272),s=e.i(150703),o=e.i(585264);let l=["light","dark"],d="h-[1.1rem] w-[1.1rem]",c=e=>l.includes(e)?e:"light";function u(){let{theme:e,trackThemeChange:u}=(0,s.useThemeTracking)(),m=(0,o.useTranslations)("nav"),[f,p]=r.useState(!1);r.useEffect(()=>{p(!0)},[]);let h="dark"===c(e)?(0,t.jsx)(a.Moon,{className:d}):(0,t.jsx)(n.Sun,{className:d});return f?(0,t.jsx)(i.Button,{variant:"ghost",className:"w-9 px-0 text-primary opacity-80 transition-opacity hover:bg-transparent hover:opacity-100 dark:text-white",onClick:()=>{let t=c(e),r=(l.indexOf(t)+1)%l.length;u(l[r],"navbar_cycle")},"aria-label":m("theme.title"),children:h}):(0,t.jsxs)(i.Button,{variant:"ghost",className:"w-9 px-0",disabled:!0,children:[(0,t.jsx)(n.Sun,{className:d}),(0,t.jsx)("span",{className:"sr-only",children:m("theme.title")})]})}},323585,786108,e=>{"use strict";e.s(["MoreVertical",()=>t],323585),e.s(["default",()=>t],786108);let t=(0,e.i(475254).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},985693,824678,370956,e=>{"use strict";e.s(["DashboardPageWrapper",()=>N],985693);var t=e.i(843476),r=e.i(647163),a=e.i(271645),n=e.i(585264),i=e.i(501859),s=e.i(323585);e.s(["List",()=>o],370956),e.s(["default",()=>o],824678);let o=(0,e.i(475254).default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);var l=e.i(4272),d=e.i(824440),c=e.i(740251),u=e.i(991918),m=e.i(463059);e.i(541071);let f=a.default.forwardRef((e,r)=>{let{...a}=e;return(0,t.jsx)("nav",{ref:r,"aria-label":"breadcrumb",...a})});f.displayName="Breadcrumb";let p=a.default.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("ol",{ref:a,className:(0,r.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",n),...i})});p.displayName="BreadcrumbList";let h=a.default.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("li",{ref:a,className:(0,r.cn)("inline-flex items-center gap-1.5",n),...i})});h.displayName="BreadcrumbItem";let x=a.default.forwardRef((e,a)=>{let{asChild:n,className:i,...s}=e,o=n?u.Slot:"a";return(0,t.jsx)(o,{ref:a,className:(0,r.cn)("transition-colors hover:text-foreground",i),...s})});x.displayName="BreadcrumbLink";let g=a.default.forwardRef((e,a)=>{let{className:n,...i}=e;return(0,t.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,r.cn)("font-normal text-foreground",n),...i})});g.displayName="BreadcrumbPage";let v=e=>{let{children:a,className:n,...i}=e;return(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,r.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5",n),...i,children:null!=a?a:(0,t.jsx)(m.ChevronRight,{})})};v.displayName="BreadcrumbSeparator";var b=e.i(681846),y=e.i(160889);function j(e){let{label:i,onEdit:o,onDelete:l,compact:d=!1}=e,c=(0,n.useTranslations)("dashboard"),[u,m]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(i),[g,v]=(0,a.useState)(i),y=(0,a.useRef)(null);(0,a.useEffect)(()=>{v(i),x(i)},[i]),(0,a.useEffect)(()=>{if(u&&y.current){y.current.focus();let e=y.current.value.length;y.current.setSelectionRange(e,e)}},[u]);let j=()=>{let e=h.trim();e&&e!==i?(v(e),o(e)):x(g),m(!1)};return u?(0,t.jsx)("input",{ref:y,type:"text",value:h,onChange:e=>x(e.target.value),onBlur:j,onKeyDown:e=>{"Enter"===e.key?j():"Escape"===e.key&&(x(g),m(!1))},className:(0,r.cn)("truncate border-none bg-transparent font-semibold tracking-tight text-muted-foreground outline-none",d?"max-w-[calc(100vw-7rem)] text-sm":"max-w-[12.5rem] text-lg md:max-w-[18.75rem]")}):(0,t.jsxs)("span",{className:(0,r.cn)("group flex cursor-text items-center gap-1 truncate font-semibold tracking-tight",d?"max-w-[calc(100vw-7rem)] text-sm":"max-w-[12.5rem] text-lg md:max-w-[18.75rem]"),children:[(0,t.jsx)("span",{className:"truncate",onClick:()=>m(!0),children:g}),(0,t.jsxs)(b.DropdownMenu,{open:f,onOpenChange:p,children:[(0,t.jsx)(b.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)("button",{className:(0,r.cn)("shrink-0 rounded p-0.5 transition-opacity hover:bg-black/5 dark:hover:bg-white/10",d||f?"opacity-100":"opacity-0 group-hover:opacity-100"),"aria-label":"Project options",children:(0,t.jsx)(s.MoreVertical,{className:"h-4 w-4 text-muted-foreground"})})}),(0,t.jsxs)(b.DropdownMenuContent,{align:"start",className:"w-auto min-w-0",children:[(0,t.jsx)(b.DropdownMenuItem,{onClick:()=>m(!0),children:c("breadcrumb.rename")}),l&&(0,t.jsx)(b.DropdownMenuItem,{onClick:l,children:c("breadcrumb.delete")})]})]})]})}function w(e){let{title:s,breadcrumbs:u,subtitle:m,showDiscord:b=!0,rightContent:w,onOpenChapters:N}=e;return(0,n.useTranslations)("dashboard"),(0,t.jsxs)("div",{className:(0,r.cn)("flex select-none flex-col justify-center border-b px-4 transition-colors md:px-6",m?"min-h-14 py-2":"h-10 md:h-14","border-transparent bg-transparent"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(()=>{if(u&&u.length>0){let e=u[u.length-1],r=e.onEdit?(0,t.jsx)(j,{label:e.label,onEdit:e.onEdit,onDelete:e.onDelete,compact:!0}):(0,t.jsx)("span",{className:"max-w-[8rem] truncate text-sm font-semibold tracking-tight",children:e.label});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 md:hidden",children:[N&&(0,t.jsx)("button",{onClick:N,className:"rounded p-1 text-muted-foreground hover:bg-black/5 dark:hover:bg-white/10","aria-label":"Open chapters",children:(0,t.jsx)(o,{className:"h-4 w-4"})}),r]}),(0,t.jsx)(f,{className:"hidden md:flex",children:(0,t.jsx)(p,{children:u.map((e,r)=>{let n=r===u.length-1;return(0,t.jsxs)(a.default.Fragment,{children:[(0,t.jsx)(h,{children:n||!e.href?e.onEdit?(0,t.jsx)(j,{label:e.label,onEdit:e.onEdit,onDelete:e.onDelete}):(0,t.jsx)(g,{className:"max-w-[12.5rem] truncate text-lg font-semibold tracking-tight md:max-w-[18.75rem]",children:e.label}):(0,t.jsx)(x,{asChild:!0,children:(0,t.jsx)(y.Link,{href:e.href,className:"text-lg font-semibold tracking-tight",children:e.label})})}),!n&&(0,t.jsx)(v,{})]},r)})})})]})}return s?(0,t.jsx)("h1",{className:"text-lg font-semibold tracking-tight",children:s}):null})(),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(d.ThemeSelector,{})}),w||(0,t.jsxs)(t.Fragment,{children:[b&&(0,t.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 text-primary opacity-80 transition-opacity hover:bg-transparent hover:opacity-100 dark:text-white",onClick:()=>window.open("https://discord.gg/X7fJPHnH2S","_blank"),children:(0,t.jsx)(i.RiDiscordFill,{className:"h-5 w-5"})}),(0,t.jsx)(c.ExtraCreditsHover,{compact:!0})]})]})]}),m&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:m})]})}function N(e){let{children:a,className:n,title:i,breadcrumbs:s,subtitle:o,description:l,showDiscord:d=!0,rightContent:c,onOpenChapters:u}=e,m=i||s&&s.length>0;return(0,t.jsxs)("div",{className:(0,r.cn)("flex h-full flex-col",n),children:[m&&(0,t.jsx)(w,{title:i,breadcrumbs:s,subtitle:o,showDiscord:d,rightContent:c,onOpenChapters:u}),l&&(0,t.jsx)("div",{className:"flex-shrink-0 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsx)("div",{className:"px-4 py-2 md:px-6",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:l})})}),(0,t.jsx)("div",{className:"h-px bg-black/5 dark:bg-transparent"}),(0,t.jsx)("div",{className:"dashboard-scroll flex-1 select-text overflow-auto",children:a})]})}},774903,e=>{"use strict";e.s(["Tabs",()=>M,"TabsContent",()=>E,"TabsList",()=>P,"TabsTrigger",()=>R],774903);var t=e.i(843476),r=e.i(271645),a=e.i(981140),n=e.i(30030),i=e.i(842727),s=e.i(296626),o=e.i(248425),l=e.i(586318),d=e.i(369340),c=e.i(610772),u="Tabs",[m,f]=(0,n.createContextScope)(u,[i.createRovingFocusGroupScope]),p=(0,i.createRovingFocusGroupScope)(),[h,x]=m(u),g=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,onValueChange:i,defaultValue:s,orientation:m="horizontal",dir:f,activationMode:p="automatic",...x}=e,g=(0,l.useDirection)(f),[v,b]=(0,d.useControllableState)({prop:n,onChange:i,defaultProp:null!=s?s:"",caller:u});return(0,t.jsx)(h,{scope:a,baseId:(0,c.useId)(),value:v,onValueChange:b,orientation:m,dir:g,activationMode:p,children:(0,t.jsx)(o.Primitive.div,{dir:g,"data-orientation":m,...x,ref:r})})});g.displayName=u;var v="TabsList",b=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:n=!0,...s}=e,l=x(v,a),d=p(a);return(0,t.jsx)(i.Root,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:n,children:(0,t.jsx)(o.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:r})})});b.displayName=v;var y="TabsTrigger",j=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:s,disabled:l=!1,...d}=e,c=x(y,n),u=p(n),m=k(c.baseId,s),f=C(c.baseId,s),h=s===c.value;return(0,t.jsx)(i.Item,{asChild:!0,...u,focusable:!l,active:h,children:(0,t.jsx)(o.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...d,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||l||!e||c.onValueChange(s)})})})});j.displayName=y;var w="TabsContent",N=r.forwardRef((e,a)=>{let{__scopeTabs:n,value:i,forceMount:l,children:d,...c}=e,u=x(w,n),m=k(u.baseId,i),f=C(u.baseId,i),p=i===u.value,h=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(s.Presence,{present:l||p,children:r=>{let{present:n}=r;return(0,t.jsx)(o.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!n,id:f,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:n&&d})}})});function k(e,t){return"".concat(e,"-trigger-").concat(t)}function C(e,t){return"".concat(e,"-content-").concat(t)}N.displayName=w;var _=e.i(647163);let M=g,P=r.default.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(b,{ref:r,...n,className:(0,_.cn)("mb-4 box-border flex gap-2 border-b border-gray-2",a)})});P.displayName="TabsList";let R=r.default.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(j,{ref:r,...n,className:(0,_.cn)("-mb-[1px] box-border flex h-11 items-center justify-center border-b-[3px] border-transparent px-3 text-base font-medium text-tabs-text transition-colors ease-in-out","data-[state=active]:border-foreground data-[state=active]:text-tabs-active-text",a)})});R.displayName="TabsTrigger";let E=N},952571,879664,e=>{"use strict";e.s(["Info",()=>t],952571),e.s(["default",()=>t],879664);let t=(0,e.i(475254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},360200,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},788699,e=>{"use strict";e.s(["Pencil",()=>t.default]);var t=e.i(360200)},707180,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]])},387951,e=>{"use strict";e.s(["Mic",()=>t.default]);var t=e.i(707180)},860243,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},569074,e=>{"use strict";e.s(["Upload",()=>t.default]);var t=e.i(860243)},581900,e=>{"use strict";e.s(["Checkbox",()=>P],581900);var t=e.i(843476),r=e.i(271645),a=e.i(820783),n=e.i(30030),i=e.i(981140),s=e.i(369340),o=e.i(999682),l=e.i(635804),d=e.i(296626),c=e.i(248425),u="Checkbox",[m,f]=(0,n.createContextScope)(u),[p,h]=m(u);function x(e){let{__scopeCheckbox:a,checked:n,children:i,defaultChecked:o,disabled:l,form:d,name:c,onCheckedChange:m,required:f,value:h="on",internal_do_not_use_render:x}=e,[g,v]=(0,s.useControllableState)({prop:n,defaultProp:null!=o&&o,onChange:m,caller:u}),[b,y]=r.useState(null),[j,w]=r.useState(null),N=r.useRef(!1),C=!b||!!d||!!b.closest("form"),_={checked:g,disabled:l,setChecked:v,control:b,setControl:y,name:c,form:d,value:h,hasConsumerStoppedPropagationRef:N,required:f,defaultChecked:!k(o)&&o,isFormControl:C,bubbleInput:j,setBubbleInput:w};return(0,t.jsx)(p,{scope:a,..._,children:"function"==typeof x?x(_):i})}var g="CheckboxTrigger",v=r.forwardRef((e,n)=>{let{__scopeCheckbox:s,onKeyDown:o,onClick:l,...d}=e,{control:u,value:m,disabled:f,checked:p,required:x,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:y,isFormControl:j,bubbleInput:w}=h(g,s),N=(0,a.useComposedRefs)(n,v),_=r.useRef(p);return r.useEffect(()=>{let e=null==u?void 0:u.form;if(e){let t=()=>b(_.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[u,b]),(0,t.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":k(p)?"mixed":p,"aria-required":x,"data-state":C(p),"data-disabled":f?"":void 0,disabled:f,value:m,...d,ref:N,onKeyDown:(0,i.composeEventHandlers)(o,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(l,e=>{b(e=>!!k(e)||!e),w&&j&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});v.displayName=g;var b=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:d,onCheckedChange:c,form:u,...m}=e;return(0,t.jsx)(x,{__scopeCheckbox:a,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:c,name:n,form:u,value:d,internal_do_not_use_render:e=>{let{isFormControl:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{...m,ref:r,__scopeCheckbox:a}),n&&(0,t.jsx)(N,{__scopeCheckbox:a})]})}})});b.displayName=u;var y="CheckboxIndicator",j=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,forceMount:n,...i}=e,s=h(y,a);return(0,t.jsx)(d.Presence,{present:n||k(s.checked)||!0===s.checked,children:(0,t.jsx)(c.Primitive.span,{"data-state":C(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});j.displayName=y;var w="CheckboxBubbleInput",N=r.forwardRef((e,n)=>{let{__scopeCheckbox:i,...s}=e,{control:d,hasConsumerStoppedPropagationRef:u,checked:m,defaultChecked:f,required:p,disabled:x,name:g,value:v,form:b,bubbleInput:y,setBubbleInput:j}=h(w,i),N=(0,a.useComposedRefs)(n,j),C=(0,o.usePrevious)(m),_=(0,l.useSize)(d);r.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!u.current;if(C!==m&&e){let r=new Event("click",{bubbles:t});y.indeterminate=k(m),e.call(y,!k(m)&&m),y.dispatchEvent(r)}},[y,C,m,u]);let M=r.useRef(!k(m)&&m);return(0,t.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=f?f:M.current,required:p,disabled:x,name:g,value:v,form:b,...s,tabIndex:-1,ref:N,style:{...s.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function k(e){return"indeterminate"===e}function C(e){return k(e)?"indeterminate":e?"checked":"unchecked"}N.displayName=w;var _=e.i(643531),M=e.i(647163);let P=r.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(b,{ref:r,className:(0,M.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:(0,t.jsx)(j,{className:(0,M.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(_.Check,{className:"h-4 w-4"})})})});P.displayName=b.displayName},413824,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},158524,e=>{"use strict";e.s(["Link2",()=>t.default]);var t=e.i(413824)},517302,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},270756,e=>{"use strict";e.s(["Lock",()=>t.default]);var t=e.i(517302)},168202,8553,e=>{"use strict";e.s(["useVoiceCounts",()=>n],168202);var t=e.i(271645),r=e.i(258679),a=e.i(64585);function n(){let{hasLogin:e}=(0,a.useUser)(),[n,i]=(0,t.useState)({public:0,private:0,total:0}),[s,o]=(0,t.useState)(!0),[l,d]=(0,t.useState)(null),c=(0,t.useRef)(null),u=(0,t.useCallback)(async()=>{if(!e){i({public:0,private:0,total:0}),o(!1);return}c.current&&c.current.abort(),c.current=new AbortController,o(!0),d(null);try{let e=await (0,r.modelList)({self:!0,page_size:500,page_number:1},{signal:c.current.signal}),t=e.data.items,a=0,n=0;for(let e of t)"public"===e.visibility?a++:n++;i({public:a,private:n,total:e.data.total})}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;d(e instanceof Error?e:Error("Failed to fetch voice counts"))}finally{o(!1)}},[e]);return(0,t.useEffect)(()=>(u(),()=>{c.current&&c.current.abort()}),[u]),{counts:n,isLoading:s,error:l,refetch:u}}e.s(["VoiceSlotUpgradeModal",()=>u],8553);var i=e.i(843476),s=e.i(657688),o=e.i(585264),l=e.i(969520),d=e.i(4272),c=e.i(160889);function u(e){let{open:t,onOpenChange:r,reason:a}=e,n=(0,o.useTranslations)("voice-slots"),u=(0,c.useRouter)(),m=()=>{switch(a){case"private_not_allowed":return n("upgrade_private_locked_title");case"private_limit_reached":return n("upgrade_private_limit_title");case"public_limit_reached":return n("upgrade_public_limit_title");default:return n("upgrade_title")}};return(0,i.jsx)(l.Dialog,{open:t,onOpenChange:r,children:(0,i.jsxs)(l.DialogContent,{className:"max-w-lg overflow-hidden !rounded-[20px] border-0 p-0",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,i.jsx)(l.DialogTitle,{className:"sr-only",children:m()}),(0,i.jsx)("div",{className:"relative h-[330px] w-full",children:(0,i.jsx)(s.default,{src:"https://pub-ed2d3f80bbd34baeb4b0720a347dad78.r2.dev/media/upgrade-voice-dialog.jpg",alt:"",fill:!0,sizes:"512px",className:"object-cover",quality:100,priority:!0})}),(0,i.jsxs)("div",{className:"space-y-3 px-8 pb-6 pt-4",children:[(0,i.jsx)("h2",{className:"text-[22px] font-medium leading-tight text-foreground",children:m()}),(0,i.jsx)("p",{className:"min-h-[40px] text-sm text-muted-foreground",children:(()=>{switch(a){case"private_not_allowed":return n("upgrade_private_locked_desc");case"private_limit_reached":return n("upgrade_private_limit_desc");case"public_limit_reached":return n("upgrade_public_limit_desc");default:return n("upgrade_desc")}})()}),(0,i.jsx)("div",{className:"flex items-center justify-end pt-4",children:(0,i.jsx)(d.Button,{onClick:()=>{u.push("/app/plan"),r(!1)},className:"h-auto rounded-[40px] px-8 py-2.5 font-medium dark:bg-[#d9d9d9] dark:text-black dark:hover:bg-[#c0c0c0]",children:n("view_plans")})})]})]})})}},23593,e=>{"use strict";e.s(["TagInput",()=>d]);var t=e.i(843476),r=e.i(271645),a=e.i(653860),n=e.i(4272),i=e.i(37727),s=e.i(647163),o=e.i(585264),l=e.i(162353);let d=(0,r.forwardRef)((e,d)=>{let{className:c,value:u,onChange:m,placeholder:f,...p}=e,[h,x]=(0,r.useState)(""),[g,v]=(0,r.useState)(new Set),b=(0,o.useTranslations)("train-new-model.suggested-tags"),y=(0,o.useTranslations)("train-new-model.tag-categories"),j=h.trim().toLowerCase(),w=j.length>0,N=(0,r.useMemo)(()=>Object.entries(l.TAG_CATEGORIES).map(e=>{let[t,r]=e,a=r.tags.filter(e=>!u.includes(e));return w&&(a=a.filter(e=>{let t=e.toLowerCase().includes(j),r=b(e).toLowerCase().includes(j);return t||r})),{categoryKey:t,category:r,availableTags:a}}),[u,j,w,b]);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(a.InputV2,{value:h,onChange:e=>x(e.target.value),onKeyDown:function(e){if("Enter"===e.code&&h.trim().length>0){e.preventDefault();let t=(0,l.normalizeTag)(h,b);u.includes(t)||m([...u,t]),x("")}},className:(0,s.cn)(c,"focus-within:outline-none focus-visible:ring-0 focus-visible:ring-offset-0"),...p,placeholder:u.length?void 0:f,ref:d,children:u.length?(0,t.jsx)(a.InputV2Slot,{side:"left",className:"flex !h-auto !w-auto max-w-[95%] gap-2 overflow-x-auto scrollbar-none [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:u.map((e,r)=>(0,t.jsxs)("span",{className:"flex shrink-0 items-center rounded-full bg-primary/10 px-3 py-1 text-xs text-primary",children:[(0,t.jsx)("span",{children:(0,l.getTagLabel)(e,b)}),(0,t.jsx)(i.X,{className:"ml-1.5 h-3 w-3 cursor-pointer hover:text-primary/70",onClick:()=>{m(u.filter((e,t)=>t!==r))}})]},e))}):void 0}),(0,t.jsx)("div",{className:"space-y-3",children:N.map(e=>{let{categoryKey:r,category:a,availableTags:i}=e;if(0===i.length)return null;let s=g.has(r),o=w||s?i:i.slice(0,6),l=i.length-6;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-1.5 text-xs font-medium text-muted-foreground",children:y(a.labelKey)}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[o.map(e=>(0,t.jsxs)(n.Button,{type:"button",variant:"outline",onClick:()=>(function(e){u.includes(e)||m([...u,e]),x("")})(e),className:"h-auto rounded-full px-3 py-1 text-xs text-muted-foreground hover:border-primary hover:bg-background hover:text-primary",children:["+ ",b(e)]},e)),l>0&&!w&&(0,t.jsx)(n.Button,{type:"button",variant:"ghost",onClick:()=>(function(e){v(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})})(r),className:"h-auto px-2 py-1 text-xs text-primary underline-offset-2 hover:bg-transparent hover:underline",children:s?y("showLess"):y("showMoreCount",{count:l})})]})]},r)})})]})});d.displayName="TagInput"},153691,361372,e=>{"use strict";e.s(["FileVolume",()=>t],153691),e.s(["default",()=>t],361372);let t=(0,e.i(475254).default)("file-volume",[["path",{d:"M4 11.55V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-1.95",key:"44gpjv"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 15a5 5 0 0 1 0 6",key:"oxg87a"}],["path",{d:"M8 14.502a.5.5 0 0 0-.826-.381l-1.893 1.631a1 1 0 0 1-.651.243H3.5a.5.5 0 0 0-.5.501v3.006a.5.5 0 0 0 .5.501h1.129a1 1 0 0 1 .652.243l1.893 1.633a.5.5 0 0 0 .826-.38z",key:"8rtoi1"}]])},798031,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},406321,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},269638,e=>{"use strict";e.s(["CheckCircle",()=>t.default]);var t=e.i(406321)},667585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let a=e.r(132061);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw Object.defineProperty(new a.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}},309885,(e,t,r)=>{"use strict";function a(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return a}})},652157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return o}});let a=e.r(843476),n=e.r(174080),i=e.r(563599),s=e.r(309885);function o(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=i.workAsyncStorage.getStore();if(void 0===r)return null;let o=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;o.push(...t)}}return 0===o.length?null:(0,a.jsx)(a.Fragment,{children:o.map(e=>{let t=r.assetPrefix+"/_next/"+(0,s.encodeURIPath)(e);return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,n.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},869093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return d}});let a=e.r(843476),n=e.r(271645),i=e.r(667585),s=e.r(652157);function o(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},d=function(e){let t={...l,...e},r=(0,n.lazy)(()=>t.loader().then(o)),d=t.loading;function c(e){let o=d?(0,a.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,c=l?n.Suspense:n.Fragment,u=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(c,{...l?{fallback:o}:{},children:u})}return c.displayName="LoadableComponent",c}},770703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let a=e.r(555682)._(e.r(869093));function n(e,t){var r;let n={};"function"==typeof e&&(n.loader=e);let i={...n,...t};return(0,a.default)({...i,modules:null==(r=i.loadableGenerated)?void 0:r.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},800622,201833,729590,763533,e=>{"use strict";e.s(["NewModelForm",()=>_,"useEditFormSchema",()=>C,"useNewModelFormSchema",()=>k],800622);var t=e.i(843476),r=e.i(647163),a=e.i(271645),n=e.i(653860),i=e.i(576167);e.s(["QualitySlider",()=>s,"QualitySliderButton",()=>o,"QualitySliderProgress",()=>l],201833);let s=a.forwardRef((e,a)=>{let{className:n,children:i,...s}=e;return(0,t.jsxs)("div",{className:(0,r.cn)("relative h-14",n),ref:a,...s,children:[(0,t.jsx)("div",{className:"absolute top-5 h-2 w-full rounded-full bg-muted"}),i]})});s.displayName="QualitySlider";let o=a.forwardRef((e,a)=>{let{className:n,text:i,label:s,position:o,btnClassName:l,textClassName:d,...c}=e;return(0,t.jsxs)("div",{className:(0,r.cn)("absolute top-0 z-[2] flex h-full -translate-x-1/2 flex-col items-center",n),ref:a,style:{left:"".concat(o,"%")},...c,children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:i}),(0,t.jsx)("div",{className:(0,r.cn)("mt-1 h-2 w-2 rounded-full bg-foreground/40",l)}),s&&(0,t.jsx)("div",{className:(0,r.cn)("mt-1 text-xs text-muted-foreground",d),children:s})]})});o.displayName="QualitySliderButton";let l=a.forwardRef((e,n)=>{let{className:i,progress:s,...o}=e,l=a.useMemo(()=>s<0?[0,0]:s>100?[0,100]:[1,s],[s]);return(0,t.jsx)("div",{className:(0,r.cn)("absolute top-5 h-2 rounded-full",i),style:{width:"".concat(l[1],"%"),background:"linear-gradient(90deg, rgba(113, 71, 255, 0.4) 0%, rgba(48, 131, 255, 0.4) 50%, rgba(66, 232, 255, 0.4) 100%)"},ref:n,...o})});l.displayName="QualitySliderProgress";var d=e.i(774903),c=e.i(269638),u=e.i(153691);e.s(["XCircleIcon",()=>m.default],729590);var m=e.i(798031),m=m,f=e.i(770703),p=e.i(572226),h=e.i(951577),x=e.i(50270),g=e.i(653145),v=e.i(602946),b=e.i(689593),y=e.i(585264),j=e.i(23593),w=e.i(129668);let N=(0,f.default)(()=>e.A(649385).then(e=>e.default),{loadableGenerated:{modules:[96444]}}),k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"free",t=(0,y.useTranslations)("train-new-model"),a="free"!==e?210:90;return x.z.object({title:x.z.string().min(1,{message:t("form-error.name_required")}).max(50,{message:t("form-error.name_max_length")}),description:x.z.string(),type:x.z.enum(["tts"]),cover_image:x.z.instanceof(File).nullable(),train_mode:x.z.enum(["fast"]),visibility:x.z.enum(["private","public","unlist"]),enhance_audio_quality:x.z.boolean(),confirm_voice_rights:x.z.boolean().optional(),voices:x.z.array(x.z.instanceof(File)).nonempty({message:t("form-error.voices_required")}).and(x.z.custom(e=>0x2000000>=e.reduce((e,t)=>e+t.size,0),{message:t("form-error.voices_size")}).refine(async e=>{let t=(await Promise.all(e.map(r.computeAudioDuration))).reduce((e,t)=>e+t,0);return t>=10&&t<=a},{message:t("form-error.voices_length")}).refine(async e=>{for(let t of e)if(t.type.startsWith("video/")&&!await (0,r.videoHasAudio)((0,r.createVideo)(t,"video/mp4")))return!1;return!0},{message:t("form-error.video_has_audio")}).refine(e=>{for(let t of e)if(t.type&&!t.type.startsWith("audio/")&&!t.type.startsWith("video/"))return!1;return!0},{message:t("form-error.voices_type")})),tags:x.z.array(x.z.string())}).refine(e=>"public"!==e.visibility||!0===e.confirm_voice_rights,{message:t("form-error.confirm_voice_rights_required"),path:["confirm_voice_rights"]})},C=()=>{let e=(0,y.useTranslations)("train-new-model");return x.z.object({title:x.z.string().min(1,{message:e("form-error.name_required")}).max(50,{message:e("form-error.name_max_length")}),description:x.z.string(),type:x.z.enum(["svc","tts"]),cover_image:x.z.instanceof(File).nullable().or(x.z.string()),train_mode:x.z.enum(["fast","full"]),visibility:x.z.enum(["private","public","unlist"]),tags:x.z.array(x.z.string()),enhance_audio_quality:x.z.boolean()})},_=a.forwardRef((e,r)=>{let{className:a,...n}=e,i=(0,y.useTranslations)("train-new-model"),s=(0,g.useFormContext)();return(0,t.jsxs)("div",{className:a,ref:r,...n,children:[(0,t.jsx)(v.FormField,{control:s.control,name:"description",render:e=>{let{field:r}=e;return(0,t.jsxs)(v.FormItem,{children:[(0,t.jsx)("div",{className:"text-sm",children:i("description")}),(0,t.jsx)(v.FormControl,{children:(0,t.jsx)(b.AutoHeightTextarea,{className:"mt-[0.375rem] max-h-32 overflow-y-auto rounded-xl [-ms-overflow-style:none] [scrollbar-width:none] focus-visible:ring-0 focus-visible:ring-offset-0 [&::-webkit-scrollbar]:hidden",placeholder:i("description-placeholder"),...r})}),(0,t.jsx)(v.FormMessage,{})]})}}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(v.FormField,{control:s.control,name:"tags",render:e=>{let{field:r}=e;return(0,t.jsxs)(v.FormItem,{children:[(0,t.jsx)("div",{className:"text-sm",children:i("tag")}),(0,t.jsx)(v.FormControl,{children:(0,t.jsx)(j.TagInput,{className:"rounded-xl focus-visible:ring-0 focus-visible:ring-offset-0",placeholder:i("tag-placeholder"),value:r.value,onChange:r.onChange})}),(0,t.jsx)(v.FormMessage,{})]})}})})]})});_.displayName="NewModelForm";let M=e=>{let{file:n,onDelete:i}=e,s=a.useMemo(()=>{if(!n||"number"!=typeof n.size)return"0 Bytes";let e=n.size,t=0,r=["Bytes","KB","MB"];for(;e>1024&&t<r.length-1;)e/=1024,t++;return"".concat(e.toFixed(2)," ").concat(r[t])},[n]),o=a.useRef(null),[l,d]=a.useState(!1);function c(){if(l){var e,t;null==(e=o.current)||e.pause(),null==(t=o.current)||t.remove(),d(!1)}else o.current=(0,r.createAudio)(n,"audio/mp3"),o.current.play(),d(!0),o.current.onended=()=>{var e;null==(e=o.current)||e.remove(),d(!1)}}return(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-solid border-file-upload-border border-opacity-50 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-md bg-new-model-file-upload-iconbox text-new-model-file-upload-icon",children:(0,t.jsx)(u.FileVolume,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-semibold",children:n.name}),(0,t.jsx)("div",{className:"text-xs font-medium text-badge-info-ground",children:s})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[l?(0,t.jsx)(p.PauseIcon,{className:"h-6 w-6 cursor-pointer",onClick:c,"aria-label":"Pause"}):(0,t.jsx)(h.PlayIcon,{className:"h-6 w-6 cursor-pointer",onClick:c,"aria-label":"Play"}),(0,t.jsx)(p.Cross1Icon,{className:"h-6 w-6 cursor-pointer",onClick:i})]})]})},P=["wav","mp3","flac","m4a","mp4","mov","webm"];a.forwardRef((e,u)=>{let{className:f,...p}=e,h=(0,g.useFormContext)(),x=(0,y.useTranslations)("train-new-model"),{userPackage:v}=(0,w.usePackage)(),b=a.useMemo(()=>(null==v?void 0:v.type)!=="free"?[10,30,210]:[10,30,90],[null==v?void 0:v.type]);function j(e){let t=new Set([...h.getValues().voices,...Array.from(e)]);h.setValue("voices",Array.from(t))}let[k,C]=a.useState(0);a.useEffect(()=>{C(0),h.getValues().voices.forEach(e=>{(0,r.computeAudioDuration)(e).then(e=>{C(t=>t+e)})})},[h,h.watch("voices")]);let _=a.useMemo(()=>k>=b[0]&&k<=b[2],[k,b]),R=a.useMemo(()=>Math.min(k/b[2]*90,100),[k,b]),E=a.useMemo(()=>k<60?"".concat(Math.floor(k),"s"):"".concat(Math.floor(k/60),"min ").concat(Math.floor(k%60),"s"),[k]);return(0,t.jsxs)("div",{className:(0,r.cn)("flex flex-col gap-4",f),ref:u,...p,children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:x("input-audio")}),(0,t.jsxs)(d.Tabs,{defaultValue:"upload",children:[(0,t.jsxs)(d.TabsList,{children:[(0,t.jsx)(d.TabsTrigger,{className:"data-[state=active]:border-b-2",value:"upload",children:x("audio-file.upload")}),(0,t.jsx)(d.TabsTrigger,{className:"data-[state=active]:border-b-2",value:"record",children:x("audio-file.record")})]}),(0,t.jsx)(d.TabsContent,{value:"upload",children:(0,t.jsx)("div",{className:"flex flex-col gap-4",children:(0,t.jsx)(n.FileUpload,{dropable:!0,multiple:!0,accept:"audio/*,".concat(P.map(e=>".".concat(e)).join(",")),onChange:j,children:(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("div",{className:"text-sm font-semibold",children:x("audio-file.title")}),(0,t.jsx)("div",{className:"text-xs font-medium text-badge-info-ground",children:"Max file size: 32 MB"})]})})})}),(0,t.jsx)(d.TabsContent,{value:"record",children:(0,t.jsx)(N,{onRecord:e=>{j([e])}})})]}),h.getValues().voices.map((e,r)=>(0,t.jsx)(M,{file:e,onDelete:()=>{let e=h.getValues().voices.filter((e,t)=>t!==r);h.setValue("voices",e)}},r)),(0,t.jsx)(i.Card,{className:"shadow-none hover:shadow-md",children:(0,t.jsxs)(i.CardContent,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{children:[x("duration")," ",E]}),(0,t.jsx)("div",{children:h.getValues().voices.length?_?(0,t.jsxs)("div",{className:"flex text-sm font-medium",children:[(0,t.jsx)(c.CheckCircle,{className:"mr-2 h-5 w-5 text-icon-green"}),x("audio.good")]}):(0,t.jsxs)("div",{className:"flex text-sm font-medium",children:[(0,t.jsx)(m.default,{className:"mr-2 h-5 w-5 text-icon-red"}),x("audio.not-good")]}):x("duration-indicator")})]}),(0,t.jsxs)(s,{className:"mt-[1.625rem]",children:[(0,t.jsx)(o,{className:"bg-card px-1",position:b[0]/b[2]*90,text:x("min")}),(0,t.jsx)(o,{className:"bg-card px-1",position:b[1]/b[2]*90,text:x("recommend")}),(0,t.jsx)(o,{className:"bg-card px-1",position:90,text:x("max")}),(0,t.jsx)(l,{progress:R})]}),(0,t.jsx)("div",{className:"mt-4 text-sm font-normal text-badge-info-ground",children:x("duration-info",{min:b[0],recommend:b[1],max:b[2]})})]})})]})}).displayName="InputAudioForm",e.s(["default",()=>Z],763533);var R=e.i(707621),E=e.i(37727),F=e.i(129160),S=e.i(168202),T=e.i(918871),A=e.i(8553);let I=[{title:"public",value:"public",description:"public_des"},{title:"unlist",value:"unlist",description:"unlist_des"},{title:"private",value:"private",description:"private_des"}],Z=function(){let e=(0,g.useFormContext)(),r=(0,y.useTranslations)("train-new-model"),[n,i]=(0,a.useState)(!1),{userPackage:s}=(0,w.usePackage)(),{counts:o,isLoading:l}=(0,S.useVoiceCounts)(),[c,u]=(0,a.useState)(!1),[m,f]=(0,a.useState)("private_not_allowed");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.FormField,{control:e.control,name:"visibility",render:e=>{let{field:a}=e;return(0,t.jsxs)(v.FormItem,{children:[(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,t.jsx)("span",{className:"text-sm",children:r("type")}),(0,t.jsxs)(F.Popover,{open:n,onOpenChange:i,children:[(0,t.jsx)(F.PopoverTrigger,{children:(0,t.jsx)(R.CircleAlert,{className:"h4 w-4 text-gray-1"})}),(0,t.jsxs)(F.PopoverContent,{align:"start",className:"md:w-[25.125rem]",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-bold",children:r("what_type_title")}),(0,t.jsx)("span",{className:"cursor-pointer",onClick:()=>i(!1),children:(0,t.jsx)(E.X,{})})]}),(0,t.jsx)("div",{className:"mt-4 flex flex-col gap-4",children:I.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:r(e.title)}),(0,t.jsx)("div",{className:"mt-2",children:r(e.description)})]},e.value))})]})]})]}),(0,t.jsx)(v.FormControl,{children:(0,t.jsxs)(d.Tabs,{className:"mt-2",...a,onValueChange:e=>((e,t,r)=>{if(l)return void r(e);let a=(0,T.canCreateVoice)(null==s?void 0:s.type,e,o);if(!a.allowed){f(a.reason),u(!0);return}r(e)})(e,a.value,a.onChange),children:[(0,t.jsx)(d.TabsList,{className:"mb-0 flex gap-2 border-none bg-transparent p-0 text-muted-foreground",children:I.map(e=>{let a=!(l?{allowed:!0}:(0,T.canCreateVoice)(null==s?void 0:s.type,e.value,o)).allowed;return(0,t.jsx)(d.TabsTrigger,{className:"inline-flex h-8 items-center justify-center whitespace-nowrap rounded-full border-none bg-transparent px-4 py-1 text-sm font-normal shadow-none transition-all data-[state=active]:bg-gray-200 data-[state=active]:text-foreground data-[state=active]:shadow-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:data-[state=active]:bg-gray-700 ".concat(a?"opacity-60":""),value:e.value,children:r(e.title)},e.value)})}),I.map(e=>(0,t.jsx)(d.TabsContent,{className:"mt-2 text-xs text-gray-1",value:e.value,children:r(e.description)},e.value))]})}),(0,t.jsx)(v.FormMessage,{})]})}}),(0,t.jsx)(A.VoiceSlotUpgradeModal,{open:c,onOpenChange:u,reason:m,currentCounts:o})]})}},455592,e=>{"use strict";e.s(["default",()=>ea],455592);var t=e.i(843476),r=e.i(585264),a=e.i(800622),n=e.i(763533),i=e.i(271645),s=e.i(647163),o=e.i(653145),l=e.i(4272),d=e.i(664659),c=e.i(655900),u=e.i(569074),m=e.i(387951),f=e.i(153691),p=e.i(269638),h=e.i(729590);e.i(283086);var x=e.i(572226),g=e.i(951577),v=e.i(201833),b=e.i(129668),y=e.i(770703);e.i(689593);var j=e.i(717889);let w=(0,y.default)(()=>e.A(86932),{loadableGenerated:{modules:[622050]},ssr:!1});function N(e){var a;let{onProceedToForm:n,showForm:u,onBackToUpload:f,children:p,headerContent:h,setHasValidAudio:x}=e,g=(0,r.useTranslations)("train-new-model"),v=(0,o.useFormContext)(),{userPackage:y}=(0,b.usePackage)(),[j,w]=i.useState("instant"),[N,C]=i.useState(!1),[_,M]=i.useState(""),P=i.useMemo(()=>(null==y?void 0:y.type)!=="free"?[10,30,210]:[10,30,90],[y]),[R,E]=i.useState(0);i.useEffect(()=>{E(0);let e=v.getValues().voices;e&&e.length>0&&e.forEach(e=>{(0,s.computeAudioDuration)(e).then(e=>{E(t=>t+e)})})},[v.watch("voices")]);let F=i.useMemo(()=>R>=P[0]&&R<=P[2],[R,P]),S=(null==(a=v.watch("voices"))?void 0:a.length)>0&&F;i.useEffect(()=>{x(S)},[S,x]);let T=i.useMemo(()=>Math.min(R/P[2]*90,100),[R,P]),A=i.useMemo(()=>R<60?"".concat(Math.floor(R),"s"):"".concat(Math.floor(R/60),"min ").concat(Math.floor(R%60),"s"),[R]);function I(e){let t=new Set([...v.getValues().voices,...Array.from(e)]);v.setValue("voices",Array.from(t))}return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center gap-2 text-lg font-medium",children:[(0,t.jsx)(m.Mic,{className:"h-5 w-5"}),g("instantVoiceClone")]}),h,(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:(0,s.cn)("transition-all duration-500 ease-in-out",u?"pointer-events-none absolute inset-x-0 top-0 -translate-y-8 opacity-0":"relative translate-y-0 opacity-100"),children:[(0,t.jsx)(k,{onFile:I,isRecording:N,setIsRecording:C,onRecordComplete:function(e){I([e]),C(!1)},voices:v.watch("voices"),onDeleteFile:e=>{let t=v.getValues().voices.filter((t,r)=>r!==e);v.setValue("voices",t)},duration:R,durationShow:A,isGood:F,progress:T,audioGoods:P,t:g}),S&&(0,t.jsx)("div",{className:"mt-4 flex justify-center",children:(0,t.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:n,className:"relative gap-2 overflow-hidden rounded-full text-foreground",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-40 dark:opacity-60",style:{background:"conic-gradient(\n                        from 195.7deg at 50% 50%,\n                        #7147ff 0deg,\n                        rgba(66, 232, 255, 0.6) 95.01deg,\n                        rgba(255, 126, 171, 0.5) 185.59deg,\n                        #3083ff 274.88deg,\n                        #7147ff 360deg\n                      )",filter:"blur(12px)",transform:"translateZ(0)"}}),(0,t.jsx)("span",{className:"z-10",children:g("continueToDetails")}),(0,t.jsx)(d.ChevronDown,{className:"z-10 h-4 w-4",style:{animation:"bounce-center 1.2s ease-in-out infinite"}})]})})]}),(0,t.jsxs)("div",{className:(0,s.cn)("transition-all duration-500 ease-in-out",u?"relative translate-y-0 opacity-100":"pointer-events-none absolute inset-x-0 top-0 translate-y-8 opacity-0"),children:[(0,t.jsx)("div",{className:"mb-4 hidden justify-center xl:flex",children:(0,t.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:f,className:"gap-2 rounded-full text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(c.ChevronUp,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:g("backToAudio")})]})}),p]})]})})]})}function k(e){let{onFile:r,isRecording:a,setIsRecording:n,onRecordComplete:o,voices:d,onDeleteFile:c,duration:f,durationShow:x,isGood:g,progress:b,audioGoods:y,t:j}=e,[N,k]=i.useState(!1),_=i.useRef(null);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:(0,s.cn)("relative min-h-[280px] overflow-hidden rounded-2xl transition-all duration-300",N&&"bg-primary/5"),onDragOver:e=>{e.preventDefault(),k(!0)},onDragLeave:e=>{e.preventDefault(),k(!1)},onDrop:e=>{e.preventDefault(),k(!1),e.dataTransfer.files&&r(e.dataTransfer.files)},children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-30 dark:opacity-50",style:{background:"conic-gradient(\n              from 195.7deg at 50% 50%,\n              #7147ff 0deg,\n              rgba(66, 232, 255, 0.6) 95.01deg,\n              rgba(255, 126, 171, 0.5) 185.59deg,\n              #3083ff 274.88deg,\n              #7147ff 360deg\n            )",filter:"blur(60px)",transform:"translateZ(0)"}}),(0,t.jsx)("div",{className:"relative flex min-h-[280px] flex-col items-center justify-center p-8",children:a?(0,t.jsx)(w,{onRecordComplete:o}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-2 text-center text-lg font-normal",children:j("audio-file.title")}),(0,t.jsxs)("div",{className:"mb-6 text-center text-sm text-muted-foreground",children:[j("audio-file.drag_and_drop"),(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs",children:"OPUS, FLAC, WEBM, WEBA, WAV, M4A, MID, MP3, MP4, MOV - MAX 32MB"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{ref:_,type:"file",multiple:!0,accept:"audio/*,video/*",onChange:e=>{e.target.files&&(r(e.target.files),e.target.value="")},className:"hidden"}),(0,t.jsxs)(l.Button,{variant:"outline",className:"h-10 gap-2 rounded-xl",onClick:()=>{var e;return null==(e=_.current)?void 0:e.click()},children:[(0,t.jsx)(u.Upload,{className:"h-4 w-4"}),j("audio-file.upload")]}),(0,t.jsxs)(l.Button,{variant:"outline",className:"h-10 gap-2 rounded-xl",onClick:()=>n(!0),children:[(0,t.jsx)(m.Mic,{className:"h-4 w-4"}),j("audio-file.record")]})]})]})})]}),(0,t.jsx)("div",{className:"rounded-2xl",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{children:[j("duration")," ",x]}),(0,t.jsx)("div",{children:d&&d.length>0&&(g?(0,t.jsxs)("div",{className:"flex text-sm font-medium",children:[(0,t.jsx)(p.CheckCircle,{className:"mr-2 h-5 w-5 text-icon-green"}),j("audio.good")]}):(0,t.jsxs)("div",{className:"flex text-sm font-medium",children:[(0,t.jsx)(h.XCircleIcon,{className:"mr-2 h-5 w-5 text-icon-red"}),j(f<y[0]?"audio.too-short":"audio.too-long")]}))})]}),(0,t.jsxs)(v.QualitySlider,{className:"mt-4",children:[(0,t.jsx)(v.QualitySliderButton,{position:y[0]/y[2]*90,text:"".concat(y[0],"s"),label:j("min")}),(0,t.jsx)(v.QualitySliderButton,{position:y[1]/y[2]*90,text:"".concat(y[1],"s"),label:j("recommend")}),(0,t.jsx)(v.QualitySliderButton,{position:90,text:"".concat(y[2],"s"),label:j("max")}),(0,t.jsx)(v.QualitySliderProgress,{progress:b})]})]})}),d&&d.length>0&&(0,t.jsx)("div",{className:"space-y-2",children:d.map((e,r)=>(0,t.jsx)(C,{file:e,onDelete:()=>c(r)},r))})]})}function C(e){let{file:r,onDelete:a}=e,n=i.useMemo(()=>{if(!r||"number"!=typeof r.size)return"0 Bytes";let e=r.size,t=0,a=["Bytes","KB","MB"];for(;e>1024&&t<a.length-1;)e/=1024,t++;return"".concat(e.toFixed(2)," ").concat(a[t])},[r]),o=i.useRef(null),[l,d]=i.useState(!1);function c(){var e,t;null==(e=o.current)||e.pause(),null==(t=o.current)||t.remove(),d(!1)}return(0,j.useEvent)("visibilitychange",e=>{"hidden"===e.target.visibilityState&&c()}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-2xl border bg-background p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-muted",children:(0,t.jsx)(f.FileVolume,{className:"h-5 w-5 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:r.name}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:n})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{type:"button",onClick:function(){l?c():(o.current=(0,s.createAudio)(r,"audio/mp3"),o.current.play(),d(!0),o.current.onended=()=>{var e;null==(e=o.current)||e.remove(),d(!1)})},className:"p-2",children:l?(0,t.jsx)(x.PauseIcon,{className:"h-4 w-4"}):(0,t.jsx)(g.PlayIcon,{className:"h-4 w-4"})}),(0,t.jsx)("button",{type:"button",onClick:a,className:"p-2",children:(0,t.jsx)(x.Cross1Icon,{className:"h-4 w-4"})})]})]})}var _=e.i(162353),M=e.i(847136),P=e.i(657688),R=e.i(248256),E=e.i(158524),F=e.i(270756),S=e.i(788699);function T(e){let{className:a}=e,n=(0,r.useTranslations)("train-new-model"),l=(0,r.useTranslations)("train-new-model.suggested-tags"),d=(0,o.useFormContext)(),c=i.useRef(null),u=i.useRef(null),m=d.watch("cover_image"),f=d.watch("title"),p=d.watch("description"),h=d.watch("tags"),x=d.watch("visibility"),g=i.useMemo(()=>"string"==typeof m?m:m&&m instanceof Blob&&m.type&&m.type.includes("image")?URL.createObjectURL(m):null,[m]),v=i.useMemo(()=>{switch(x){case"public":default:return(0,t.jsx)(R.Globe,{className:"h-3.5 w-3.5"});case"unlist":return(0,t.jsx)(E.Link2,{className:"h-3.5 w-3.5"});case"private":return(0,t.jsx)(F.Lock,{className:"h-3.5 w-3.5"})}},[x]);return(0,t.jsxs)("div",{className:(0,s.cn)("rounded-2xl bg-accent p-4 pb-6",a),children:[(0,t.jsx)("div",{className:"mb-3 text-sm text-muted-foreground",children:n("preview")}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"group relative h-20 w-20 cursor-pointer",onClick:()=>{var e;return null==(e=c.current)?void 0:e.click()},children:[(0,t.jsx)("div",{className:"relative h-full w-full overflow-hidden rounded-full transition-transform group-hover:scale-105",children:g?(0,t.jsx)(P.default,{src:g,alt:"Cover",fill:!0,className:"object-cover"}):(0,t.jsx)("div",{className:"h-full w-full",style:{background:"conic-gradient(\n                      from 195.7deg at 50% 50%,\n                      #7147ff 0deg,\n                      rgba(66, 232, 255, 0.6) 95.01deg,\n                      rgba(255, 126, 171, 0.5) 185.59deg,\n                      #3083ff 274.88deg,\n                      #7147ff 360deg\n                    )"}})}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 flex h-6 w-6 items-center justify-center rounded-full bg-gray-200 transition-colors group-hover:bg-gray-300 dark:bg-gray-700 dark:group-hover:bg-gray-600",children:(0,t.jsx)(S.Pencil,{className:"h-3 w-3 text-gray-600 dark:text-gray-300"})}),(0,t.jsx)("input",{ref:c,type:"file",accept:"image/*",onChange:function(e){var t;null==(t=u.current)||t.open(e.target.files[0])},className:"hidden"})]})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,t.jsxs)("div",{className:"flex min-w-0 items-center gap-2",children:[(0,t.jsx)("h3",{className:"truncate text-base font-medium",children:f||n("untitledVoice")}),(0,t.jsxs)("span",{className:"flex flex-shrink-0 items-center gap-1 rounded-full bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:[v,n(x||"public")]})]}),p?(0,t.jsx)("p",{className:"mt-1 line-clamp-2 text-sm text-muted-foreground",children:p}):(0,t.jsx)("p",{className:"mt-1 text-sm italic text-muted-foreground/50",children:n("noDescription")}),(0,t.jsx)("div",{className:"mt-2 flex min-h-[1.5rem] flex-wrap gap-1.5",children:h&&h.length>0&&(0,t.jsxs)(t.Fragment,{children:[h.slice(0,5).map((e,r)=>(0,t.jsx)("span",{className:"flex h-5 items-center rounded-full bg-primary/10 px-2 text-xs text-primary",children:(0,_.getTagLabel)(e,l)},r)),h.length>5&&(0,t.jsxs)("span",{className:"flex h-5 items-center rounded-full bg-muted px-2 text-xs text-muted-foreground",children:["+",h.length-5]})]})})]})]}),(0,t.jsx)(M.PictureClip,{ref:u,onFileChange:function(e){d.setValue("cover_image",e)}})]})}var A=e.i(602946),I=e.i(653860),Z=e.i(581900),D=e.i(710619),O=e.i(258679),z=e.i(64585),V=e.i(125789),L=e.i(994814),B=e.i(952571),U=e.i(531278),H=e.i(462837),W=e.i(129160),q=e.i(160889),K=e.i(163850),G=e.i(558249),Q=e.i(846696),X=e.i(985693),J=e.i(168202),Y=e.i(918871),$=e.i(8553);let ee="train-new-model-form-data";function et(){let e=(Math.floor(12*Math.random())+1).toString().padStart(2,"0");return"https://pub-ed2d3f80bbd34baeb4b0720a347dad78.r2.dev/voice-thumbnails/thumb-".concat(e,".webp")}async function er(e,t){let r="/api/thumbnail-proxy?url=".concat(encodeURIComponent(e)),a=await fetch(r);if(!a.ok)throw Error("Failed to fetch thumbnail: ".concat(a.status));let n=await a.blob();return new File([n],t,{type:n.type})}function ea(){let e=(0,r.useTranslations)("train-new-model"),s=(0,q.useRouter)(),{userPackage:d}=(0,b.usePackage)(),{hasLogin:c,user:u}=(0,z.useUser)(),{showAuthDialog:m}=(0,V.useAuthDialog)(),{counts:f,isLoading:p,refetch:h}=(0,J.useVoiceCounts)(),[x,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)("public_limit_reached"),[j,w]=(0,i.useState)(!1),k=(0,a.useNewModelFormSchema)(null==d?void 0:d.type),C=e=>{delete e.voices;try{sessionStorage.setItem(ee,JSON.stringify(e))}catch(e){}},_=(0,o.useForm)({resolver:(0,L.zodResolver)(k),defaultValues:{title:"",description:"",type:"tts",train_mode:"fast",visibility:"public",voices:[],cover_image:null,tags:[],enhance_audio_quality:!0,confirm_voice_rights:!1}});(0,i.useEffect)(()=>{(async()=>{try{let e=et(),t=await er(e,"default-thumbnail.webp");_.setValue("cover_image",t)}catch(e){console.error("Failed to load default thumbnail:",e)}})()},[]),(0,i.useEffect)(()=>{let e=(()=>{try{let e=sessionStorage.getItem(ee);return e?JSON.parse(e):{}}catch(e){return{}}})();Object.keys(e).length>0&&Object.entries(e).forEach(e=>{let[t,r]=e;null!=r&&_.setValue(t,r)})},[_]),(0,i.useEffect)(()=>{let e=_.watch(e=>{var t;C({title:e.title,description:e.description,type:e.type,train_mode:e.train_mode,visibility:e.visibility,tags:null==(t=e.tags)?void 0:t.filter(e=>void 0!==e),enhance_audio_quality:e.enhance_audio_quality})});return()=>e.unsubscribe()},[_]);let[M,P]=(0,K.useAsyncFn)(async t=>{if(p)return;let r=t.visibility,a=(0,Y.canCreateVoice)(null==d?void 0:d.type,r,f);if(!a.allowed){y(a.reason),g(!0);return}if(!t.cover_image)try{let e=et();t.cover_image=await er(e,"default-thumbnail.webp")}catch(e){console.error("Failed to set default thumbnail:",e)}let n=localStorage.getItem("token");if((0,G.track)("voice_clone.create_clicked",{has_token:!!n,has_login:c,location:"dashboard"},u),!n){C(t),m({title:e("authenticationRequired"),description:e("loginToCreateModel"),source:"voice_clone.dashboard_submit",redirectPath:"/app/voice-cloning/"});return}try{let e=await (0,O.createModel)(t),r=await e.json();sessionStorage.removeItem(ee),h(),s.push("/app/m/".concat(r._id))}catch(r){if(r instanceof Error&&r.message.includes("401")){C(t),m({title:e("authenticationRequired"),description:e("loginToCreateModel"),source:"voice_clone.dashboard_submit_failed",redirectPath:"/app/voice-cloning/"});return}Q.toast.error(r.message)}},[f,null==d?void 0:d.type,c,u,h,p]);(0,i.useEffect)(()=>{(0,G.track)("dashboard-voice-cloning-page-open",{},u)},[u]);let[R,E]=(0,i.useState)(!1),F=[{key:"sourceAudio",label:e("sourceAudio")},{key:"voiceDetails",label:e("voiceDetails")}],S=+!!R;return(0,t.jsxs)(X.DashboardPageWrapper,{title:e("trainNewModel"),children:[(0,t.jsx)(o.FormProvider,{..._,children:(0,t.jsxs)("div",{className:"relative mx-auto flex max-w-2xl flex-1 flex-col px-4 py-6 max-md:pb-[4.25rem] lg:px-6",children:[(0,t.jsx)("nav",{className:"absolute -left-44 top-24 hidden w-44 xl:block",children:(0,t.jsx)("ul",{className:"space-y-2",children:F.map((e,r)=>{let a=0===r||j;return(0,t.jsx)("li",{children:(0,t.jsxs)("button",{type:"button",onClick:()=>{0===r&&E(!1),1===r&&j&&E(!0)},className:"flex w-full items-center gap-3 py-2 text-left transition-colors ".concat(S===r?"font-medium text-foreground":a?"text-muted-foreground hover:text-foreground":"cursor-default text-muted-foreground/50"),children:[(0,t.jsx)("span",{className:"text-sm ".concat(S===r?"text-foreground":a?"text-muted-foreground":"text-muted-foreground/50"),children:r+1}),(0,t.jsx)("span",{className:"text-sm",children:e.label})]})},e.key)})})}),(0,t.jsx)(N,{headerContent:(0,t.jsx)("nav",{className:"relative mb-6 flex items-end justify-center gap-12 xl:hidden",children:F.map((e,r)=>{let a=0===r||j;return(0,t.jsxs)(l.Button,{variant:"ghost",onClick:()=>{0===r&&E(!1),1===r&&j&&E(!0)},className:"h-auto flex-col gap-2 p-0 hover:bg-transparent ".concat(a?"cursor-pointer":"cursor-default"),children:[(0,t.jsx)("div",{className:"h-2 w-2 rounded-full transition-colors ".concat(S===r?"bg-foreground":a?"bg-muted-foreground/40":"bg-muted-foreground/20")}),(0,t.jsx)("span",{className:"text-xs font-normal transition-colors ".concat(S===r?"font-medium text-foreground":a?"text-muted-foreground":"text-muted-foreground/50"),children:e.label})]},e.key)})}),showForm:R,onProceedToForm:()=>E(!0),onBackToUpload:()=>E(!1),setHasValidAudio:w,children:(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsx)(A.FormField,{control:_.control,name:"title",render:r=>{let{field:a}=r;return(0,t.jsxs)(A.FormItem,{children:[(0,t.jsx)("div",{className:"text-sm",children:e("title")}),(0,t.jsx)(A.FormControl,{children:(0,t.jsx)(I.Input,{className:"mt-1 rounded-xl focus-visible:ring-0 focus-visible:ring-offset-0",placeholder:e("title-placeholder"),maxLength:50,...a})}),(0,t.jsx)(A.FormMessage,{})]})}}),(0,t.jsx)(a.NewModelForm,{}),(0,t.jsx)(n.default,{}),(0,t.jsx)(A.FormField,{control:_.control,name:"voices",render:()=>(0,t.jsx)(A.FormItem,{children:(0,t.jsx)(A.FormMessage,{})})}),(0,t.jsx)(T,{}),(0,t.jsx)("div",{className:"pt-4 ".concat("public"!==_.watch("visibility")?"invisible":""),children:(0,t.jsx)(A.FormField,{control:_.control,name:"confirm_voice_rights",render:r=>{let{field:a}=r;return(0,t.jsx)(A.FormItem,{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex flex-row items-center space-x-3",children:[(0,t.jsx)(A.FormControl,{children:(0,t.jsx)(Z.Checkbox,{checked:a.value,onCheckedChange:a.onChange})}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 leading-none",children:[(0,t.jsxs)(D.Label,{className:"cursor-pointer text-sm font-normal text-muted-foreground",onClick:()=>a.onChange(!a.value),children:[e("confirmVoiceRights")," ",(0,t.jsx)("span",{className:"italic",children:e("form-error.confirm_voice_rights_required")})]}),(0,t.jsx)(H.TooltipProvider,{children:(0,t.jsxs)(H.Tooltip,{children:[(0,t.jsx)(H.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(B.Info,{className:"ml-1 hidden h-4 w-4 text-muted-foreground md:block"})}),(0,t.jsx)(H.TooltipContent,{className:"max-w-xs",children:(0,t.jsx)("p",{children:e.rich("confirmVoiceRightsTooltip",{termsLink:e=>(0,t.jsx)("a",{href:"https://fish.audio/terms",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:e}),privacyLink:e=>(0,t.jsx)("a",{href:"https://fish.audio/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:e})})})})]})}),(0,t.jsxs)(W.Popover,{children:[(0,t.jsx)(W.PopoverTrigger,{asChild:!0,children:(0,t.jsx)(B.Info,{className:"ml-1 h-4 w-4 text-muted-foreground md:hidden"})}),(0,t.jsx)(W.PopoverContent,{side:"top",align:"end",className:"max-w-xs text-sm",children:(0,t.jsx)("p",{children:e.rich("confirmVoiceRightsTooltip",{termsLink:e=>(0,t.jsx)("a",{href:"https://fish.audio/terms",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:e}),privacyLink:e=>(0,t.jsx)("a",{href:"https://fish.audio/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:e})})})})]})]})]})})}})}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsxs)(l.Button,{onClick:_.handleSubmit(P),disabled:M.loading||p||!_.watch("title")||"public"===_.watch("visibility")&&!_.watch("confirm_voice_rights"),size:"lg",className:"rounded-full px-8",children:[(M.loading||p)&&(0,t.jsx)(U.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),e("create")]})})]})})]})}),(0,t.jsx)($.VoiceSlotUpgradeModal,{open:x,onOpenChange:g,reason:v,currentCounts:f})]})}},649385,e=>{e.v(t=>Promise.all(["static/chunks/b7b4ad15c223f990.js","static/chunks/316d783e23b65c8f.js"].map(t=>e.l(t))).then(()=>t(96444)))},86932,e=>{e.v(t=>Promise.all(["static/chunks/84f764fd689ea752.js","static/chunks/316d783e23b65c8f.js"].map(t=>e.l(t))).then(()=>t(622050)))}]);