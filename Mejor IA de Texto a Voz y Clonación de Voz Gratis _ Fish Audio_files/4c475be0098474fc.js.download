(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87309,913497,e=>{"use strict";e.s(["AudioLines",()=>t],87309),e.s(["default",()=>t],913497);let t=(0,e.i(475254).default)("audio-lines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]])},62932,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("file-plus-corner",[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]])},370144,e=>{"use strict";e.s(["FilePlus2",()=>t.default]);var t=e.i(62932)},236579,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("image-plus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]])},653860,e=>{"use strict";e.s(["FileUpload",()=>d,"Input",()=>i,"InputV2",()=>o,"InputV2Slot",()=>c],653860);var t=e.i(843476),s=e.i(271645),a=e.i(647163),r=e.i(370144),l=e.i(236579),l=l,n=e.i(657688);let i=s.forwardRef((e,s)=>{let{className:r,type:l,...n}=e;return"textarea"===l?(0,t.jsx)("textarea",{className:(0,a.cn)("flex h-32 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...n}):(0,t.jsx)("input",{type:l,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...n})});i.displayName="Input";let o=s.forwardRef((e,r)=>{let{className:l,type:n,children:i,...o}=e,c=s.useRef(null);return s.useImperativeHandle(r,()=>c.current,[c]),(0,t.jsxs)("div",{className:(0,a.cn)("flex h-10 w-full items-center gap-2 overflow-hidden rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-within:outline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),children:[(0,t.jsx)("input",{type:n,className:"w-0 min-w-2 flex-1 bg-transparent outline-none",ref:c,...o}),i]})});o.displayName="InputV2";let c=s.forwardRef((e,s)=>{let{className:r,side:l,...n}=e;return(0,t.jsx)("div",{className:(0,a.cn)({"-order-1":"right"!==l},"h-6 w-6 text-center leading-6",r),ref:s,...n})});c.displayName="InputV2Slot",s.forwardRef((e,r)=>{let{className:i,file:o,img:c,alt:d,...u}=e,p=s.useRef(null);s.useImperativeHandle(r,()=>p.current);let h=s.useMemo(()=>{if("string"==typeof o)return o;if(o&&o instanceof Blob&&o.type&&o.type.includes("image")){let e=URL.createObjectURL(o);return e&&""+e}return c},[o,c]);return s.useEffect(()=>()=>{h&&"string"==typeof h&&h.startsWith("blob:")&&URL.revokeObjectURL(h)},[h]),(0,t.jsxs)("div",{className:(0,a.cn)("border-file-upload-icon flex h-24 w-24 items-center justify-center rounded-md border border-dashed border-opacity-50 dark:border-white",i),onClick:function(){var e;null==(e=p.current)||e.click()},children:[h?(0,t.jsx)(n.default,{loading:"lazy",src:h,layout:"fill",className:"!relative h-full w-full object-cover",alt:d||""}):(0,t.jsx)(l.default,{className:"text-gray-1"}),(0,t.jsx)("input",{className:"hidden",ref:p,type:"file",accept:"image/jpeg,image/png,image/gif",...u})]})}).displayName="PictureUpload";let d=s.forwardRef((e,l)=>{let{className:n,children:i,dropable:o=!1,onChange:c,...d}=e,u=s.useRef(null);return s.useImperativeHandle(l,()=>u.current),(0,t.jsxs)("div",{className:(0,a.cn)("flex items-center rounded-md border border-dashed border-file-upload-border border-opacity-50 p-4",n),onClick:function(){var e;null==(e=u.current)||e.click()},onDragOverCapture:o?function(e){e.preventDefault(),e.stopPropagation()}:void 0,onDropCapture:o?function(e){e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files;t.length>0&&(null==c||c(t))}:void 0,children:[(0,t.jsx)("div",{className:"dark:bg-file-upload-icon-bg flex h-11 w-11 items-center justify-center rounded-lg bg-timeline-pointground",children:(0,t.jsx)(r.FilePlus2,{className:"text-file-upload-icon"})}),i,(0,t.jsx)("input",{className:"hidden",ref:u,type:"file",...d,onChange:function(e){e.target.files&&(null==c||c(e.target.files))}})]})});d.displayName="FileUpload"},107233,603908,e=>{"use strict";e.s(["Plus",()=>t],107233),e.s(["default",()=>t],603908);let t=(0,e.i(475254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},727612,612329,e=>{"use strict";e.s(["Trash2",()=>t],727612),e.s(["default",()=>t],612329);let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},80897,814091,e=>{"use strict";e.s(["DiscoveryPageFilter",()=>T,"DiscoveryPageSort",()=>C,"DiscoveryPageSortContext",()=>b,"LanguageFilter",()=>N,"languageNameMap",()=>k],80897);var t=e.i(843476),s=e.i(67199),a=e.i(129402),r=e.i(643531),l=e.i(271645),n=e.i(4272),i=e.i(653860),o=e.i(730062);e.s(["default",()=>c],814091);let c=(0,e.i(475254).default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var d=e.i(37727),u=e.i(162353),p=e.i(129160),h=e.i(593438),x=e.i(115052),g=e.i(647163),f=e.i(664659),m=e.i(600743),y=e.i(585264);function v(e){let{options:s,value:a,onChange:i,placeholder:o="Select languages",className:c,triggerClassName:d}=e,[u,h]=(0,l.useState)(!1),x=(0,y.useTranslations)("discovery"),v=(0,l.useRef)(null),[j,b]=(0,l.useState)(0);(0,l.useEffect)(()=>{v.current&&b(v.current.offsetWidth)},[u]);let k=e=>{if("all"===e)i(a.includes("all")?[]:["all"]);else{let t=a.filter(e=>"all"!==e);t.includes(e)?i(t.filter(t=>t!==e)):i([...t,e])}};return(0,t.jsxs)(p.Popover,{open:u,onOpenChange:h,children:[(0,t.jsx)(p.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{ref:v,variant:"outline",role:"combobox","aria-expanded":u,className:(0,g.cn)("w-full justify-between rounded-xl border bg-background font-normal",d),children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 truncate",children:[1===a.length&&!a.includes("all")&&(0,t.jsx)(m.TwemojiFlag,{locale:a[0],size:16}),(()=>{if(0===a.length)return o;if(a.includes("all"))return x("filter.language.all");if(1===a.length){let e=s.find(e=>e.value===a[0]);return(null==e?void 0:e.label)||a[0]}return"".concat(a.length," ").concat(x("filter.language.selected"))})()]}),(0,t.jsx)(f.ChevronDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(p.PopoverContent,{className:(0,g.cn)("rounded-xl p-1",c),style:{width:j>0?j:"auto"},align:"start",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)(n.Button,{type:"button",variant:"ghost",className:(0,g.cn)("flex h-auto w-full cursor-pointer items-center justify-between rounded-xl px-2 py-1.5 text-sm font-normal",a.includes("all")&&"bg-accent/50"),onClick:()=>k("all"),children:[(0,t.jsx)("span",{children:x("filter.language.all")}),a.includes("all")&&(0,t.jsx)(r.Check,{className:"h-4 w-4 text-primary"})]}),s.map(e=>{let s=a.includes(e.value);return(0,t.jsxs)(n.Button,{type:"button",variant:"ghost",className:(0,g.cn)("flex h-auto w-full cursor-pointer items-center justify-between rounded-xl px-2 py-1.5 text-sm font-normal",s&&"bg-accent/50"),onClick:()=>k(e.value),children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.TwemojiFlag,{locale:e.value,size:16}),e.label]}),s&&(0,t.jsx)(r.Check,{className:"h-4 w-4 text-primary"})]},e.value)})]})})]})}var j=e.i(462837);let b=(0,l.createContext)({form:{sort_by:"score",tags:[],languages:[],search:void 0},lngOpts:[],updateForm:()=>{}}),k={zh:"汉语",en:"English",ja:"日本語",de:"Deutsch",fr:"Français",es:"Español",ko:"한국어",ar:"العربية",ru:"Русский",nl:"Nederlands",it:"Italiano",pl:"Polski",pt:"Português"},w=(0,l.forwardRef)((e,l)=>{let{sortBy:n,onSortChange:i}=e,o=(0,y.useTranslations)("discovery");return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"mr-4 text-sm font-medium text-muted-foreground max-md:hidden",children:o("sort.title")}),(0,t.jsxs)(s.Select,{value:n,onValueChange:e=>i(e),children:[(0,t.jsx)(s.SelectTrigger,{className:"w-[180px] rounded-xl border bg-background",children:(0,t.jsx)(s.SelectValue,{})}),(0,t.jsxs)(s.SelectContent,{className:"rounded-xl",children:[(0,t.jsxs)(a.Item,{value:"score",className:"relative flex w-full cursor-default select-none items-center justify-between rounded-xl px-3 py-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",children:[(0,t.jsx)(a.ItemText,{children:o("sort.count")}),(0,t.jsx)(a.ItemIndicator,{children:(0,t.jsx)(r.Check,{className:"h-4 w-4"})})]}),(0,t.jsxs)(a.Item,{value:"created_at",className:"relative flex w-full cursor-default select-none items-center justify-between rounded-xl px-3 py-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",children:[(0,t.jsx)(a.ItemText,{children:o("sort.new")}),(0,t.jsx)(a.ItemIndicator,{children:(0,t.jsx)(r.Check,{className:"h-4 w-4"})})]})]})]})]})}),N=(0,l.forwardRef)((e,l)=>{let{languageValue:n,onLanguageChange:i,languageOptions:o,disabled:c,disabledCount:d}=e,u=(0,y.useTranslations)("discovery"),p=[...new Set([...o,"ru","pt"])],h=c&&d?"".concat(d," ").concat(u("filter.language.selected")):void 0,x=(0,t.jsxs)("div",{className:"hidden items-center md:flex",children:[(0,t.jsx)("span",{className:"mr-4 text-sm font-medium text-muted-foreground",children:u("filter.language.title")}),(0,t.jsxs)(s.Select,{value:c?"":n,onValueChange:i,disabled:c,children:[(0,t.jsx)(s.SelectTrigger,{className:(0,g.cn)("w-[180px] rounded-xl border bg-background",c&&"cursor-not-allowed opacity-50"),children:h?(0,t.jsx)("span",{children:h}):(0,t.jsx)(s.SelectValue,{placeholder:u("filter.language.placeholder")})}),(0,t.jsxs)(s.SelectContent,{className:"rounded-xl",children:[(0,t.jsxs)(a.Item,{value:"all",className:"relative flex w-full cursor-default select-none items-center justify-between rounded-xl px-3 py-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",children:[(0,t.jsx)(a.ItemText,{children:u("filter.language.all")}),(0,t.jsx)(a.ItemIndicator,{children:(0,t.jsx)(r.Check,{className:"h-4 w-4"})})]}),p.map(e=>(0,t.jsxs)(a.Item,{value:e,className:"relative flex w-full cursor-default select-none items-center justify-between rounded-xl px-3 py-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",children:[(0,t.jsx)(a.ItemText,{children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.TwemojiFlag,{locale:e,size:16}),k[e]||e]})}),(0,t.jsx)(a.ItemIndicator,{children:(0,t.jsx)(r.Check,{className:"h-4 w-4"})})]},e))]})]})]});return c?(0,t.jsx)(j.TooltipProvider,{children:(0,t.jsxs)(j.Tooltip,{children:[(0,t.jsx)(j.TooltipTrigger,{asChild:!0,children:x}),(0,t.jsx)(j.TooltipContent,{children:(0,t.jsx)("p",{children:u("filter.language.disabled_hint")})})]})}):x});function C(){(0,y.useTranslations)("discovery");let{updateForm:e,form:s,lngOpts:a}=(0,l.useContext)(b),r=s.languages.length>1,n=0===s.languages.length||s.languages.includes("all")?"all":s.languages[0];return(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(w,{sortBy:s.sort_by,onSortChange:t=>e({...s,sort_by:t})}),(0,t.jsx)(N,{languageValue:r?"all":n,onLanguageChange:t=>e({...s,languages:"all"===t?[]:[t]}),languageOptions:a,disabled:r,disabledCount:r?s.languages.length:void 0})]})}let _=(0,l.forwardRef)((e,s)=>{let{title:a,children:r,className:l,...n}=e;return(0,t.jsxs)("div",{ref:s,className:"mb-6",...n,children:[(0,t.jsx)("h4",{className:"mb-1.5 text-sm font-medium",children:a}),r]})});function T(e){let{context:s=b}=e,a=(0,y.useTranslations)("discovery"),r=(0,y.useTranslations)("train-new-model.suggested-tags"),f=(0,y.useTranslations)("train-new-model.tag-categories"),m=(0,x.useIsMobile)(),[j,w]=(0,l.useState)(!1),[N,C]=(0,l.useState)(""),[T,S]=(0,l.useState)(new Set),M=(0,t.jsx)(n.Button,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-xl",children:(0,t.jsx)(c,{className:"h-4 w-4"})}),{updateForm:I,form:P,lngOpts:D}=(0,l.useContext)(s),A=(0,y.useLocale)(),[F,L]=(0,l.useState)({tags:P.tags,languages:P.languages});function E(e){F.tags.includes(e)?L({...F,tags:F.tags.filter(t=>t!==e)}):L({...F,tags:[...F.tags,e]})}(0,l.useEffect)(()=>{L({tags:P.tags,languages:P.languages})},[P]);let R=N.trim().toLowerCase(),z=R.length>0,O=Object.entries(u.TAG_CATEGORIES).map(e=>{let[t,s]=e,a=[...s.tags];return z&&(a=a.filter(e=>r(e).toLowerCase().includes(R)||e.includes(R))),{categoryKey:t,category:s,availableTags:a}}),U=(0,t.jsx)(n.Button,{variant:"link",size:"sm",className:"h-auto p-0 text-muted-foreground hover:text-foreground",onClick:function(){L({tags:[],languages:["zh-CN"===A?"zh":A]}),C(""),S(new Set)},children:a("reset")}),B=(0,t.jsxs)("div",{className:"relative flex max-h-[70vh] flex-col p-4 md:max-h-[50vh] md:p-1",children:[m?(0,t.jsxs)(h.DrawerHeader,{className:"-mt-6 mb-4 flex items-center justify-between p-0",children:[(0,t.jsx)(h.DrawerTitle,{children:a("filter.title")}),(0,t.jsxs)("div",{className:"flex gap-4",children:[U,(0,t.jsx)(h.DrawerClose,{className:"text-muted-foreground",children:(0,t.jsx)(d.X,{className:"h-5 w-5"})})]})]}):(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:a("filter.title")}),U]}),(0,t.jsxs)("div",{"data-vaul-no-drag":!0,className:"min-h-0 flex-1 touch-pan-y overflow-y-auto",children:[(0,t.jsxs)(_,{title:a("filter.language.title_plural"),children:[(0,t.jsx)("p",{className:"mb-2 text-xs text-muted-foreground",children:a("filter.language.match_all_hint")}),(0,t.jsx)(v,{options:[...new Set([...D,"ru","pt"])].map(e=>({value:e,label:k[e]||e})),value:F.languages,onChange:e=>L({...F,languages:e}),placeholder:a("filter.language.placeholder"),triggerClassName:"w-full"})]}),(0,t.jsxs)(_,{title:a("filter.tags.title"),children:[(0,t.jsxs)("div",{className:"relative mb-3",children:[(0,t.jsx)(i.Input,{type:"text",value:N,onChange:e=>C(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&N.trim()){e.preventDefault();let t=N.trim();F.tags.includes(t)||L({...F,tags:[...F.tags,t]}),C("")}},placeholder:a("filter.tags.placeholder"),className:"rounded-xl"}),N.trim()&&(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-muted-foreground",children:"Press Enter to add"})]}),F.tags.filter(e=>!u.SUGGESTED_TAG_KEYS.includes(e)).length>0&&(0,t.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:F.tags.filter(e=>!u.SUGGESTED_TAG_KEYS.includes(e)).map(e=>(0,t.jsxs)(o.Badge,{variant:"outline",className:"cursor-pointer border-primary bg-primary/10 font-normal text-primary hover:bg-primary/20",onClick:()=>E(e),children:[e,(0,t.jsx)(d.X,{className:"ml-1 h-3 w-3"})]},e))}),(0,t.jsx)("div",{className:"space-y-3",children:O.map(e=>{let{categoryKey:s,category:a,availableTags:l}=e;if(0===l.length)return null;let i=T.has(s),c=z||i?l:l.slice(0,6),d=l.length-6;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-1.5 text-xs font-medium text-muted-foreground",children:f(a.labelKey)}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[c.map(e=>{let s=F.tags.includes(e);return(0,t.jsx)(o.Badge,{variant:"outline",className:(0,g.cn)("cursor-pointer whitespace-nowrap font-normal transition-colors",s?"border-primary bg-primary/10 text-primary hover:bg-primary/20":"hover:border-primary hover:text-primary"),onClick:()=>{E(e),C("")},children:r(e)},e)}),d>0&&!z&&(0,t.jsx)(n.Button,{type:"button",variant:"ghost",onClick:()=>{S(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},className:"h-auto px-2 py-1 text-xs text-primary underline-offset-2 hover:bg-transparent hover:underline",children:i?f("showLess"):f("showMoreCount",{count:d})})]})]},s)})})]})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)(n.Button,{className:"w-full rounded-xl",onClick:function(){I({...P,...F}),w(!1)},children:a("filter.apply")})})]});return m?(0,t.jsxs)(h.Drawer,{open:j,onOpenChange:w,modal:!1,children:[(0,t.jsx)(h.DrawerTrigger,{asChild:!0,children:M}),(0,t.jsx)(h.DrawerContent,{children:B})]}):(0,t.jsxs)(p.Popover,{open:j,onOpenChange:w,children:[(0,t.jsx)(p.PopoverTrigger,{asChild:!0,children:M}),(0,t.jsx)(p.PopoverContent,{className:"w-80 rounded-xl",align:"end",children:B})]})}_.displayName="DiscoveryPageFormItem",w.displayName="SortFilter",N.displayName="LanguageFilter"},489385,350962,e=>{"use strict";e.s(["SquareArrowOutUpRight",()=>t],489385),e.s(["default",()=>t],350962);let t=(0,e.i(475254).default)("square-arrow-out-up-right",[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]])},227516,565123,e=>{"use strict";e.s(["History",()=>t],227516),e.s(["default",()=>t],565123);let t=(0,e.i(475254).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},621241,e=>{"use strict";e.s(["HIGH_TIER_CONCURRENCY_LIMIT",()=>s,"deleteAPIKey",()=>i,"getAPIConcurrency",()=>u,"getAPIKey",()=>r,"getAPIPrice",()=>c,"getAPIStats",()=>o,"listAPIKey",()=>a,"postAPIKey",()=>l,"putAPIKey",()=>n,"putAPIUserPrice",()=>d]);var t=e.i(100574);let s=15,a=t.fetcher.path("/apikey").method("get").create(),r=t.fetcher.path("/apikey/{apikey}").method("get").create(),l=t.fetcher.path("/apikey").method("post").create(),n=t.fetcher.path("/apikey/{apikey}").method("put").create(),i=t.fetcher.path("/apikey/{apikey}").method("delete").create(),o=t.fetcher.path("/api/stats").method("get").create(),c=t.fetcher.path("/api/price").method("get").create(),d=t.fetcher.path("/api/price/{user_id}").method("put").create(),u=t.fetcher.path("/api/concurrency").method("get").create()},30259,e=>{"use strict";function t(e){return Array.isArray(e)?e:e.current}function s(e){return Array.isArray(e)?{current:e,previous:null}:{current:e.current,previous:e.previous}}e.s(["getStatsArray",()=>t,"getStatsData",()=>s])},153691,361372,e=>{"use strict";e.s(["FileVolume",()=>t],153691),e.s(["default",()=>t],361372);let t=(0,e.i(475254).default)("file-volume",[["path",{d:"M4 11.55V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-1.95",key:"44gpjv"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 15a5 5 0 0 1 0 6",key:"oxg87a"}],["path",{d:"M8 14.502a.5.5 0 0 0-.826-.381l-1.893 1.631a1 1 0 0 1-.651.243H3.5a.5.5 0 0 0-.5.501v3.006a.5.5 0 0 0 .5.501h1.129a1 1 0 0 1 .652.243l1.893 1.633a.5.5 0 0 0 .826-.38z",key:"8rtoi1"}]])},708640,e=>{"use strict";e.s(["CreditsRemainingBar",()=>y]);var t=e.i(843476),s=e.i(271645),a=e.i(64585),r=e.i(568541),l=e.i(621241),n=e.i(163850),i=e.i(585264),o=e.i(878894),c=e.i(647163),d=e.i(716406),u=e.i(129668),p=e.i(740251),h=e.i(462837),x=e.i(30259);let g=e=>{let{className:a,...r}=e,l=(0,s.useId)(),n="url(#".concat(l,")");return(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:(0,c.cn)("h-3.5 w-3.5",a),...r,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:l,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#A855F7"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#3B82F6"})]})}),(0,t.jsx)("path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",stroke:n,opacity:.8}),(0,t.jsx)("path",{d:"M20 3v4",stroke:n,opacity:.9}),(0,t.jsx)("path",{d:"M22 5h-4",stroke:n,opacity:.9}),(0,t.jsx)("path",{d:"M4 17v2",stroke:n,opacity:.9}),(0,t.jsx)("path",{d:"M5 18H3",stroke:n,opacity:.9})]})},f=()=>{let e=(0,i.useTranslations)("nav"),a=(0,p.useSocialLinks)(),[r,l]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=window.matchMedia("(hover: hover)");o(e.matches);let t=e=>o(e.matches);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]);let c=(0,s.useMemo)(()=>e.rich("extraCredits.tooltip",a),[e,a]);return(0,t.jsxs)(h.Tooltip,{open:r,onOpenChange:e=>{n&&l(e)},children:[(0,t.jsx)(h.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("button",{type:"button",className:"ml-3 inline-flex items-center rounded-full bg-white/80 p-1 shadow-sm ring-1 ring-black/5 transition hover:bg-white dark:bg-[#1F1F25]/70 dark:shadow-none dark:ring-white/10 dark:hover:bg-[#1F1F25]",onClick:e=>{e.preventDefault(),e.stopPropagation(),n||l(e=>!e)},onBlur:()=>{n||l(!1)},children:(0,t.jsx)(g,{className:"cursor-pointer transition-opacity hover:opacity-80"})})}),(0,t.jsx)(h.TooltipContent,{side:"top",sideOffset:8,className:"max-w-xs text-left text-xs leading-relaxed",onPointerDownOutside:()=>{n||l(!1)},children:c})]})};function m(e){let{progress:s,isUnlimited:a=!1,size:r="sm"}=e,{svg:l,cx:n,radius:i}="md"===r?{svg:20,cx:10,radius:7.5}:{svg:16,cx:8,radius:6},o=2*Math.PI*i;return(0,t.jsx)("svg",{width:l,height:l,viewBox:"0 0 ".concat(l," ").concat(l),className:"flex-shrink-0",children:a?(0,t.jsx)("circle",{cx:n,cy:n,r:i,stroke:"currentColor",strokeWidth:"1.5",fill:"none",className:"text-purple-500 transition-all duration-300 ease-in-out"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("circle",{cx:n,cy:n,r:i,stroke:"currentColor",strokeWidth:"1.5",fill:"none",className:"text-purple-500"}),(0,t.jsx)("circle",{cx:n,cy:n,r:i,stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeDasharray:o,strokeDashoffset:o-s/100*o,className:"text-[#FAFAFA] transition-all duration-300 ease-in-out dark:text-[#1D1D20]",transform:"rotate(-90 ".concat(n," ").concat(n,")")})]})})}function y(e){var p,g;let{className:y,version:v,textClassName:j,circleSize:b="sm",showExtraCreditsIcon:k=!0}=e,w=(0,i.useTranslations)("text-to-speech"),N=(0,i.useTranslations)("nav"),{user:C}=(0,a.useUser)(),{userPackage:_}=(0,u.usePackage)(),[T,S]=(0,s.useState)(0),[M,I]=(0,s.useState)(0),[P,D]=(0,s.useState)(0),[A,F]=(0,s.useState)(0),[L,E]=(0,s.useState)(null),[,R]=(0,n.useAsyncFn)(async()=>{(null==C?void 0:C._id)&&S(Number((await (0,r.getWalletAPICredit)({user_id:C._id})).data.credit||0))},[null==C?void 0:C._id]),[,z]=(0,n.useAsyncFn)(async()=>{let e=(await (0,l.getAPIPrice)({})).data.find(e=>"tts"===e.product);e&&I(Number(e.price))},[]),[,O]=(0,n.useAsyncFn)(async()=>{if(null==C?void 0:C._id)try{let e=await (0,r.getAPICreditHistory)({user_id:C._id,page_num:1,page_size:100}),t=new Date;t.setDate(t.getDate()-31);let s=e.data.items.filter(e=>{let s=new Date(e.created_at),a=Number(e.amount)>0,r=s>=t;return a&&r}).sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime());if(s.length>0){let e=s[0],t=new Date(e.created_at);t.setDate(t.getDate()-1),E(t.toISOString())}else E(t.toISOString())}catch(t){console.error("Failed to fetch cycle start date:",t);let e=new Date;e.setDate(e.getDate()-31),E(e.toISOString())}},[null==C?void 0:C._id]),[,U]=(0,n.useAsyncFn)(async()=>{if((null==C?void 0:C._id)&&L)try{let e=await (0,l.getAPIStats)({time_range:"30days"}),t=(0,x.getStatsArray)(e.data),s=new Date(L),a=t.filter(e=>{let t=new Date(e.hour),a="tts"===e.product;return t>=s&&a}).reduce((e,t)=>e+Number(t.money||0),0);F(a)}catch(e){console.error("Failed to fetch credit usage:",e),F(0)}},[null==C?void 0:C._id,L]);(0,s.useEffect)(()=>{let e=(null==_?void 0:_.type)==="paid";(null==C?void 0:C._id)&&"s1"===v&&e&&(R(),O())},[R,O,null==C?void 0:C._id,v,null==_?void 0:_.type]),(0,s.useEffect)(()=>{let e=(null==_?void 0:_.type)==="paid";"s1"===v&&e&&z()},[z,v,null==_?void 0:_.type]),(0,s.useEffect)(()=>{let e=(null==_?void 0:_.type)==="paid";"s1"===v&&L&&e&&U()},[U,v,L,null==_?void 0:_.type]),(0,s.useEffect)(()=>{M>0&&D(Math.floor(T/M*1e6))},[T,M]);let B=(null==_?void 0:_.type)==="paid",H=B&&"s1"===v&&A+T>0?A/(A+T)*100:_&&_.total>0?(_.total-_.balance)/_.total*100:0,V=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"".concat(e.toFixed(2)):e>=1e6?"".concat(Math.floor(e/1e6*10)/10,"M"):e>=1e4?"".concat(Math.floor(e/1e3).toLocaleString(),"k"):e>=1e3?"".concat(Math.floor(e/1e3*10)/10,"k"):"".concat(e.toLocaleString())},K=e=>e.toLocaleString();if(!C||!_)return null;if(B){let e,s="flex cursor-pointer items-center gap-2 py-2";return e="s1"!==v?(0,t.jsxs)(h.Tooltip,{children:[(0,t.jsx)(h.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("div",{className:s,children:[(0,t.jsx)(m,{progress:100,isUnlimited:!0,size:b}),(0,t.jsx)("span",{className:(0,c.cn)("whitespace-nowrap text-xs text-std-text-secondary",j),children:w("tokens_progress.unlimited_generations")})]})}),(0,t.jsx)(h.TooltipContent,{children:(0,t.jsx)("div",{className:"flex flex-col gap-1",children:(0,t.jsx)("span",{className:"text-xs opacity-80",children:w("tokens_progress.premium_unlimited_tooltip")})})})]}):(0,t.jsxs)(h.Tooltip,{children:[(0,t.jsx)(h.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("div",{className:s,children:[(0,t.jsx)(m,{progress:H,isUnlimited:!1,size:b}),(0,t.jsx)("span",{className:(0,c.cn)("whitespace-nowrap text-xs text-std-text-secondary",j),children:w("tokens_progress.credits_remaining",{credits:V(P)})})]})}),(0,t.jsx)(h.TooltipContent,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("span",{className:"text-xs",children:[w("tokens_progress.credits_used_cycle")," ",K(M>0?Math.floor(A/M*1e6):0)," ",w("tokens_progress.characters")]}),(0,t.jsx)("span",{className:"text-xs",children:w("tokens_progress.remaining_credits",{credits:K(P)})})]})})]}),(0,t.jsx)(h.TooltipProvider,{delayDuration:400,children:(0,t.jsxs)("div",{className:(0,c.cn)("flex items-center gap-2",y),children:[e,(0,t.jsxs)(h.Tooltip,{children:[(0,t.jsx)(h.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("button",{type:"button",className:"flex items-center justify-center rounded-sm p-1 text-gray-400 transition-colors hover:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-300 dark:text-gray-500 dark:hover:text-gray-400 dark:focus-visible:ring-gray-500","aria-label":w("tokens_progress.legacy_note"),children:(0,t.jsx)(o.AlertTriangle,{className:"h-4 w-4"})})}),(0,t.jsx)(h.TooltipContent,{className:"max-w-xs text-xs",children:(0,t.jsxs)("span",{children:[w("tokens_progress.legacy_note")," ",(0,t.jsx)("a",{href:d.LINKS.premiumLegacyPlanUpdates,target:"_blank",rel:"noopener noreferrer",className:"text-std-text-primary underline hover:text-std-text-secondary",children:w("tokens_progress.legacy_note_cta")})]})})]})]})})}let G=null!=(p=_.balance)?p:0,q=null!=(g=_.total)?g:0,W=V(G),Y="lite"===_.type||"plus"===_.type||"pro"===_.type;return(0,t.jsx)(h.TooltipProvider,{delayDuration:400,children:(0,t.jsxs)("div",{className:(0,c.cn)("flex items-center",y),children:[(0,t.jsxs)(h.Tooltip,{children:[(0,t.jsx)(h.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("div",{className:"flex cursor-pointer items-center gap-2 py-2",children:[(0,t.jsx)(m,{progress:H,isUnlimited:!1,size:b}),(0,t.jsx)("span",{className:(0,c.cn)("whitespace-nowrap text-xs text-std-text-secondary",j),children:w("tokens_progress.credits_remaining",{credits:W})})]})}),(0,t.jsx)(h.TooltipContent,{children:(()=>{if(!Y)return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-xs",children:w("tokens_progress.free_plan_usage")}),(0,t.jsx)("span",{className:"text-xs",children:w("tokens_progress.remaining_credits_free",{balance:K(G),total:K(q)})})]});{let e="paid"===_.type?"Premium":_.type.charAt(0).toUpperCase()+_.type.slice(1);return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-xs",children:N("premium_bar.paid_plan",{planName:e})}),(0,t.jsx)("span",{className:"text-xs",children:w("tokens_progress.remaining_credits_free",{balance:K(G),total:K(q)})})]})}})()})]}),k&&(0,t.jsx)(f,{})]})})}}]);