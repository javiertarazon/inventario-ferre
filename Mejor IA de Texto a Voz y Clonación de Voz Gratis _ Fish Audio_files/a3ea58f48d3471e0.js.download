(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,141632,e=>{"use strict";e.s(["overviewAsr",()=>n,"overviewTTS",()=>l,"topModels",()=>r,"topUsers",()=>a]);var t=e.i(100574),s=e.i(874183),i=e.i(307523);let r=t.fetcher.path("/overview/top_models").method("get").create(),a=t.fetcher.path("/overview/top_users").method("get").create();t.fetcher.path("/overview/home/tts/models").method("get").create();let l=async e=>{let{text:i,model_id:r,recaptcha:a,posthog_distinct_id:l}=e,n=new AbortController,o=setTimeout(()=>n.abort(),36e5),c=await fetch("".concat(t.BASE_URL,"/overview/home/tts"),{method:"POST",headers:{authorization:(0,t.getAuthorization)(),"content-type":"application/json"},body:JSON.stringify({text:i,model_id:r,recaptcha:a,posthog_distinct_id:l}),signal:n.signal});if(clearTimeout(o),401==c.status&&(0,t.handle401)(),!c.ok)if(c.status>=400&&c.status<500)(0,t.handle4xx)(await c.json());else throw Error("Unknown error occurred");let d=c.body.getReader();return c.headers.forEach((e,t)=>{console.log(t,e)}),{audio:new s.AudioPlayer(d)}},n=async e=>{let s=(0,i.serialize)(e,{noAttributesWithArrayNotation:!0,noFilesWithArrayNotation:!0,dotsForObjectNotation:!0,nullsAsUndefineds:!0}),r=await fetch("".concat(t.BASE_URL,"/overview/home/asr"),{method:"POST",headers:{authorization:(0,t.getAuthorization)()},body:s});if(401==r.status&&(0,t.handle401)(),!r.ok)if(r.status>=400&&r.status<500)(0,t.handle4xx)(await r.json());else throw Error("Unknown error occurred");return r}},472132,e=>{"use strict";e.s(["CommunityLinks",()=>n,"FooterDesktopColumn",()=>d,"FooterDropdown",()=>c,"TermLinks",()=>o]);var t=e.i(843476),s=e.i(271645),i=e.i(522016),r=e.i(664659),a=e.i(647163),l=e.i(100574);function n(e){let{communityConfig:s}=e,r=(0,l.isCnEnvironment)()?[s[0],s[4]]:s;return(0,t.jsx)("div",{className:"mt-12 flex gap-4 md:mt-0",children:r.map(e=>(0,t.jsx)(i.default,{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"text-black transition-colors hover:text-gray-500 dark:text-white dark:hover:text-gray-300",children:e.icon},e.href))})}function o(e){let{termConfig:s}=e,r=(0,l.isCnEnvironment)()?s:s.slice(0,3);return(0,t.jsx)("div",{className:"mt-4 flex gap-4 md:mt-0",children:r.map(e=>{let s=!e.href.startsWith("/");return(0,t.jsx)(i.default,{className:"text-xs font-medium text-black transition-colors hover:text-gray-500 dark:text-white dark:hover:text-gray-300",href:e.href,...s&&{target:"_blank",rel:"noopener noreferrer"},children:e.title},e.title)})})}function c(e){let{title:l,children:n}=e,[o,c]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"md:hidden",children:[(0,t.jsxs)("button",{onClick:()=>c(!o),className:"flex w-full items-center justify-between py-3 text-left text-sm font-bold text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("span",{children:l}),(0,t.jsx)(r.ChevronDown,{className:(0,a.cn)("h-4 w-4 transition-transform",o&&"rotate-180")})]}),(0,t.jsx)("div",{className:(0,a.cn)("overflow-hidden transition-all duration-200",o?"max-h-96":"max-h-0"),children:(0,t.jsx)("ul",{className:"flex flex-col gap-2 pb-3 pt-2",children:n.map(e=>{let s=!e.href.startsWith("/");return(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{className:"text-sm text-black transition-colors hover:text-gray-500 dark:text-white dark:hover:text-gray-300",href:e.href,...s&&{target:"_blank",rel:"noopener noreferrer"},children:e.title})},e.title)})})})]})}function d(e){let{title:s,children:r}=e;return(0,t.jsxs)("nav",{className:"hidden md:block",children:[(0,t.jsx)("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:s}),(0,t.jsx)("ul",{className:"mt-2 flex flex-col gap-2 text-sm md:mt-4 md:gap-4",children:r.map(e=>{let s=!e.href.startsWith("/");return(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{className:"text-black transition-colors hover:text-gray-500 dark:text-white dark:hover:text-gray-300",href:e.href,...s&&{target:"_blank",rel:"noopener noreferrer"},children:e.title})},e.title)})})]})}},552389,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(843476),s=e.i(271645),i=e.i(363178),r=e.i(115052),a=e.i(647163),l=e.i(846932);let n=(0,s.lazy)(async()=>{let{default:s,Layout:i,Fit:r,Alignment:n}=await e.A(230347);return{default:e=>{let{isDark:o}=e;return(0,t.jsxs)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 h-full w-full",children:[(0,t.jsx)("div",{className:(0,a.cn)("absolute left-0 top-0 z-[1] w-full bg-gradient-to-b from-background to-transparent dark:h-[100px]",{hidden:!o})}),(0,t.jsx)(s,{className:(0,a.cn)({hidden:!o}),src:"/fish.audio.riv",layout:new i({fit:r.Cover,alignment:n.Center})}),(0,t.jsx)("div",{className:(0,a.cn)("absolute bottom-0 left-0 z-[1] w-full bg-gradient-to-t from-background to-transparent dark:h-[100px]",{hidden:!o})})]})}}});function o(){let{theme:e}=(0,i.useTheme)(),a=(0,r.useIsMobile)(),[l,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{o("dark"===e)},[e]),(0,s.useEffect)(()=>{if(l&&!a){let e=setTimeout(()=>d(!0),250);return()=>clearTimeout(e)}d(!1)},[l,a]),c)?(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(n,{isDark:l})}):null}},808541,e=>{"use strict";e.s(["HookDialogProvider",()=>u,"useHookDialog",()=>h],808541);var t=e.i(843476),s=e.i(271645),i=e.i(585264),r=e.i(255566),a=e.i(219613),l=e.i(344040),n=e.i(9309),o=e.i(647163);function c(e){let{open:s,onOpenChange:c,title:d,description:u,content:h}=e,m=(0,i.useTranslations)("auth"),f=[{title:m("free-voice-generation"),icon:(0,t.jsx)(l.FreeIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:m("high-quality-audio-in-seconds"),icon:(0,t.jsx)(l.HighQualityIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:m("countless-character-sounds"),icon:(0,t.jsx)(l.CountlessCharacterSoundsIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:m("latest-ai-model"),icon:(0,t.jsx)(l.LatestAiModelIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})}];return(0,t.jsx)(r.StandardModal,{isOpen:s,onClose:()=>c(!1),backgroundComponent:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"auth-gradient-bg absolute left-0 right-0 top-0 z-[1] h-[12rem] w-full"}),(0,t.jsx)(n.PlanBgDotLeftIcon,{className:(0,o.cn)("absolute -left-4 -top-8 -z-[2] hidden w-full opacity-60 md:block")}),(0,t.jsx)(n.PlanBgDotRightIcon,{className:(0,o.cn)("absolute -right-64 -top-8 -z-[2] hidden w-full opacity-60 md:block")})]}),children:(0,t.jsxs)("div",{className:"relative w-full px-4 pb-12 md:min-w-[32rem] md:pb-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-6 text-center",children:[(0,t.jsx)(a.FishAudioIcon,{className:"h-10"}),(0,t.jsx)("div",{children:(0,t.jsx)(r.StandardDialogTitle,{className:"text-center text-2xl font-semibold tracking-tight text-std-text-heading md:text-4xl",children:d||m("unlock-full-potential")})})]}),(0,t.jsxs)("div",{className:"mt-8 flex flex-col gap-3 md:px-4",children:[(0,t.jsx)("div",{className:"mx-auto flex w-fit gap-2 md:gap-4",children:f.slice(0,2).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 text-std-text-heading",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:e.icon}),(0,t.jsx)("span",{className:"whitespace-nowrap text-xs md:text-sm",children:e.title})]},s))}),(0,t.jsx)("div",{className:"mx-auto flex w-fit justify-center gap-2 md:gap-4",children:f.slice(2,4).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 text-std-text-heading",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:e.icon}),(0,t.jsx)("span",{className:"whitespace-nowrap text-xs md:text-sm",children:e.title})]},s))})]}),(0,t.jsx)("div",{className:"separator mx-auto mb-8 mt-12 hidden w-[70%] md:block"}),(0,t.jsx)("div",{className:"my-12 flex flex-col gap-4 px-8 md:my-6 md:px-12",children:h})]})})}let d=(0,s.createContext)(void 0);function u(e){let{children:i}=e,[r,a]=(0,s.useState)(!1),[l,n]=(0,s.useState)(null),o=(0,s.useCallback)(e=>{n(e),a(!0)},[]),u=(0,s.useCallback)(()=>{a(!1),setTimeout(()=>{n(null)},100)},[]);return(0,t.jsxs)(d.Provider,{value:{openDialog:o,closeDialog:u},children:[i,(0,t.jsx)(c,{open:r,onOpenChange:a,content:l})]})}function h(){let e=(0,s.useContext)(d);if(void 0===e)throw Error("useHookDialog must be used within a HookDialogProvider");return e}},727316,e=>{"use strict";e.s(["LoginCTA",()=>g,"default",()=>b],727316);var t=e.i(843476),s=e.i(271645),i=e.i(647163),r=e.i(552389),a=e.i(808541),l=e.i(221663),n=e.i(956850),o=e.i(80075);let c={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function d(e){4===e.length&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn("Unable to convert hex string ".concat(e," to rgb values")),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function u(e){if(void 0===e)return[0,0,0];if(3==arguments.length)return arguments;if(!isNaN(e)){var t;return[((t=parseInt(t=e))>>16&255)/255,(t>>8&255)/255,(255&t)/255]}return"#"===e[0]?d(e):c[e.toLowerCase()]?d(c[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0])}class h extends Array{get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(u(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}constructor(e){if(Array.isArray(e))return super(...e);return super(...u(...arguments))}}var m=e.i(753604);function f(e){let{color:i=[1,1,1],speed:r=1,amplitude:a=.1,mouseReact:c=!1,className:d=""}=e,u=(0,s.useRef)(null),f=(0,s.useRef)({x:.5,y:.5});return(0,s.useEffect)(()=>{let e,t;if(!u.current)return;let s=u.current,d=new l.Renderer,p=d.gl;function x(){d.setSize(+s.offsetWidth,+s.offsetHeight),e&&(e.uniforms.uResolution.value=new h(p.canvas.width,p.canvas.height,p.canvas.width/p.canvas.height))}p.clearColor(1,1,1,1),window.addEventListener("resize",x,!1),x();let v=new m.Triangle(p);e=new n.Program(p,{vertex:"\nattribute vec2 uv;\nattribute vec2 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = vec4(position, 0, 1);\n}\n",fragment:"\nprecision highp float;\n\nuniform float uTime;\nuniform vec3 uColor;\nuniform vec3 uResolution;\nuniform vec2 uMouse;\nuniform float uAmplitude;\nuniform float uSpeed;\n\nvarying vec2 vUv;\n\nvoid main() {\n  float mr = min(uResolution.x, uResolution.y);\n  vec2 uv = (vUv.xy * 2.0 - 1.0) * uResolution.xy / mr;\n\n  uv += (uMouse - vec2(0.5)) * uAmplitude;\n\n  float d = -uTime * 0.5 * uSpeed;\n  float a = 0.0;\n  for (float i = 0.0; i < 8.0; ++i) {\n    a += cos(i - d - a * uv.x);\n    d += sin(uv.y * i + a);\n  }\n  d += uTime * 0.5 * uSpeed;\n  vec3 col = vec3(cos(uv * vec2(d, a)) * 0.6 + 0.4, cos(a + d) * 0.5 + 0.5);\n  col = cos(col * cos(vec3(d, a, 2.5)) * 0.5 + 0.5) * uColor;\n  gl_FragColor = vec4(col, 1.0);\n}\n",uniforms:{uTime:{value:0},uColor:{value:new h(...i)},uResolution:{value:new h(p.canvas.width,p.canvas.height,p.canvas.width/p.canvas.height)},uMouse:{value:new Float32Array([f.current.x,f.current.y])},uAmplitude:{value:a},uSpeed:{value:r}}});let g=new o.Mesh(p,{geometry:v,program:e});function b(t){let i=s.getBoundingClientRect(),r=(t.clientX-i.left)/i.width,a=1-(t.clientY-i.top)/i.height;f.current={x:r,y:a},e.uniforms.uMouse.value[0]=r,e.uniforms.uMouse.value[1]=a}return t=requestAnimationFrame(function s(i){t=requestAnimationFrame(s),e.uniforms.uTime.value=.001*i,d.render({scene:g})}),s.appendChild(p.canvas),c&&s.addEventListener("mousemove",b),()=>{var e;cancelAnimationFrame(t),window.removeEventListener("resize",x),c&&s.removeEventListener("mousemove",b),s.removeChild(p.canvas),null==(e=p.getExtension("WEBGL_lose_context"))||e.loseContext()}},[i,r,a,c]),(0,t.jsx)("div",{ref:u,className:"h-full w-full ".concat(d)})}var p=e.i(585264),x=e.i(160889);let v=(0,s.forwardRef)((e,s)=>{let{children:l,showIridescence:n=!0,showRive:o=!0,showPoweredBy:c=!0,showLoginCTA:d=!1,className:u,iridescenceColor:h=[.6,.5,.8],iridescenceSpeed:m=.7,iridescenceAmplitude:x=.1,id:v,poweredBy:b}=e,y=(0,p.useTranslations)("home");return(0,t.jsxs)("section",{ref:s,id:v,className:(0,i.cn)("demo relative mb-28 min-h-[32.125rem] md:mb-20 md:min-h-[36.625rem]",u),children:[(0,t.jsxs)("div",{className:"relative mt-8 flex w-full flex-col items-center",children:[(0,t.jsx)("div",{className:"relative mx-auto w-full max-w-5xl px-4 sm:px-6 lg:px-8",children:(0,t.jsx)(a.HookDialogProvider,{children:(0,t.jsxs)("div",{className:"text-area-container relative w-full",children:[n&&(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-[1.75rem] opacity-30 dark:opacity-40",children:(0,t.jsx)(f,{color:h,speed:m,amplitude:x,mouseReact:!1})}),(0,t.jsx)("div",{className:"absolute bottom-[2.75rem] left-[0.25rem] right-[0.25rem] top-[0.25rem] z-[5] rounded-[1.5rem] bg-[var(--bg-base)]"}),(0,t.jsx)("div",{className:"relative z-10 w-full",children:l}),c&&(0,t.jsx)("div",{className:"absolute bottom-4 left-1/2 z-10 -translate-x-1/2 whitespace-nowrap text-xs font-semibold text-black dark:text-white md:text-sm",children:null!=b?b:y("demo.poweredBy")})]})})}),o&&(0,t.jsx)("div",{className:"absolute left-0 top-0 -z-[1] h-full w-full overflow-hidden",children:(0,t.jsx)(r.default,{})})]}),d&&(0,t.jsx)(g,{})]})});function g(){let e=(0,p.useTranslations)("home");return(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-6 px-4 md:mt-4",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-black dark:text-white md:text-sm",children:e("loginSection.experience")}),(0,t.jsx)(x.Link,{href:"/auth/?redirect=/app/",className:"flex items-center justify-center rounded-full bg-black px-5 py-3 text-xs font-extrabold uppercase tracking-wider text-white transition-all hover:bg-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100",children:e("loginSection.login")})]})}v.displayName="DemoContainer";let b=v},144719,665788,e=>{"use strict";e.s(["StartIcon",()=>s],144719);var t=e.i(843476);function s(e){return(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M18.75 9.9999C18.7505 10.2121 18.6961 10.4208 18.5921 10.6058C18.488 10.7907 18.3379 10.9456 18.1562 11.0554L6.9 17.9413C6.71022 18.0575 6.49286 18.121 6.27037 18.1251C6.04788 18.1292 5.82832 18.0738 5.63438 17.9647C5.44227 17.8573 5.28225 17.7007 5.17075 17.5109C5.05926 17.3212 5.00032 17.1051 5 16.8851V3.11475C5.00032 2.89466 5.05926 2.67862 5.17075 2.48886C5.28225 2.2991 5.44227 2.14247 5.63438 2.03506C5.82832 1.92596 6.04788 1.87061 6.27037 1.87473C6.49286 1.87885 6.71022 1.94229 6.9 2.0585L18.1562 8.94443C18.3379 9.05418 18.488 9.20906 18.5921 9.39401C18.6961 9.57896 18.7505 9.78769 18.75 9.9999Z",fill:"black"})})}e.s(["ProcessBar",()=>a,"default",()=>l],665788);var i=e.i(271645),r=e.i(647163);let a=(0,i.forwardRef)((e,s)=>{let{className:i,percent:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("process-bar",i),...l,children:(0,t.jsx)("div",{className:"process-bar-inner",style:{width:"".concat(a,"%")}})})});a.displayName="ProcessBar";let l=a},528352,e=>{"use strict";e.s(["Skeleton",()=>i,"SkeletonGroup",()=>r]);var t=e.i(843476),s=e.i(647163);function i(e){let{className:i,width:r,height:a,rounded:l="md",animate:n=!0,variant:o="default",...c}=e;return(0,t.jsx)("div",{className:(0,s.cn)("bg-muted/50",n&&"animate-pulse",!0===l&&"rounded","sm"===l&&"rounded-sm","md"===l&&"rounded-md","lg"===l&&"rounded-lg","full"===l&&"rounded-full","default"===o&&"h-4 w-full","avatar"===o&&"h-12 w-12 rounded-full","title"===o&&"h-8 w-3/4","text"===o&&"h-4 w-full","button"===o&&"h-10 w-24","image"===o&&"h-48 w-full",i),style:{width:"number"==typeof r?"".concat(r,"px"):r,height:"number"==typeof a?"".concat(a,"px"):a},...c})}function r(e){let{className:r,count:a=1,spacing:l="md",lastWidth:n="75%",...o}=e;return(0,t.jsx)("div",{className:(0,s.cn)("space-y-2","sm"===l&&"space-y-1","md"===l&&"space-y-2","lg"===l&&"space-y-4",r),...o,children:Array(a).fill(0).map((e,s)=>(0,t.jsx)(i,{width:s===a-1?n:"100%",variant:"text"},s))})}},777514,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},751552,e=>{"use strict";e.s(["useAudioDownload",()=>c]);var t=e.i(271645),s=e.i(678631),i=e.i(846696),r=e.i(585264),a=e.i(647163),l=e.i(941855),n=e.i(874183),o=e.i(465061);function c(){let{isCN:e}=(0,l.useEnvironment)(),c=(0,r.useTranslations)("text-to-speech");return{downloadAudio:(0,t.useCallback)(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{taskId:l,modelTitle:d,text:u,onSuccess:h,onError:m}=r,f=null;if(!t)return void i.toast.error(c("download_source_error"));if("string"==typeof t)f=t;else if(t instanceof HTMLAudioElement)f=t.src;else if(t instanceof n.AudioPlayer){if(!l)return void i.toast.error(c("download_source_error"));try{let e=await (0,o.getTask)({task_id:l});if("finished"!==e.data.state||!("result"in e.data))return void i.toast.error(c("download_source_error"));f=e.data.result}catch(e){console.error("Failed to fetch task result:",e),i.toast.error(c("download_failed")),null==m||m(e);return}}if(!f)return void i.toast.error(c("download_source_error"));try{let t=(0,a.formatAudioUrl)(f,e),i=(0,a.generateFileName)(d||"audio",u||"generated"),r=await fetch(t,{mode:"cors",credentials:"omit"});if(!r.ok)throw Error("Failed to fetch audio: ".concat(r.status," ").concat(r.statusText));let l=await r.blob();(0,s.default)(l,i),null==h||h()}catch(e){console.error("Download error:",e),i.toast.error(c("download_failed")),null==m||m(e)}},[e,c])}}},672345,e=>{"use strict";e.s(["addModelToCollection",()=>o,"createVoiceCollection",()=>s,"deleteCollectionModel",()=>n,"deleteVoiceCollection",()=>a,"followCollection",()=>c,"getCollectionModels",()=>l,"listVoiceCollection",()=>i,"unfollowCollection",()=>d,"updateVoiceCollection",()=>r]);var t=e.i(100574);let s=t.fetcher.path("/collection").method("post").create(),i=t.fetcher.path("/collection").method("get").create();t.fetcher.path("/collection/{id}").method("get").create(),t.fetcher.path("/collection/{id}").method("get").create();let r=t.fetcher.path("/collection/{id}").method("put").create(),a=t.fetcher.path("/collection/{id}").method("delete").create(),l=t.fetcher.path("/collection/{id}/models").method("get").create(),n=t.fetcher.path("/collection/{id}/models/{model_id}").method("delete").create(),o=t.fetcher.path("/collection/{id}/models/{model_id}").method("post").create(),c=t.fetcher.path("/collection/{id}/follow").method("post").create(),d=t.fetcher.path("/collection/{id}/follow").method("delete").create()},495242,361839,e=>{"use strict";e.s(["Pause",()=>t],495242),e.s(["default",()=>t],361839);let t=(0,e.i(475254).default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},431343,451477,e=>{"use strict";e.s(["Play",()=>t],431343),e.s(["default",()=>t],451477);let t=(0,e.i(475254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},541071,373488,e=>{"use strict";e.s(["MoreHorizontal",()=>t],541071),e.s(["default",()=>t],373488);let t=(0,e.i(475254).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},730062,e=>{"use strict";e.s(["Badge",()=>a]);var t=e.i(843476),s=e.i(225913),i=e.i(647163);let r=(0,s.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"},type:{outline:"rounded-md",square:"rounded-md",circle:"rounded-full","outline-circle":"rounded-full"},theme:{default:"",info:"bg-badge-info-ground text-badge-info-text hover:bg-info-ground",blue:"bg-badge-blue-ground text-badge-blue-text hover:bg-blue-ground",destructive:"bg-badge-destructive-ground text-badge-destructive-text hover:bg-destructive-ground",success:"bg-badge-success-ground text-badge-success-text hover:bg-success-ground"}},compoundVariants:[{theme:"blue",type:["outline","outline-circle"],class:"border-badge-blue-border border bg-badge-blue-outlineground text-badge-blue-outlinetext hover:bg-blue-outlineground"},{theme:"success",type:["outline","outline-circle"],class:"border-badge-success-border border bg-badge-success-outlineground text-badge-success-outlinetext hover:bg-success-outlineground"},{theme:"destructive",type:["outline","outline-circle"],class:"border-badge-destructive-border border bg-badge-destructive-outlineground text-badge-destructive-outlinetext hover:bg-destructive-outlineground"},{theme:"info",type:["outline","outline-circle"],class:"border-badge-info-border border bg-badge-info-outlineground text-badge-info-outlinetext hover:bg-info-outlineground"}],defaultVariants:{variant:"default",type:"circle"}});function a(e){let{className:s,variant:a,type:l,theme:n,...o}=e;return(0,t.jsx)("div",{className:(0,i.cn)(r({variant:a,type:l,theme:n}),s),...o})}},245046,e=>{"use strict";e.s(["Heart",()=>s]);var t=e.i(843476);function s(e){let{fillIcon:s,...i}=e;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",...i,children:(0,t.jsx)("path",{d:"M6.24984 3.33325C3.71859 3.33325 1.6665 5.38534 1.6665 7.91659C1.6665 12.4999 7.08317 16.6666 9.99984 17.6358C12.9165 16.6666 18.3332 12.4999 18.3332 7.91659C18.3332 5.38534 16.2811 3.33325 13.7498 3.33325C12.1998 3.33325 10.829 4.10284 9.99984 5.28075C9.5772 4.67876 9.01574 4.18746 8.36298 3.84846C7.71021 3.50945 6.98538 3.33273 6.24984 3.33325Z",stroke:"currentColor",fill:s?"currentColor":"none",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})})}},513959,e=>{"use strict";e.s(["HeartCrack",()=>s,"HeartCrackIcon",()=>i]);var t=e.i(843476);function s(e){let{fillIcon:s,...i}=e;return(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:s?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[(0,t.jsx)("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}),(0,t.jsx)("path",{d:"m12 13-1-1 2-2-3-3 2-2",className:s?"stroke-white dark:stroke-black":"stroke-gray-1"})]})}function i(e){let{fillIcon:s,...i}=e;return(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...i,children:[(0,t.jsx)("path",{d:"M12.6666 9.33333C13.6599 8.36 14.6666 7.19333 14.6666 5.66667C14.6666 4.69421 14.2803 3.76158 13.5926 3.07394C12.905 2.38631 11.9724 2 10.9999 2C9.82658 2 8.99992 2.33333 7.99992 3.33333C6.99992 2.33333 6.17325 2 4.99992 2C4.02746 2 3.09483 2.38631 2.40719 3.07394C1.71956 3.76158 1.33325 4.69421 1.33325 5.66667C1.33325 7.2 2.33325 8.36667 3.33325 9.33333L7.99992 14L12.6666 9.33333Z",stroke:"#5F5F6D",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M8.00008 8.66665L7.33341 7.99998L8.66675 6.66665L6.66675 4.66665L8.00008 3.33331",stroke:"#5F5F6D",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round",className:s?"stroke-white dark:stroke-black":""})]})}},725626,e=>{"use strict";e.s(["Overflow",()=>m,"getTagColor",()=>d],725626);var t=e.i(843476),s=e.i(271645),i=e.i(730062),r=e.i(39839),a=e.i(647163),l=e.i(174080),n=e.i(129160),o=e.i(585264),c=e.i(162353);let d=e=>{let t=[{key:"green",class:"text-discovery-tag-green-text border-discovery-tag-green-border bg-discovery-tag-green-ground border"},{key:"cyan",class:"text-discovery-tag-cyan-text border-discovery-tag-cyan-border bg-discovery-tag-cyan-ground border"},{key:"amber",class:"text-discovery-tag-amber-text border-discovery-tag-amber-border bg-discovery-tag-amber-ground  border"},{key:"neutral",class:"text-discovery-tag-neutral-text border-discovery-tag-neutral-border bg-discovery-tag-neutral-ground border"}];return t[e%t.length].class},u=(0,s.forwardRef)((e,l)=>{let{className:n,keyAlias:u,tag:h,registerSize:m,...f}=e,p=(0,s.useRef)(null),x=(0,o.useTranslations)("train-new-model.suggested-tags");return(0,r.useResizeObserver)({ref:p,onResize:e=>{let{width:t}=e;return m(u,t?t+8:0)}}),(0,t.jsx)("div",{ref:p,children:(0,t.jsx)(i.Badge,{variant:"outline",theme:"success",className:(0,a.cn)("whitespace-nowrap",d(u),n),children:(0,c.getTagLabel)(h,x)})})});u.displayName="OverflowItem";let h=(0,s.forwardRef)((e,s)=>{let{className:r,count:l,list:u,...h}=e,m=(0,o.useTranslations)("discovery"),f=(0,o.useTranslations)("train-new-model.suggested-tags");return(0,t.jsxs)(n.Popover,{children:[(0,t.jsx)(n.PopoverTrigger,{children:(0,t.jsx)(i.Badge,{variant:"outline",children:(0,t.jsxs)("span",{children:[l,"+"]})})}),(0,t.jsx)(n.PopoverContent,{align:"end",className:"md:w-[25.125rem]",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semiblod text-xl",children:m("all_tags")}),(0,t.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:u.map((e,s)=>(0,t.jsx)(i.Badge,{variant:"outline",className:(0,a.cn)("whitespace-nowrap",d(s)),children:(0,c.getTagLabel)(e,f)},s))})]})})]})});h.displayName="TagsPoppover";let m=(0,s.forwardRef)((e,i)=>{let{className:n,data:o,maxDisplayCount:c,itemClassName:d,...m}=e,f=function(){let e=(0,s.useRef)(null);return t=>{e.current||(e.current=[],Promise.resolve().then(()=>{(0,l.unstable_batchedUpdates)(()=>{var t;null==(t=e.current)||t.forEach(e=>{e()}),e.current=null})})),e.current.push(t)}}(),p=(0,s.useRef)(null),x=(0,s.useRef)(void 0),[v,g]=(0,s.useState)(0),[b,y]=(0,s.useState)(new Map),[w,k]=(0,s.useState)(),[j,N]=(0,s.useState)(!1),[S,C]=(0,s.useState)(!1),_=(0,s.useMemo)(()=>o.filter(Boolean),[o]),E=(0,s.useCallback)(e=>{let{width:t}=e;x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{f(()=>{g(t||0)})},16)},[f]);(0,r.useResizeObserver)({ref:p,onResize:E});let A=(0,s.useCallback)((e,t)=>{f(()=>{y(s=>{let i=new Map(s);return null===t?i.delete(e):i.set(e,t),i})})},[f]),T=(0,s.useCallback)(()=>{if(!v||0===b.size)return void f(()=>{k(0),N(!1)});let e=b.get(0);if(e&&e>v)return void f(()=>{k(-1),N(!0)});let t=0,s=_.length,i=s-1;if(!s)return void f(()=>{k(0),N(!1)});for(let e=0;e<s;e+=1){if("number"==typeof c&&e>=c-1)return void f(()=>{k(c-1),N(!0)});let s=b.get(e);if(void 0===s)return void f(()=>{k(e-1),N(!1)});if(t+=s,0===i&&t<=v)return void f(()=>{k(i),N(!1)});if(t+30>v)return void f(()=>{k(e-1),N(!0)})}f(()=>{k(i),N(!1)})},[v,b,_,30,f,c]);(0,s.useLayoutEffect)(()=>{T()},[T]);let O=(0,s.useMemo)(()=>j&&void 0!==w?_.slice(0,Math.max(w,0)+1):_,[_,w,j]);return(0,s.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]),(0,s.useEffect)(()=>{v&&b.size===_.length&&requestAnimationFrame(()=>{C(!0)})},[v,b.size,_.length]),(0,t.jsx)("div",{className:(0,a.cn)("flex flex-grow items-center overflow-hidden",S?"opacity-100":"opacity-0","transition-opacity duration-150"),children:(0,t.jsx)("div",{ref:p,className:"flex w-full gap-2",style:{minWidth:0},children:-1===w?(0,t.jsx)(h,{count:_.length,list:_}):(0,t.jsxs)(t.Fragment,{children:[O.map((e,s)=>(0,t.jsx)(u,{className:d,keyAlias:s,tag:e,registerSize:A},s)),(0,t.jsx)("div",{className:(0,a.cn)("flex h-full items-end","".concat(O.length<_.length?"":"hidden")),children:(0,t.jsx)(h,{count:O.length+1,list:_})})]})})})});m.displayName="Overflow"},173601,e=>{"use strict";e.s(["VoiceCard",()=>I,"useVoiceCardActions",()=>D],173601);var t=e.i(843476),s=e.i(271645),i=e.i(647163),r=e.i(576167),a=e.i(200997),l=e.i(192049),n=e.i(730062),o=e.i(4272),c=e.i(707621),d=e.i(541071),u=e.i(431343),h=e.i(662031),m=e.i(531278),f=e.i(495242),p=e.i(245046),x=e.i(999445),v=e.i(513959),g=e.i(258679),b=e.i(846696),y=e.i(585264),w=e.i(160889),k=e.i(39839),j=e.i(522016),N=e.i(681846),S=e.i(784273),C=e.i(725626),_=e.i(941855),E=e.i(602596),A=e.i(790830),T=e.i(37727),O=e.i(64585),M=e.i(611995);function L(e){let{children:r,content:a,className:l,side:n="top",align:o="center",defaultOpen:c=!0,onOpenChange:d,borderClassName:u,stepKey:h}=e,{user:m,setUser:f,hasLogin:p}=(0,O.useUser)(),[x,v]=(0,s.useState)(!1),g=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let e=JSON.parse(sessionStorage.getItem("onboarding_record")||"[]");Array.isArray(e)||(e=[]),m?v(![...(null==m?void 0:m.onboarding_record)||[],...e].includes(h)&&c):p||v(!e.includes(h)&&c)},[h,m,c,p]),x)?(0,t.jsxs)("div",{className:"relative",ref:g,children:[r,(0,t.jsxs)("div",{className:(0,i.cn)("absolute z-50 min-w-[16rem] rounded-lg border bg-popover p-4 text-popover-foreground shadow-md outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",u,"top"===n&&"bottom-full mb-3","bottom"===n&&"top-full mt-3","left"===n&&"right-full mr-3","right"===n&&"left-full ml-3","start"===o&&("left"===n||"right"===n?"top-0":"left-0"),"center"===o&&("left"===n||"right"===n?"top-1/2 -translate-y-1/2":"left-1/2 -translate-x-1/2"),"end"===o&&("left"===n||"right"===n?"bottom-0":"right-0"),l),children:[(0,t.jsxs)("button",{onClick:()=>(e=>{if(v(e),!e&&h){let e=JSON.parse(sessionStorage.getItem("onboarding_record")||"[]");Array.isArray(e)||(e=[]);let t=new Set([...e,h]);if(sessionStorage.setItem("onboarding_record",JSON.stringify(Array.from(t))),m){(0,M.pushOnboardingRecord)({user_id:m._id,record:h});let e=new Set([...m.onboarding_record||[],h]);f({...m,onboarding_record:Array.from(e)})}}null==d||d(e)})(!1),className:"absolute right-2 top-2 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100",children:[(0,t.jsx)(T.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]}),a,(0,t.jsx)("div",{className:(0,i.cn)("absolute h-3 w-3 rotate-45",u,"top"===n&&["bottom-[-6.5px]","border-b border-r","bg-popover"],"bottom"===n&&["top-[-6.5px]","border-l border-t","bg-popover"],"left"===n&&["right-[-6.5px]","border-r border-t","bg-popover"],"right"===n&&["left-[-6.5px]","border-b border-l","bg-popover"],"start"===o&&("left"===n||"right"===n?"top-[15px]":"left-[15px]"),"center"===o&&("left"===n||"right"===n?"top-1/2 -translate-y-1/2":"left-1/2 -translate-x-1/2"),"end"===o&&("left"===n||"right"===n?"bottom-[15px]":"right-[15px]"))})]})]}):r}var R=e.i(558249);let z=function(e){let{avatar:s,user:r,userId:a,time:o,tags:c,samples:d,lng:u=[]}=e,h=c.length>0||u.length>0;return(0,t.jsxs)(l.Timeline,{className:"mt-2",children:[(0,t.jsx)(l.TimeLineUser,{className:"text-xs md:text-sm ".concat(!(null==d?void 0:d.length)&&"max-md:after:content-none"),avatar:s,name:r,userId:a}),(0,t.jsx)(l.TimeLineDate,{className:"max-md:after:content-none",time:o,hasTags:h}),!!(null==d?void 0:d.length)&&(0,t.jsx)(l.TimeLineSamples,{className:"max-md:after:content-none",list:d}),h&&(0,t.jsx)("div",{className:"hidden min-w-0 md:block md:max-w-[24.6875rem] md:flex-1",children:(0,t.jsxs)("div",{className:"flex w-full items-center",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)("div",{className:"flex gap-2",children:u.map((e,s)=>(0,t.jsx)(n.Badge,{variant:"outline",className:(0,i.cn)("whitespace-nowrap",(0,C.getTagColor)(s)),children:e},s))})}),(0,t.jsx)("div",{className:"w-2 shrink-0"}),(0,t.jsx)("div",{className:"min-w-0 flex-1",children:(0,t.jsx)(C.Overflow,{data:c,maxDisplayCount:3})})]})})]})};function D(e){let[t,i]=s.useState(!1),[r,a]=s.useState(!1),[l,n]=s.useState(!1),[o,c]=s.useState({like:0,mark:0,shared:0}),d=(0,y.useTranslations)("discovery");return s.useEffect(()=>{e&&(i(e.liked),n(e.marked),c({like:e.like_count,mark:e.mark_count,shared:e.shared_count}))},[e]),{like:t,unliked:r,mark:l,count_cache:o,handleLike:function(){e&&(t?g.unLikeModel:g.likeModel)({id:e._id}).then(s=>{t?c({...o,like:o.like-1}):(r&&(0,g.unDislikeModel)({id:e._id}).then(e=>{a(!1)}),c({...o,like:o.like+1})),i(!t)})},handleUnliked:function(){e&&(r?g.unDislikeModel:g.dislikeModel)({id:e._id}).then(s=>{!r&&t&&(0,g.unLikeModel)({id:e._id}).then(e=>{i(!1),c({...o,like:o.like-1})}),a(!r)})},handleMark:function(){e&&(l?g.unMarkModel:g.markModel)({id:e._id}).then(e=>{l?c({...o,mark:o.mark-1}):c({...o,mark:o.mark+1}),n(!l)})},share:function(){if(!e)return;let t="https://fish.audio/m/".concat(e._id);navigator.clipboard.writeText(t),(0,b.toast)(d("copied_title")),(0,g.shareModel)({id:e._id}).then(e=>{c({...o,shared:o.shared+1})})}}}let P=function(e){let{data:s,className:r,...a}=e,{like:l,unliked:n,mark:o,count_cache:c,handleLike:d,handleUnliked:m,handleMark:f,share:g}=D(s),{isCN:b}=(0,_.useEnvironment)();return(0,t.jsxs)("div",{className:(0,i.cn)("flex gap-3 md:gap-6",r),...a,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 whitespace-nowrap text-xs md:text-sm",children:[(0,t.jsx)(u.Play,{className:"h-4 w-4 shrink-0 text-gray-1 md:h-5 md:w-5"}),(0,t.jsxs)("span",{children:[(0,i.formatThousandthNumber)(s.task_count)," Used"]})]}),!b&&(0,t.jsxs)("div",{className:"flex cursor-pointer items-center gap-2 whitespace-nowrap text-xs md:text-sm",onClick:g,children:[(0,t.jsx)(h.Share2,{className:"h-4 w-4 shrink-0 text-gray-1 md:h-5 md:w-5"}),(0,t.jsxs)("span",{children:[c.shared," Shares"]})]}),(0,t.jsxs)("div",{className:"flex cursor-pointer items-center gap-2",onClick:d,children:[(0,t.jsx)(p.Heart,{className:(0,i.cn)("h-4 w-4 shrink-0 md:h-5 md:w-5",l?"text-red":"text-gray-1"),fillIcon:l}),(0,t.jsx)("span",{className:"text-xs md:text-sm",children:c.like})]}),(0,t.jsx)("div",{className:"flex cursor-pointer items-center gap-2",onClick:m,children:(0,t.jsx)(v.HeartCrack,{className:(0,i.cn)("h-4 w-4 shrink-0 md:h-5 md:w-5",n?"":"text-gray-1"),fillIcon:n})}),(0,t.jsxs)("div",{className:"flex cursor-pointer items-center gap-2",onClick:f,children:[(0,t.jsx)(x.Bookmark,{className:(0,i.cn)("h-4 w-4 shrink-0 md:h-5 md:w-5",o?"":"text-gray-1"),fillIcon:o}),(0,t.jsx)("span",{className:"text-xs md:text-sm",children:c.mark})]})]})},W=function(e){let{data:r,className:a,inner:l,handleUseVoice:n,isFirst:u,preventNavigation:h,...m}=e,f=(0,y.useTranslations)("discovery"),p=(0,w.useRouter)(),[x,v]=s.useState(!1),g=(0,k.useMediaQuery)("(max-width: 768px)"),{user:b}=(0,O.useUser)(),j=(0,t.jsx)("div",{className:"flex flex-col gap-2",children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("h4",{className:"font-medium",children:["âœ¨ ",f("try_voice")]})})});return(0,t.jsxs)("div",{className:(0,i.cn)("mt-4 flex flex-col-reverse justify-between md:flex-row md:items-end","md:mt-".concat(l?2:4),a),...m,children:[(0,t.jsxs)("div",{className:"mt-5 flex gap-3 md:mt-0",children:[u?(0,t.jsx)(L,{content:j,defaultOpen:!0,side:"bottom",align:g?"start":"center",className:"min-w-[13rem]",borderClassName:"border-purple-500",stepKey:"discover-use-voice",children:(0,t.jsx)(o.Button,{className:"rounded-xl",size:l?"sm":"default",onClick:()=>{(0,R.track)("discover-use-voice-click",{model_id:r._id},b),null==n||n(r),h||p.push((0,i.getInstantSpeechUrl)(r._id))},children:f("use_voice")})}):(0,t.jsx)(o.Button,{className:"rounded-xl",size:l?"sm":"default",onClick:()=>{null==n||n(r),h||p.push((0,i.getInstantSpeechUrl)(r._id))},children:f("use_voice")}),(0,t.jsxs)(N.DropdownMenu,{modal:!1,children:[(0,t.jsx)(N.DropdownMenuTrigger,{children:(0,t.jsx)(d.MoreHorizontal,{className:"invisible w-fit cursor-pointer group-hover:visible"})}),(0,t.jsx)(N.DropdownMenuPortal,{children:(0,t.jsx)(N.DropdownMenuContent,{align:"start",children:(0,t.jsxs)(N.DropdownMenuItem,{className:"cursor-pointer",onClick:()=>v(!0),children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-md bg-gray-4 dark:bg-white/10",children:(0,t.jsx)(c.CircleAlert,{className:"w-4 text-gray-1"})}),(0,t.jsx)("span",{className:"ml-4",children:f("report.title")})]})})})]})]}),(0,t.jsx)(P,{data:r}),(0,t.jsx)(S.ReportModel,{link:"https://fish.audio/m/".concat(r._id),open:x,onOpenChange:v})]})},F=function(e){var s,r,a;let{data:l,className:o,handleUseVoice:c,isFirst:d,preventNavigation:u,isDashboard:h,...m}=e;return(0,t.jsxs)("div",{className:(0,i.cn)("flex flex-col items-start justify-between md:hidden",o),...m,children:[!!(null==l||null==(s=l.languages)?void 0:s.length)&&(0,t.jsx)("div",{className:"mt-4 flex gap-2",children:null==l||null==(a=l.languages)||null==(r=a.map)?void 0:r.call(a,(e,s)=>(0,t.jsx)(n.Badge,{type:"outline",className:(0,i.cn)("whitespace-nowrap",(0,C.getTagColor)(s)),children:e},s))}),l.tags.length>0&&(0,t.jsx)("div",{className:"mt-4 w-full min-w-0",children:(0,t.jsx)(C.Overflow,{data:l.tags,maxDisplayCount:5})}),(0,t.jsx)(W,{data:l,handleUseVoice:c,isFirst:d,preventNavigation:u})]})},B=s.forwardRef((e,r)=>{let{className:a,sample:l,index:n,isFirst:o,...c}=e,{isCN:d}=(0,_.useEnvironment)(),h=(0,A.useAudioRef)(),[p,x]=s.useState(!0),{currentPlaying:v,isPlay:g,handlePlayAudio:b}=(0,E.useAudioUniqueControl)(),w=(0,i.formatAudioUrl)(l.audio,d),k=(0,y.useTranslations)("discovery"),j=(0,t.jsxs)("div",{className:(0,i.cn)("flex cursor-pointer items-center gap-2",a),onClick:()=>{if(h.current)try{h.current.paused?b(h.current,!1):b(h.current,!0)}catch(e){console.error(e)}},...c,children:[(0,t.jsx)("audio",{className:"hidden",src:w,controls:!1,onEnded:()=>b(h.current,!0),onError:()=>x(!1),onCanPlayThrough:()=>x(!1),ref:h}),p?(0,t.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}):v===h.current&&g?(0,t.jsx)(f.Pause,{className:"h-4 w-4"}):(0,t.jsx)(u.Play,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"max-w-[min(50vw,320px)] overflow-hidden truncate text-ellipsis whitespace-nowrap text-sm",title:l.text,children:l.text})]}),N=(0,t.jsx)("div",{className:"flex flex-col gap-2",children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("h4",{className:"font-medium",children:["ðŸ”Š ",k("preview_sample")]})})});return o&&0===n?(0,t.jsx)(L,{content:N,defaultOpen:!0,side:"top",align:"start",className:"min-w-[18rem]",borderClassName:"border-purple-500",stepKey:"discover-play-sample",children:j}):j});B.displayName="AudioSample";let I=s.forwardRef((e,s)=>{let{className:l,data:n,inner:o,handleUseVoice:c,isFirst:d,preventNavigation:u,isDashboard:h,...m}=e,f=o?"md:h-[6.55rem] md:w-[6.55rem]":"md:h-[7.25rem] md:w-[7.25rem]",p=(0,k.useMediaQuery)("(min-width: 768px)");return(0,t.jsx)(r.Card,{className:(0,i.cn)("group mb-3 rounded-xl",l),...m,children:(0,t.jsxs)(r.CardContent,{className:"flex flex-col p-4 md:p-4",children:[(0,t.jsxs)("div",{className:"flex flex-1",children:[(0,t.jsx)(a.Avatar,{className:(0,i.cn)("mr-3 h-16 w-16 rounded-lg md:mr-4","".concat(f)),children:(0,t.jsx)(a.AvatarImage,{src:(0,i.fetchImage)(n.cover_image,p?128:64),alt:n.title})}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,t.jsx)(r.CardTitle,{className:(0,i.cn)("max-md:text-base","".concat(p&&o?"mt-0":""),"".concat(o?"text-lg":"")),children:(0,t.jsx)(j.default,{href:h?"/app/m/".concat(n._id):"/m/".concat(n._id),children:n.title})}),(0,t.jsx)(z,{user:n.author.nickname,userId:n.author._id,avatar:n.author.avatar,time:n.created_at,tags:n.tags,samples:n.samples,lng:n.languages}),n.samples&&n.samples.length>0&&(0,t.jsx)("div",{className:"mt-2 flex flex-col space-y-2",children:n.samples.slice(0,3).map((e,s)=>(0,t.jsx)(B,{sample:e,index:s,isFirst:d},s))}),(0,t.jsx)("div",{className:"w-full flex-1"}),(0,t.jsx)(W,{className:"hidden md:flex",data:n,inner:o,handleUseVoice:c,isFirst:d,preventNavigation:u})]})]}),(0,t.jsx)(F,{data:n,handleUseVoice:c,isFirst:d,preventNavigation:u,isDashboard:h})]})})});I.displayName="VoiceCard"},678631,(e,t,s)=>{!function(t,s){if("function"==typeof define&&define.amd){let t;void 0!==(t=s())&&e.v(t)}else s()}(e.e,function(){"use strict";function s(e,t,s){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){n(i.response,t,s)},i.onerror=function(){console.error("could not download file")},i.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:e.g.global===e.g?e.g:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),n=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,l){var n=a.URL||a.webkitURL,o=document.createElement("a");o.download=t=t||e.name||"download",o.rel="noopener","string"==typeof e?(o.href=e,o.origin===location.origin?r(o):i(o.href)?s(e,t,l):r(o,o.target="_blank")):(o.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(o.href)},4e4),setTimeout(function(){r(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,a){if(t=t||e.name||"download","string"!=typeof e){var l;navigator.msSaveOrOpenBlob((void 0===(l=a)?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),t)}else if(i(e))s(e,t,a);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){r(n)})}}:function(e,t,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,i);var n="application/octet-stream"===e.type,o=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||n&&o||l)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,h=u.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});a.saveAs=n.saveAs=n,t.exports=n})},875475,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},652670,e=>{"use strict";e.s(["CompassIcon",()=>t.default]);var t=e.i(777514)},287121,e=>{"use strict";e.s(["default",()=>H],287121);var t=e.i(271645);let s=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var i=e.g&&e.g.Object===Object&&e.g,r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();let l=function(){return a.Date.now()};var n=/\s/;let o=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t};var c=/^\s+/,d=a.Symbol,u=Object.prototype,h=u.hasOwnProperty,m=u.toString,f=d?d.toStringTag:void 0;let p=function(e){var t=h.call(e,f),s=e[f];try{e[f]=void 0;var i=!0}catch(e){}var r=m.call(e);return i&&(t?e[f]=s:delete e[f]),r};var x=Object.prototype.toString,v=d?d.toStringTag:void 0;let g=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":v&&v in Object(e)?p(e):x.call(e)},b=function(e){return"symbol"==typeof e||null!=e&&"object"==typeof e&&"[object Symbol]"==g(e)};var y=0/0,w=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,j=/^0o[0-7]+$/i,N=parseInt;let S=function(e){if("number"==typeof e)return e;if(b(e))return y;if(s(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=s(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,o(t)+1).replace(c,""):t;var r=k.test(e);return r||j.test(e)?N(e.slice(2),r?2:8):w.test(e)?y:+e};var C=Math.max,_=Math.min;let E=function(e,t,i){var r,a,n,o,c,d,u=0,h=!1,m=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function p(t){var s=r,i=a;return r=a=void 0,u=t,o=e.apply(i,s)}function x(e){var s=e-d,i=e-u;return void 0===d||s>=t||s<0||m&&i>=n}function v(){var e,s,i,r=l();if(x(r))return g(r);c=setTimeout(v,(e=r-d,s=r-u,i=t-e,m?_(i,n-s):i))}function g(e){return(c=void 0,f&&r)?p(e):(r=a=void 0,o)}function b(){var e,s=l(),i=x(s);if(r=arguments,a=this,d=s,i){if(void 0===c)return u=e=d,c=setTimeout(v,t),h?p(e):o;if(m)return clearTimeout(c),c=setTimeout(v,t),p(d)}return void 0===c&&(c=setTimeout(v,t)),o}return t=S(t)||0,s(i)&&(h=!!i.leading,n=(m="maxWait"in i)?C(S(i.maxWait)||0,t):n,f="trailing"in i?!!i.trailing:f),b.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=d=a=c=void 0},b.flush=function(){return void 0===c?o:g(l())},b},A=function(e,t,i){var r=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return s(i)&&(r="leading"in i?!!i.leading:r,a="trailing"in i?!!i.trailing:a),E(e,t,{leading:r,maxWait:t,trailing:a})};var T=function(){return(T=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function O(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function M(e){return e&&e.ownerDocument?e.ownerDocument:document}var L=function(e){return Array.prototype.reduce.call(e,function(e,t){var s=t.name.match(/data-simplebar-(.+)/);if(s){var i=s[1].replace(/\W+(.)/g,function(e,t){return t.toUpperCase()});switch(t.value){case"true":case void 0:e[i]=!0;break;case"false":e[i]=!1;break;default:e[i]=t.value}}return e},{})};function R(e,t){var s;e&&(s=e.classList).add.apply(s,t.split(" "))}function z(e,t){e&&t.split(" ").forEach(function(t){e.classList.remove(t)})}function D(e){return".".concat(e.split(" ").join("."))}var P=!!("undefined"!=typeof window&&window.document&&window.document.createElement),W=Object.freeze({__proto__:null,addClasses:R,canUseDOM:P,classNamesToQuery:D,getElementDocument:M,getElementWindow:O,getOptions:L,removeClasses:z}),F=null,B=null;function I(){if(null===F){if("undefined"==typeof document)return F=0;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var s=t.getBoundingClientRect().right;e.removeChild(t),F=s}return F}P&&window.addEventListener("resize",function(){B!==window.devicePixelRatio&&(B=window.devicePixelRatio,F=null)});var U=function(){function e(t,s){void 0===s&&(s={});var i=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var e=O(i.el);i.scrollXTicking||(e.requestAnimationFrame(i.scrollX),i.scrollXTicking=!0),i.scrollYTicking||(e.requestAnimationFrame(i.scrollY),i.scrollYTicking=!0),i.isScrolling||(i.isScrolling=!0,R(i.el,i.classNames.scrolling)),i.showScrollbar("x"),i.showScrollbar("y"),i.onStopScrolling()},this.scrollX=function(){i.axis.x.isOverflowing&&i.positionScrollbar("x"),i.scrollXTicking=!1},this.scrollY=function(){i.axis.y.isOverflowing&&i.positionScrollbar("y"),i.scrollYTicking=!1},this._onStopScrolling=function(){z(i.el,i.classNames.scrolling),i.options.autoHide&&(i.hideScrollbar("x"),i.hideScrollbar("y")),i.isScrolling=!1},this.onMouseEnter=function(){i.isMouseEntering||(R(i.el,i.classNames.mouseEntered),i.showScrollbar("x"),i.showScrollbar("y"),i.isMouseEntering=!0),i.onMouseEntered()},this._onMouseEntered=function(){z(i.el,i.classNames.mouseEntered),i.options.autoHide&&(i.hideScrollbar("x"),i.hideScrollbar("y")),i.isMouseEntering=!1},this._onMouseMove=function(e){i.mouseX=e.clientX,i.mouseY=e.clientY,(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseMoveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseMoveForAxis("y")},this.onMouseLeave=function(){i.onMouseMove.cancel(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseLeaveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseLeaveForAxis("y"),i.mouseX=-1,i.mouseY=-1},this._onWindowResize=function(){i.scrollbarWidth=i.getScrollbarWidth(),i.hideNativeScrollbar()},this.onPointerEvent=function(e){var t,s;i.axis.x.track.el&&i.axis.y.track.el&&i.axis.x.scrollbar.el&&i.axis.y.scrollbar.el&&(i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&(t=i.isWithinBounds(i.axis.x.track.rect)),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&(s=i.isWithinBounds(i.axis.y.track.rect)),(t||s)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(t&&(i.axis.x.scrollbar.rect=i.axis.x.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.x.scrollbar.rect)?i.onDragStart(e,"x"):i.onTrackClick(e,"x")),s&&(i.axis.y.scrollbar.rect=i.axis.y.scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.scrollbar.rect)?i.onDragStart(e,"y"):i.onTrackClick(e,"y")))))},this.drag=function(t){if(i.draggedAxis&&i.contentWrapperEl){var s,r,a,l,n,o,c,d,u,h,m,f=i.axis[i.draggedAxis].track,p=null!=(r=null==(s=f.rect)?void 0:s[i.axis[i.draggedAxis].sizeAttr])?r:0,x=i.axis[i.draggedAxis].scrollbar,v=null!=(l=null==(a=i.contentWrapperEl)?void 0:a[i.axis[i.draggedAxis].scrollSizeAttr])?l:0,g=parseInt(null!=(o=null==(n=i.elStyles)?void 0:n[i.axis[i.draggedAxis].sizeAttr])?o:"0px",10);t.preventDefault(),t.stopPropagation();var b=("y"===i.draggedAxis?t.pageY:t.pageX)-(null!=(d=null==(c=f.rect)?void 0:c[i.axis[i.draggedAxis].offsetAttr])?d:0)-i.axis[i.draggedAxis].dragOffset,y=(b="x"===i.draggedAxis&&i.isRtl?(null!=(h=null==(u=f.rect)?void 0:u[i.axis[i.draggedAxis].sizeAttr])?h:0)-x.size-b:b)/(p-x.size)*(v-g);"x"===i.draggedAxis&&i.isRtl&&(y=(null==(m=e.getRtlHelpers())?void 0:m.isScrollingToNegative)?-y:y),i.contentWrapperEl[i.axis[i.draggedAxis].scrollOffsetAttr]=y}},this.onEndDrag=function(e){i.isDragging=!1;var t=M(i.el),s=O(i.el);e.preventDefault(),e.stopPropagation(),z(i.el,i.classNames.dragging),i.onStopScrolling(),t.removeEventListener("mousemove",i.drag,!0),t.removeEventListener("mouseup",i.onEndDrag,!0),i.removePreventClickId=s.setTimeout(function(){t.removeEventListener("click",i.preventClick,!0),t.removeEventListener("dblclick",i.preventClick,!0),i.removePreventClickId=null})},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=T(T({},e.defaultOptions),s),this.classNames=T(T({},e.defaultOptions.classNames),s.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=A(this._onMouseMove,64),this.onWindowResize=E(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=E(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=E(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var s=t.firstElementChild,i=null==s?void 0:s.firstElementChild;if(!i)return null;document.body.appendChild(s),s.scrollLeft=0;var r=e.getOffset(s),a=e.getOffset(i);s.scrollLeft=-999;var l=e.getOffset(i);return document.body.removeChild(s),e.rtlHelpers={isScrollOriginAtZero:r.left!==a.left,isScrollingToNegative:a.left!==l.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{if(this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style)return 0;return I()}catch(e){return I()}},e.getOffset=function(e){var t=e.getBoundingClientRect(),s=M(e),i=O(e);return{top:t.top+(i.pageYOffset||s.documentElement.scrollTop),left:t.left+(i.pageXOffset||s.documentElement.scrollLeft)}},e.prototype.init=function(){P&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var e,t;this.wrapperEl=this.el.querySelector(D(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(D(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(D(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(D(this.classNames.offset)),this.maskEl=this.el.querySelector(D(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,D(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(D(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(D(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(D(this.classNames.track)).concat(D(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(D(this.classNames.track)).concat(D(this.classNames.vertical))),this.axis.x.scrollbar.el=(null==(e=this.axis.x.track.el)?void 0:e.querySelector(D(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null==(t=this.axis.y.track.el)?void 0:t.querySelector(D(this.classNames.scrollbar)))||null,this.options.autoHide||(R(this.axis.x.scrollbar.el,this.classNames.visible),R(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var e,t=this,s=O(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null==(e=this.contentWrapperEl)||e.addEventListener("scroll",this.onScroll),s.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var i=!1,r=s.ResizeObserver||ResizeObserver;this.resizeObserver=new r(function(){i&&s.requestAnimationFrame(function(){t.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),s.requestAnimationFrame(function(){i=!0})}this.mutationObserver=new s.MutationObserver(function(){s.requestAnimationFrame(function(){t.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var e=O(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.contentEl.offsetWidth,s=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1||t>0,r=this.contentWrapperEl.offsetWidth,a=this.elStyles.overflowX,l=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var n=this.contentEl.scrollHeight,o=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=s?"auto":"100%",this.placeholderEl.style.width=i?"".concat(t||o,"px"):"auto",this.placeholderEl.style.height="".concat(n,"px");var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==t&&o>t,this.axis.y.isOverflowing=n>c,this.axis.x.isOverflowing="hidden"!==a&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==l&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var d=this.axis.x.isOverflowing?this.scrollbarWidth:0,u=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&o>r-u,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&n>c-d,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(e){if(void 0===e&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var t,s,i,r=this.contentEl[this.axis[e].scrollSizeAttr],a=null!=(s=null==(t=this.axis[e].track.el)?void 0:t[this.axis[e].offsetSizeAttr])?s:0;return i=Math.max(~~(a/r*a),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(i=Math.min(i,this.options.scrollbarMaxSize)),i},e.prototype.positionScrollbar=function(t){void 0===t&&(t="y");var s,i,r,a=this.axis[t].scrollbar;if(this.axis[t].isOverflowing&&this.contentWrapperEl&&a.el&&this.elStyles){var l=this.contentWrapperEl[this.axis[t].scrollSizeAttr],n=(null==(s=this.axis[t].track.el)?void 0:s[this.axis[t].offsetSizeAttr])||0,o=parseInt(this.elStyles[this.axis[t].sizeAttr],10),c=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];c="x"===t&&this.isRtl&&(null==(i=e.getRtlHelpers())?void 0:i.isScrollOriginAtZero)?-c:c,"x"===t&&this.isRtl&&(c=(null==(r=e.getRtlHelpers())?void 0:r.isScrollingToNegative)?c:-c);var d=c/(l-o),u=~~((n-a.size)*d);u="x"===t&&this.isRtl?-u+(n-a.size):u,a.el.style.transform="x"===t?"translate3d(".concat(u,"px, 0, 0)"):"translate3d(0, ".concat(u,"px, 0)")}},e.prototype.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,s=this.axis[e].scrollbar.el;t&&s&&this.contentWrapperEl&&(this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?s.style.display="block":s.style.display="none")},e.prototype.showScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(R(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(e){void 0===e&&(e="y"),!this.isDragging&&this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(z(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(e){void 0===e&&(e="y");var t=this.axis[e];t.track.el&&t.scrollbar.el&&(t.track.rect=t.track.el.getBoundingClientRect(),t.scrollbar.rect=t.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(t.track.rect)?(this.showScrollbar(e),R(t.track.el,this.classNames.hover),this.isWithinBounds(t.scrollbar.rect)?R(t.scrollbar.el,this.classNames.hover):z(t.scrollbar.el,this.classNames.hover)):(z(t.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),z(this.axis[e].track.el,this.classNames.hover),z(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},e.prototype.onDragStart=function(e,t){void 0===t&&(t="y"),this.isDragging=!0;var s,i=M(this.el),r=O(this.el),a=this.axis[t].scrollbar,l="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=l-((null==(s=a.rect)?void 0:s[this.axis[t].offsetAttr])||0),this.draggedAxis=t,R(this.el,this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(r.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(e,t){var s,i,r,a,l=this;void 0===t&&(t="y");var n=this.axis[t];if(this.options.clickOnTrack&&n.scrollbar.el&&this.contentWrapperEl){e.preventDefault();var o=O(this.el);this.axis[t].scrollbar.rect=n.scrollbar.el.getBoundingClientRect();var c=null!=(i=null==(s=this.axis[t].scrollbar.rect)?void 0:s[this.axis[t].offsetAttr])?i:0,d=parseInt(null!=(a=null==(r=this.elStyles)?void 0:r[this.axis[t].sizeAttr])?a:"0px",10),u=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],h=("y"===t?this.mouseY-c:this.mouseX-c)<0?-1:1,m=-1===h?u-d:u+d,f=function(){l.contentWrapperEl&&(-1===h?u>m&&(u-=40,l.contentWrapperEl[l.axis[t].scrollOffsetAttr]=u,o.requestAnimationFrame(f)):u<m&&(u+=40,l.contentWrapperEl[l.axis[t].scrollOffsetAttr]=u,o.requestAnimationFrame(f)))};f()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=O(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.prototype.findChild=function(e,t){var s=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(e){return s.call(e,t)})[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=L,e.helpers=W,e}(),V=function(){return(V=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},H=t.forwardRef(function(e,s){var i=e.children,r=e.scrollableNodeProps,a=void 0===r?{}:r,l=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(s[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(s[i[r]]=e[i[r]]);return s}(e,["children","scrollableNodeProps"]),n=t.useRef(),o=t.useRef(),c=t.useRef(),d={},u={};Object.keys(l).forEach(function(e){Object.prototype.hasOwnProperty.call(U.defaultOptions,e)?d[e]=l[e]:u[e]=l[e]});var h=V(V({},U.defaultOptions.classNames),d.classNames),m=V(V({},a),{className:"".concat(h.contentWrapper).concat(a.className?" ".concat(a.className):""),tabIndex:d.tabIndex||U.defaultOptions.tabIndex,role:"region","aria-label":d.ariaLabel||U.defaultOptions.ariaLabel});return t.useEffect(function(){var e;return o.current=m.ref?m.ref.current:o.current,n.current&&(e=new U(n.current,V(V(V({},d),o.current&&{scrollableNode:o.current}),c.current&&{contentNode:c.current})),"function"==typeof s?s(e):s&&(s.current=e)),function(){null==e||e.unMount(),e=null,"function"==typeof s&&s(null)}},[]),t.createElement("div",V({"data-simplebar":"init",ref:n},u),t.createElement("div",{className:h.wrapper},t.createElement("div",{className:h.heightAutoObserverWrapperEl},t.createElement("div",{className:h.heightAutoObserverEl})),t.createElement("div",{className:h.mask},t.createElement("div",{className:h.offset},"function"==typeof i?i({scrollableNodeRef:o,scrollableNodeProps:V(V({},m),{ref:o}),contentNodeRef:c,contentNodeProps:{className:h.contentEl,ref:c}}):t.createElement("div",V({},m),t.createElement("div",{className:h.contentEl},i)))),t.createElement("div",{className:h.placeholder})),t.createElement("div",{className:"".concat(h.track," ").concat(h.horizontal)},t.createElement("div",{className:h.scrollbar})),t.createElement("div",{className:"".concat(h.track," ").concat(h.vertical)},t.createElement("div",{className:h.scrollbar})))});H.displayName="SimpleBar"},484023,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},440160,e=>{"use strict";e.s(["Download",()=>t.default]);var t=e.i(484023)},61683,e=>{"use strict";e.s(["useDebounce",()=>s],61683);var t=e.i(271645);function s(e,s,i){void 0===s&&(s=0),void 0===i&&(i=[]);var r,a,l,n,o,c,d,u=(void 0===(r=s)&&(r=0),a=(0,t.useRef)(!1),l=(0,t.useRef)(),n=(0,t.useRef)(e),o=(0,t.useCallback)(function(){return a.current},[]),c=(0,t.useCallback)(function(){a.current=!1,l.current&&clearTimeout(l.current),l.current=setTimeout(function(){a.current=!0,n.current()},r)},[r]),d=(0,t.useCallback)(function(){a.current=null,l.current&&clearTimeout(l.current)},[]),(0,t.useEffect)(function(){n.current=e},[e]),(0,t.useEffect)(function(){return c(),d},[r]),[o,d,c]),h=u[0],m=u[1],f=u[2];return(0,t.useEffect)(f,i),[h,m]}},576173,e=>{"use strict";e.s(["secondToStr",()=>r,"useAudioPlayController",()=>a]);var t=e.i(271645),s=e.i(874183),i=e.i(61683);function r(e){let t=Math.floor(e/60),s=("0"+Math.floor(e%60)).slice(-2);return"".concat(t,":").concat(s)}function a(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[a,l]=(0,t.useState)(1),[n,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(0),[u,h]=(0,t.useState)(-1),m=(0,t.useMemo)(()=>"string"!=typeof e,[e]);function f(){h(e.duration)}function p(){d(e.currentTime)}let x=()=>{null==e||e.play(),o(!0)},v=()=>{null==e||e.pause(),o(!1)};(0,t.useEffect)(()=>{function t(){e instanceof s.AudioPlayer||d(0),o(!1)}if(e)return e instanceof s.AudioPlayer?(e.on("durationUpdate",f),e.on("timeupdate",p),e.on("stop",t),r&&e.on("canplay",x),()=>{null==e||e.pause(),e.off("durationUpdate",f),e.off("timeupdate",p),e.off("stop",t),e.off("canplay",x)}):(e.readyState>=1?f():e.addEventListener("loadedmetadata",f),e.addEventListener("timeupdate",p),e.addEventListener("pause",v),e.addEventListener("ended",t),r&&x(),()=>{e.pause(),e.removeEventListener("loadedmetadata",f),e.removeEventListener("timeupdate",p),e.removeEventListener("pause",v),e.removeEventListener("ended",t)});e instanceof s.AudioPlayer||(d(0),h(-1),o(!1))},[e]),(0,t.useEffect)(()=>{e&&(e.volume=a)},[a,e]);let[g,b]=(0,t.useState)(null);return(0,i.useDebounce)(()=>{e&&null!==g&&(p(),b(null))},200,[g]),{volume:a,isAudioPlayer:m,setVolume:l,isPlaying:n,setIsPlaying:o,currentTime:c,duration:u,play:x,pause:v,changeCurrentTime:function(t){e&&(e.currentTime=t,b(t))}}}},703383,e=>{"use strict";e.s(["useAsync",()=>i],703383);var t=e.i(271645),s=e.i(540233);function i(e,i){void 0===i&&(i=[]);var r=(0,s.default)(e,i,{loading:!0}),a=r[0],l=r[1];return(0,t.useEffect)(function(){l()},[l]),a}},382373,103665,e=>{"use strict";e.s(["Volume2",()=>t],382373),e.s(["default",()=>t],103665);let t=(0,e.i(475254).default)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},400417,e=>{"use strict";e.s(["ThumbsUp",()=>t.default]);var t=e.i(300299)},874183,104532,e=>{"use strict";e.s(["AudioPlayer",()=>r],874183);var t=e.i(299749);e.s(["audioContextManager",()=>i],104532);class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}getContext(){return this.context||(this.context=new AudioContext,this.masterGainNode=this.context.createGain(),this.masterGainNode.gain.value=this.volume,this.masterGainNode.connect(this.context.destination)),this.context}getMasterGainNode(){if(!this.masterGainNode){let e=this.getContext();this.masterGainNode=e.createGain(),this.masterGainNode.gain.value=this.volume,this.masterGainNode.connect(e.destination)}return this.masterGainNode}async resumeContext(){let e=this.getContext();"suspended"===e.state&&await e.resume()}async initialize(){if(this.isInitialized)return;let e=this.getContext(),t=e.createBuffer(1,1,22050),s=e.createBufferSource();s.buffer=t,s.connect(this.getMasterGainNode());try{s.start(0),this.isInitialized=!0}catch(e){console.error("Failed to initialize audio:",e)}}setVolume(e){this.volume=e,this.masterGainNode&&(this.masterGainNode.gain.value=e)}constructor(){(0,t._)(this,"context",null),(0,t._)(this,"masterGainNode",null),(0,t._)(this,"volume",1),(0,t._)(this,"isInitialized",!1)}}(0,t._)(s,"instance",void 0);let i=s.getInstance();class r{on(e,t){this.listeners[e]=this.listeners[e].filter(e=>e!==t),this.listeners[e].push(t)}off(e,t){this.listeners[e]=this.listeners[e].filter(e=>e!==t)}emit(e){for(var t=arguments.length,s=Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];this.listeners[e].forEach(e=>e(...s))}computeTime(){if(0===this.allData.length)return;let e=this.allData.reduce((e,t)=>e+((null==t?void 0:t.length)||0),0);0!==e&&(this.durationCache=e/this.sampleRate,this.emit("durationUpdate",this.durationCache))}tryEmitCanplay(){this.canplayEmitted||(this.emit("canplay"),this.canplayEmitted=!0)}loadDoneHandle(){this.loadDone=!0,this.tryEmitCanplay(),this.emit("loadDone"),this.options.lowPower||this.computeTime()}async downloadByReader(){"wav"===this.format?await this.processWavStream():await this.processMp3Stream()}async processWavStream(){let e=new Uint8Array(0),t=performance.now(),s=-1,i=!1,r={channels:this.channels,sampleRate:this.sampleRate,bitsPerSample:16},a=!1;for(;;){let{done:l,value:n}=await this.reader.read();if(l){this.loadDoneHandle();break}e=this.concatTypedArrays(e,n),n.length;let o=performance.now();if(s<0&&(s=o-t),a){let t=2*Math.floor(e.length/2);if(t>0){let s=e.slice(0,t);e=e.slice(t);let i=new Int16Array(s.buffer,s.byteOffset,s.length/2),r=this.int16ToFloat32(i);this.allData.push(r),this.processedChunks++,this.playQueue&&this.playQueue.push(r),this.processedChunks>=this.minChunksBeforePlay&&this.tryEmitCanplay()}continue}if(!i&&e.length>=44){let t=function(e){let t=String.fromCharCode(...Array.from(e.slice(0,4))),s=String.fromCharCode(...Array.from(e.slice(8,12)));if("RIFF"===t&&"WAVE"===s){let t=new DataView(e.buffer,e.byteOffset,44);return{isValid:!0,format:{channels:t.getUint16(22,!0),sampleRate:t.getUint32(24,!0),bitsPerSample:t.getUint16(34,!0)}}}return{isValid:!1}}(e);t.isValid?(r=t.format,this.sampleRate=r.sampleRate,e=e.slice(44),i=!0):a=!0}if(i){let t=2*Math.floor(e.length/2);if(t>0){let s=e.slice(0,t);e=e.slice(t);let i=new Int16Array(s.buffer,s.byteOffset,s.length/2),r=this.int16ToFloat32(i);this.allData.push(r),this.processedChunks++,this.playQueue&&this.playQueue.push(r),this.processedChunks>=this.minChunksBeforePlay&&this.tryEmitCanplay()}}}}async processMp3Stream(){let{MPEGDecoderWebWorker:t}=await e.A(529605),s=new Uint8Array(0),i=performance.now(),r=-1,a=new t,l=null,n=[];for(;;){let{done:e,value:t}=await this.reader.read();if(e){await Promise.all(n),null==l||l.then(()=>{a.free(),this.loadDoneHandle()});break}s=this.concatTypedArrays(s,t),t.length;let o=performance.now();r<0&&(r=o-i);let c=2*Math.floor(s.length/2),d=s.slice(0,c);s=s.slice(c),l=a.ready.then(()=>{let e=a.decode(d).then(e=>{let{channelData:t}=e,[s]=t;this.allData.push(s),this.processedChunks++,this.playQueue&&this.playQueue.push(s),this.processedChunks>=this.minChunksBeforePlay&&this.tryEmitCanplay()}).catch(e=>{console.error(e)});return n.push(e),e})}}concatTypedArrays(e,t){let s=new Uint8Array(e.length+t.length);return s.set(e,0),s.set(t,e.length),s}int16ToFloat32(e){let t=new Float32Array(e.length);for(let s=0;s<e.length;s++)t[s]=e[s]/32768;return t}timeUpdateFn(){"playing"===this.playStatus&&this.emit("timeupdate",this.currentTime)}async play(){if(await i.initialize(),this.playQueue&&0===this.playQueue.length){var e;return this.loadDone?void this.stop():(null==(e=this.audioContext)||e.suspend(),this.playStatus="pending",void(this.waitTimer=setTimeout(this.play,100)))}this.waitTimer=null,this.playQueue||(this.playQueue=this.allData.slice());let t=null===this.audioContext;null===this.audioContext&&(this.audioContext=i.getContext(),this.timeUpdateTimer=setInterval(this.timeUpdateFn.bind(this),200)),"suspended"===this.audioContext.state&&i.resumeContext(),this.offsetTime=this.audioContext.currentTime;let s=[];for(;this.playQueue.length>0;)s.push(this.playQueue.shift());let r=s.reduce((e,t)=>e+((null==t?void 0:t.length)||0),0);if(0===r){this.waitTimer=setTimeout(this.play,100);return}let a=new Float32Array(r),l=0;s.forEach(e=>{a.set(e,l),l+=e.length});let n=this.audioContext.createBuffer(1,a.length,this.sampleRate);n.copyToChannel(a,0);let o=this.audioContext.createBufferSource();this.currentSource=o,o.buffer=n,o.connect(i.getMasterGainNode()),o.onended=()=>{this.currentSource===o&&"playing"===this.playStatus&&(this.startTime=this.currentTime,setTimeout(()=>{this.play()}))},t?o.start(0,this.startTime):o.start(),this.playStatus="playing"}clearAudioContext(){this.currentSource&&(this.currentSource.stop(),this.currentSource.disconnect(),this.currentSource=null),this.audioContext&&(this.audioContext.suspend(),this.audioContext=null,this.offsetTime=0),this.waitTimer&&clearTimeout(this.waitTimer),this.timeUpdateTimer&&clearInterval(this.timeUpdateTimer),this.playQueue=null}pause(){this.audioContext&&"pending"!==this.playStatus&&(this.startTime=this.currentTime),this.clearAudioContext(),this.playStatus="pause",this.emit("stop")}stop(){this.clearAudioContext(),this.startTime=0,this.playStatus="stop",this.emit("stop"),this.emit("timeupdate",0)}close(){var e;null==(e=this.audioContext)||e.close()}get duration(){return this.durationCache}get volume(){return this.volumeProxy}set volume(e){this.volumeProxy=e,i.setVolume(e)}set currentTime(e){if("playing"===this.playStatus||"pending"===this.playStatus){this.stop(),this.startTime=e,this.play();return}this.startTime=e}get currentTime(){if("playing"===this.playStatus){var e;return((null==(e=this.audioContext)?void 0:e.currentTime)||0)+this.startTime-this.offsetTime}return this.startTime}constructor(e,s={}){(0,t._)(this,"reader",void 0),(0,t._)(this,"options",void 0),(0,t._)(this,"format",void 0),(0,t._)(this,"channels",void 0),(0,t._)(this,"loadDone",void 0),(0,t._)(this,"playQueue",void 0),(0,t._)(this,"allData",void 0),(0,t._)(this,"sampleRate",void 0),(0,t._)(this,"durationCache",void 0),(0,t._)(this,"playStatus",void 0),(0,t._)(this,"canplayEmitted",void 0),(0,t._)(this,"processedChunks",void 0),(0,t._)(this,"minChunksBeforePlay",void 0),(0,t._)(this,"listeners",void 0),(0,t._)(this,"audioContext",void 0),(0,t._)(this,"volumeProxy",void 0),(0,t._)(this,"startTime",void 0),(0,t._)(this,"offsetTime",void 0),(0,t._)(this,"waitTimer",void 0),(0,t._)(this,"timeUpdateTimer",void 0),(0,t._)(this,"currentSource",void 0),this.reader=e,this.options=s,this.format="mp3",this.channels=1,this.loadDone=!1,this.playQueue=null,this.allData=[],this.sampleRate=44100,this.durationCache=-1,this.playStatus="stop",this.canplayEmitted=!1,this.processedChunks=0,this.minChunksBeforePlay=3,this.listeners={loadDone:[],stop:[],durationUpdate:[],timeupdate:[],canplay:[]},this.audioContext=null,this.volumeProxy=1,this.startTime=0,this.offsetTime=0,this.waitTimer=null,this.timeUpdateTimer=null,this.currentSource=null,this.options.sampleRate&&(this.sampleRate=this.options.sampleRate),this.format=this.options.format||"mp3",this.channels=this.options.channels||1,this.downloadByReader(),this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.emit=this.emit.bind(this)}}},465061,e=>{"use strict";e.s(["InstantTaskEventStream",()=>x,"createTTSTask",()=>r,"deleteTask",()=>o,"deleteTaskFeedback",()=>h,"downLoadStats",()=>d,"getCreditTasks",()=>n,"getModelLastUsed",()=>c,"getSelfTask",()=>l,"getTask",()=>a,"getTaskExamples",()=>m,"getTaskShareUrl",()=>p,"postTaskClone",()=>f,"postTaskFeedback",()=>u]);var t=e.i(299749),s=e.i(874183),i=e.i(100574);let r=async e=>{let t=new AbortController,r=setTimeout(()=>t.abort(),36e5),a=await fetch("".concat(i.BASE_URL,"/task"),{method:"POST",headers:{authorization:(0,i.getAuthorization)(),"content-type":"application/json"},body:JSON.stringify({type:"tts",stream:!0,model:e.model,turnstile:e.turnstile,prosody:e.prosody,latency:e.latency,parameters:{text:e.text},recaptcha:e.recaptcha,format:"mp3",backend:e.backend,sampler:e.sampler}),signal:t.signal});if(clearTimeout(r),401==a.status&&(0,i.handle401)(),!a.ok)if(a.status>=400&&a.status<500)(0,i.handle4xx)(await a.json());else throw Error("Unknown error occurred");let l=a.body.getReader();return a.headers.forEach((e,t)=>{console.log(t,e)}),{taskId:a.headers.get("task-id"),audio:new s.AudioPlayer(l)}},a=i.fetcher.path("/task/{task_id}").method("get").create(),l=i.fetcher.path("/task").method("get").create(),n=i.fetcher.path("/task/usage").method("get").create(),o=i.fetcher.path("/task").method("delete").create(),c=i.fetcher.path("/model/latest-used").method("get").create(),d=i.fetcher.path("/task/download-stats").method("post").create(),u=i.fetcher.path("/task/{task_id}/feedback").method("post").create(),h=i.fetcher.path("/task/{task_id}/feedback").method("delete").create(),m=i.fetcher.path("/task/example").method("get").create(),f=i.fetcher.path("/task/{task_id}/clone").method("post").create(),p=i.fetcher.path("/task/{task_id}/share-url").method("get").create();class x{async start(e){try{this.abortController=new AbortController;let t="".concat(i.BASE_URL,"/task/instant"),s=new FormData;s.append("audio",e.audio),e.recaptcha&&s.append("recaptcha",e.recaptcha);let r=await fetch(t,{method:"POST",headers:{Authorization:(0,i.getAuthorization)(),Accept:"text/event-stream"},body:s,signal:this.abortController.signal});if(!r.ok)throw Error("".concat(r.status," ").concat(r.statusText));if(!r.body)throw Error("response body is empty");this.isProcessing=!0,this.processStream(r.body)}catch(e){var t,s;throw null==(t=(s=this.callbacks).onError)||t.call(s,e),e}}async processStream(e){var t,s,i,r;let a=e.getReader(),l=new TextDecoder,n="";try{for(;this.isProcessing;){let{value:e,done:i}=await a.read();if(i)break;n+=l.decode(e,{stream:!0});let r=this.extractEvents(n);for(let e of(n=r.remainder,r.events))try{if(e.startsWith("data: ")){let t=e.slice(6),s=JSON.parse(t);this.handleEvent(s)}}catch(i){console.error(i,e),null==(t=(s=this.callbacks).onError)||t.call(s,i)}}}catch(e){"AbortError"!==e.name&&(console.error(e),null==(i=(r=this.callbacks).onError)||i.call(r,e))}finally{a.releaseLock()}}extractEvents(e){let t=e.split("\n\n");return{events:t.slice(0,-1),remainder:t[t.length-1]}}handleEvent(e){var t,s,i,r,a,l,n,o,c,d,u,h,m,f,p,x,v,g,b,y,w,k;let{message:j,duration:N,text:S,language:C,audio:_,alignment:E,type:A}=e;switch(j){case"asr_started":null==(t=(s=this.callbacks).onAsrStarted)||t.call(s);break;case"asr_finished":null==(i=(r=this.callbacks).onAsrFinished)||i.call(r,N||0,S||"",C);break;case"random_text_generation_started":null==(a=(l=this.callbacks).onRandomTextGenerationStarted)||a.call(l);break;case"random_text_generation_finished":null==(n=(o=this.callbacks).onRandomTextGenerationFinished)||n.call(o,S||"");break;case"tts_generation_started":null==(c=(d=this.callbacks).onTtsGenerationStarted)||c.call(d);break;case"tts_generation_finished":null==(u=(h=this.callbacks).onTtsGenerationFinished)||u.call(h);break;case"alignment_generation_started":null==(m=(f=this.callbacks).onAlignmentGenerationStarted)||m.call(f);break;case"alignment_generation_finished":null==(p=(x=this.callbacks).onAlignmentGenerationFinished)||p.call(x);break;case"tts_audio_and_alignment_generation_finished":null==(v=(g=this.callbacks).onTtsAudioAndAlignmentFinished)||v.call(g,_||"",E);break;case"asr_internal_error":null==(b=(y=this.callbacks).onError)||b.call(y,e);break;default:"error"===A?null==(w=(k=this.callbacks).onError)||w.call(k,e):console.log("unhandled event:",j)}}close(){this.isProcessing=!1,this.abortController&&(this.abortController.abort(),this.abortController=null)}constructor(e={}){(0,t._)(this,"abortController",null),(0,t._)(this,"callbacks",void 0),(0,t._)(this,"isProcessing",!1),this.callbacks=e}}},751946,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("thumbs-down",[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]])},100286,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("list-plus",[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]])},365582,e=>{"use strict";e.s(["ThumbsDown",()=>t.default]);var t=e.i(751946)},639125,e=>{"use strict";e.s(["ListPlus",()=>t.default]);var t=e.i(100286)},86303,e=>{"use strict";e.s(["CollectionAdditionDialog",()=>h]);var t=e.i(843476),s=e.i(585264),i=e.i(4272),r=e.i(681846),a=e.i(64585),l=e.i(703383),n=e.i(672345),o=e.i(846696),c=e.i(160889),d=e.i(647163),u=e.i(639125);let h=e=>{let{modelId:h,className:m,triggerChildren:f,isDashboard:p=!1}=e,x=(0,s.useTranslations)("discovery"),{user:v}=(0,a.useUser)(),g=(0,c.useRouter)(),{value:b}=(0,l.useAsync)(async()=>v?(await (0,n.listVoiceCollection)({})).data.filter(e=>e.user_id===(null==v?void 0:v._id)):[],[v]),y=async e=>{try{await (0,n.addModelToCollection)({id:e,model_id:h}),o.toast.success(x("notification.added_to_collection"))}catch(e){o.toast.error(e.message)}};return(0,t.jsxs)(r.DropdownMenu,{children:[(0,t.jsx)(r.DropdownMenuTrigger,{asChild:!0,children:f||(0,t.jsxs)(i.Button,{size:"sm",variant:"outline",className:"flex items-center gap-2 bg-gradient-to-b from-std-bg-elevated to-std-bg-card shadow-[0px_1px_1px_0px_rgba(14,14,17,0.04),0px_2px_4px_0px_rgba(14,14,17,0.04)]",children:[(0,t.jsx)(u.ListPlus,{className:"h-4 w-4"}),x("add_to_collection_action")]})}),(0,t.jsxs)(r.DropdownMenuContent,{className:(0,d.cn)("border-white/8 rounded-lg border bg-gradient-to-b from-std-bg-elevated to-std-bg-card shadow-[0px_1px_1px_0px_rgba(14,14,17,0.04),0px_2px_4px_0px_rgba(14,14,17,0.04)]",m),align:"end",children:[null==b?void 0:b.map(e=>(0,t.jsx)(r.DropdownMenuItem,{onClick:()=>{y(e._id)},children:x("add_to_collection",{title:e.title})},e._id)),(null!=b?b:[]).length>0&&(0,t.jsx)(r.DropdownMenuSeparator,{}),(0,t.jsx)(r.DropdownMenuItem,{onClick:()=>{g.push(p?"/app/my-library/voice-collections":"/my-library/voice-collections")},children:x("create_new_collection")})]})]})}},571930,444744,e=>{"use strict";e.s(["Bookmark",()=>t],571930),e.s(["default",()=>t],444744);let t=(0,e.i(475254).default)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},300299,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("thumbs-up",[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]])},95187,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(s,{callServer:function(){return i.callServer},createServerReference:function(){return a.createServerReference},findSourceMapURL:function(){return r.findSourceMapURL}});let i=e.r(132120),r=e.r(92245),a=e.r(235326)},117697,e=>{"use strict";e.s(["PlayCircle",()=>t.default]);var t=e.i(875475)},345707,e=>{"use strict";e.s(["default",()=>Q],345707);var t=e.i(843476),s=e.i(271645),i=e.i(163850),r=e.i(717889),a=e.i(585264),l=e.i(465061),n=e.i(647163),o=e.i(95187),c=(0,o.createServerReference)("60938b45144c9b72c0507b0e36b6f16329018e43af",o.callServer,void 0,o.findSourceMapURL,"getSampleAudio"),d=e.i(576173),u=e.i(141632),h=e.i(751552),m=e.i(144719),f=e.i(652670),p=e.i(531278),x=e.i(495242),v=e.i(382373),g=e.i(662031),b=e.i(400417),y=e.i(365582),w=e.i(571930),k=e.i(117697),j=e.i(440160),N=e.i(846696),S=e.i(173601),C=e.i(86303),_=e.i(64585),E=e.i(129668),A=e.i(100574),T=e.i(768347),O=e.i(558249),M=e.i(125789),L=e.i(543339),R=e.i(160889),z=e.i(808541),D=e.i(941855),P=e.i(4272),W=e.i(528352),F=e.i(67199),B=e.i(600743);let I=e=>{let{value:s,onChange:i,lngOpts:r,className:a,trackingPrefix:l="demo"}=e,{user:n}=(0,_.useUser)();return(0,t.jsxs)(F.Select,{value:s,onValueChange:e=>{i(e)},onOpenChange:e=>{e&&(0,O.track)("".concat(l,".lang_change_open"),{current_language:s,available_languages:r},n)},children:[(0,t.jsx)(F.SelectTrigger,{className:a,children:(0,t.jsx)(F.SelectValue,{})}),(0,t.jsx)(F.SelectContent,{children:null==r?void 0:r.map(e=>(0,t.jsx)(F.SelectItem,{value:e,children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(B.TwemojiFlag,{locale:e,className:"mr-1.5"}),(0,t.jsx)("span",{children:(e=>({en:"English",zh:"æ±‰è¯­",ja:"æ—¥æœ¬èªž",ko:"í•œêµ­ì–´",es:"EspaÃ±ol",pt:"PortuguÃªs",fr:"FranÃ§ais",de:"Deutsch",ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",ru:"Ð ÑƒÑÑÐºÐ¸Ð¹",it:"Italiano"})[e]||e)(e)})]})},e))})]})};var U=e.i(287121),V=e.i(200997);let H=e=>{let{value:s,onChange:i,models:r,className:a,lng:l,trackingPrefix:o="demo",modelOverrides:c={}}=e,{user:d}=(0,_.useUser)();return(0,t.jsx)(U.default,{autoHide:!0,className:(0,n.cn)("custom-scrollbar w-0 flex-1",a),children:(0,t.jsx)("div",{className:"flex gap-2 pr-2",children:null==r?void 0:r.map((e,r)=>{let a=c[r]||e.title;return(0,t.jsxs)("button",{onClick:()=>((e,t)=>{(0,O.track)("".concat(o,".voice_select"),{model_id:e,model_title:t,language:l},d),i(e)})(e._id,e.title),className:(0,n.cn)("flex h-[2.5rem] min-w-fit shrink-0 items-center gap-2 rounded-lg px-3",s===e._id?"model-button-item-active":"model-button-item"),children:[(0,t.jsx)(V.Avatar,{className:"h-5 w-5 rounded-md",children:(0,t.jsx)(V.AvatarImage,{src:(0,n.fetchImage)(e.cover_image,64),alt:e.title})}),(0,t.jsx)("span",{className:"whitespace-nowrap",children:a})]},e._id)})})})};var q=e.i(665788);let G=(0,s.forwardRef)((e,o)=>{var F,B,U,V,G,X,Q,Y,Z,J;let{className:K,hideLanguage:$,languageModelMap:ee,models:et,modelOverrides:es,children:ei,showSampleTabs:er,showActionButtons:ea,...el}=e,en=(0,a.useTranslations)("home"),eo=(0,a.useTranslations)("m"),ec=(0,a.useLocale)(),{isCN:ed}=(0,D.useEnvironment)(),eu=(0,s.useMemo)(()=>({en:"Hey there! After months of intensive development, Fish Speech 1.5 has just launched with major improvements to expressiveness, stability, and cross-language capabilities.",zh:"å—¨ï¼ç»è¿‡å‡ ä¸ªæœˆçš„è‰°è‹¦å¼€å‘ï¼ŒFish Speech 1.5 åˆšåˆšå‘å¸ƒï¼Œå¸¦æ¥äº†è¡¨è¾¾èƒ½åŠ›ã€ç¨³å®šæ€§å’Œè·¨è¯­è¨€èƒ½åŠ›çš„é‡å¤§æ”¹è¿›ã€‚",ja:"ã“ã‚“ã«ã¡ã¯ï¼æ•°ã‹æœˆã«ã‚ãŸã‚‹ç¶™ç¶šçš„ãªé–‹å‘ã«ã‚ˆã‚Šã€Fish Speech 1.5 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚è¡¨ç¾åŠ›ã€å®‰å®šæ€§ã€ãŠã‚ˆã³å¤šè¨€èªžå¯¾å¿œèƒ½åŠ›ãŒå¤§å¹…ã«æ”¹å–„ã•ã‚Œã¾ã—ãŸã€‚"}),[]),eh=et||ee,em=ec.split("-")[0],ef=eh&&Object.keys(eh).find(e=>e===em)||"en",ep=null==eh||null==(B=eh[ef])||null==(F=B[0])?void 0:F._id,ex=(null!=(Z=null==eh||null==(X=eh[ef])||null==(G=X[0])||null==(V=G.samples)||null==(U=V[0])?void 0:U.text)?Z:null)||(null!=(J=null==eh||null==(Y=eh[ef])||null==(Q=Y[0])?void 0:Q.default_text)?J:null)||eu[ef]||eu.en,[ev,eg]=(0,s.useState)(ex),{user:eb}=(0,_.useUser)(),{userPackage:ey,fetchPackage:ew}=(0,E.usePackage)(),ek=(0,R.useRouter)(),ej=(null==ey?void 0:ey.type)&&(null==ey?void 0:ey.type)!=="free"?3e4:500,eN=(null==ey?void 0:ey.type)&&(null==ey?void 0:ey.type)!=="free",[eS,eC]=(0,s.useState)(ef),[e_,eE]=(0,s.useState)(ep),[eA,eT]=(0,s.useState)(eh),[eO,eM]=(0,s.useState)(null),[eL,eR]=(0,s.useState)(),{isPlaying:ez,play:eD,pause:eP,duration:eW,currentTime:eF}=(0,d.useAudioPlayController)(eO,!0),eB=(0,s.useRef)(void 0),eI=(0,s.useRef)(""),[eU,eV]=(0,s.useState)(!1),eH=(0,s.useRef)(void 0),eq=(0,s.useMemo)(()=>new TextEncoder().encode(ev).length,[ev]),[eG,eX]=(0,s.useState)(()=>parseInt(sessionStorage.getItem("tts-demo-count")||"0")),{showAuthDialog:eQ}=(0,M.useAuthDialog)(),{showUpgradeDialog:eY}=(0,T.useUpgradeDialog)(),{showInsufficientApiCreditDialog:eZ}=(0,L.useInsufficientApiCreditDialog)(),{openDialog:eJ}=(0,z.useHookDialog)(),eK=(0,s.useRef)(!1),{downloadAudio:e$}=(0,h.useAudioDownload)(),e0=(0,s.useCallback)(()=>{if((0,O.track)("homepage.demo.try_full_click",{text_length:eq,model_id:e_||null},eb),!(null==eb?void 0:eb._id))return void eQ({source:"tts_demo_try_full_feature",redirectPath:"/app/"});ek.push("/text-to-speech?modelId=".concat(e_,"&text=").concat(ev))},[e_,eQ,ek,ev,eb,eq]),e1=(0,s.useRef)(!1);(0,s.useEffect)(()=>{!eN&&ez&&eF>=4.2&&eF<=5.8&&!eK.current&&((null==eb?void 0:eb._id)?eJ((0,t.jsx)("div",{className:"my-12 flex flex-col gap-4 px-8 md:my-6 md:px-12",children:(0,t.jsx)(P.Button,{variant:"outline",onClick:()=>e0(),className:"w-full rounded-lg border border-std-border-base bg-gradient-to-b from-[#EEEEF1] to-[#FAFAFA] py-4 font-semibold shadow-[0px_1px_1px_0px_rgba(14,14,17,0.04),0px_2px_4px_0px_rgba(14,14,17,0.04)] dark:text-std-bg-popover dark:hover:text-std-bg-popover",children:en("text-to-speech-demo.try-now")})})):eQ({source:"tts_demo_mid_audio_popup",redirectPath:"/app/"}),eK.current=!0)},[eF,ez,eb,eJ,eQ,eN,e0,en]),(0,s.useEffect)(()=>{sessionStorage.setItem("tts-demo-count",eG.toString())},[eG]),(0,s.useEffect)(()=>()=>{let e=eH.current;e&&clearTimeout(e)},[]);let e2=(0,s.useCallback)((e,t)=>{if(!eA||!eS)return null;let s=eA[eS],i=null==s?void 0:s.find(e=>e._id===t);if(!(null==i?void 0:i.samples))return null;let r=i.samples.find(t=>t.text.trim().toLowerCase()===e.trim().toLowerCase());return(null==r?void 0:r.audio)||null},[eA,eS]);(0,r.useEvent)("visibilitychange",e=>{"hidden"===e.target.visibilityState&&eP()});let[e5,e4]=(0,i.useAsyncFn)(async e=>{try{let{text:t,model_id:s}=e,i=(null==eb?void 0:eb._id)?(null==ey?void 0:ey.type)==="free"?"playground":void 0:"demo",r=i?await (0,A.getReCaptchaToken)(i):null;(0,O.track)("home_tts",{model_id:s,text:t},eb);let a=(null==eb?void 0:eb._id)?l.createTTSTask:u.overviewTTS,n=(null==eb?void 0:eb._id)?{model:s}:{model_id:s},o=await a({text:t,recaptcha:r,posthog_distinct_id:"ph_id",latency:"normal",...n});(null==eb?void 0:eb._id)||eX(e=>e+1),eM(o.audio),eR("taskId"in o?o.taskId:void 0),eI.current=t,ew()}catch(e){var t,s,i;if(console.log(e),(null==e||null==(t=e.cause)?void 0:t.status)===400&&(null==e||null==(s=e.cause)?void 0:s.message)==="Invalid model_id")setTimeout(()=>N.toast.dismiss(),0),eQ({source:"tts_demo_restricted_model",redirectPath:window.location.href});else if((null==e||null==(i=e.cause)?void 0:i.status)===402)switch(setTimeout(()=>N.toast.dismiss(),0),null==e?void 0:e.cause.message){case"Out of credits":eY();break;case"Insufficient API credits":eZ()}eB.current=void 0}},[eb,ey,eG]),e3=(e,t)=>{var s,i;eE(e);let r=null==eA||null==(i=eA[t||eS])||null==(s=i.find(t=>t._id===e))?void 0:s.default_text;eg((null!=r?r:null)||eu[t||eS]||eu.en)},e6=async e=>{if((0,O.track)("homepage.demo.tts_generate_click",{text_length:eq,model_id:e_||null},eb),!eU&&!e5.loading){if(!e)return void N.toast.error(en("text-to-speech-demo.empty-text"));if(!e_)return void N.toast.error(en("text-to-speech-demo.empty-model"));if(eq>ej)return void N.toast.error(en("text-to-speech-demo.text_to_long"));if(eB.current==="".concat(e,"-").concat(e_))return void(ez?eP():eD());if(!(null==eb?void 0:eb._id)&&eG>=2)return void eQ({source:"tts_demo_limit_reached",redirectPath:"/app/"});if(e2(e,e_)){eV(!0);try{let t=await c(e_,e);if(t){eB.current="".concat(e,"-").concat(e_);let s=new Audio((0,n.formatAudioUrl)(t,ed));eM(s),eR(void 0),eI.current=e,eV(!1),(0,O.track)("homepage.demo.cache_hit",{model_id:e_,text_length:eq},eb);return}}catch(e){console.error("Error fetching sample audio:",e)}eV(!1)}eB.current="".concat(e,"-").concat(e_),eK.current=!1,e4({text:e,model_id:e_})}},e7=(0,s.useMemo)(()=>{if(!eA||!eS||!e_)return null;let e=eA[eS];return(null==e?void 0:e.find(e=>e._id===e_))||null},[eA,eS,e_]),e8=(0,s.useMemo)(()=>{if(!e7)return[];let e=e7.samples||[],t=e7.default_text;return e.length>0&&t&&!e.some(e=>{var s;return(null==(s=e.text)?void 0:s.trim().toLowerCase())===t.trim().toLowerCase()})?[...e,{title:eo("system_default"),text:t,audio:"",task_id:""}]:e},[e7]),{like:e9,unliked:te,mark:tt,handleLike:ts,handleUnliked:ti,handleMark:tr,share:ta}=(0,S.useVoiceCardActions)(e7)||{},tl=(0,s.useCallback)((e,t,s)=>{eg(e),t?(eB.current="".concat(e,"-").concat(e_),eM(new Audio((0,n.formatAudioUrl)(t,ed))),eR(void 0),eI.current=e):eB.current=void 0,(0,O.track)("homepage.demo.sample_tab_click",{model_id:e_,sample_text:e,sample_index:s,has_audio:!!t},eb)},[e_,ed,eb]),tn=(0,s.useCallback)(async()=>{if(!(null==eb?void 0:eb._id))return void eQ({source:"tts_demo_download",redirectPath:window.location.href});(0,O.track)("homepage.demo.download_click",{model_id:e_||null,text_length:eq,is_premium:eN},eb),await e$(eO,{taskId:eL,modelTitle:null==e7?void 0:e7.title,text:eI.current})},[eO,eL,eb,eQ,e_,eq,e7,e$,eN]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{ref:o,className:(0,n.cn)("text-to-speech-demo",K),...el,children:(0,t.jsxs)("div",{className:"text-area-wrapper relative z-[2] w-full",children:[ei&&(0,t.jsx)("div",{className:"relative z-[3] w-full [&>*]:!rounded-b-none",children:(0,s.isValidElement)(ei)&&e7?(0,s.cloneElement)(ei,{data:e7}):ei}),(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)("textarea",{value:ev,"aria-label":en("text-to-speech-demo.placeholder"),className:(0,n.cn)("text-area h-[19.5rem] w-full px-4 text-base md:text-lg",er&&e8.length>0?"pb-6 pt-12":"py-6",ei&&"!rounded-t-none"),placeholder:en("text-to-speech-demo.placeholder"),onChange:e=>{let t=e.target.value;eg(t),e1.current||t===ev||((0,O.track)("homepage.demo.textbox_modify",{initial_text_length:eq,model_id:e_||null,language:eS},eb),e1.current=!0)},maxLength:ej}),er&&e8.length>0&&(0,t.jsx)("div",{className:"absolute left-4 right-4 top-4 overflow-x-auto scrollbar-none",children:(0,t.jsx)("div",{className:"flex gap-2",children:e8.map((e,s)=>(0,t.jsxs)("button",{onClick:()=>tl(e.text,e.audio,s),className:(0,n.cn)("flex shrink-0 items-center gap-1.5 rounded-lg px-3 py-1.5 text-xs font-medium transition-colors",e.text.trim().toLowerCase()===ev.trim().toLowerCase()?"model-button-item-active":"model-button-item"),children:[e.audio?(0,t.jsx)(k.PlayCircle,{className:"h-3.5 w-3.5"}):(0,t.jsx)(v.Volume2,{className:"h-3 w-3"}),e.title||"Sample ".concat(s+1)]},s))})})]}),(0,t.jsx)("div",{className:"absolute inset-x-0 bottom-[5.58rem] flex w-full max-w-full px-6 md:px-6",children:eS?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(H,{value:e_,onChange:e3,models:null==eA?void 0:eA[eS],lng:eS,trackingPrefix:"homepage.demo",modelOverrides:null==es?void 0:es[eS]}),(0,t.jsx)("div",{className:"mr-1 h-10 w-5 bg-gradient-to-r from-transparent to-white opacity-5 dark:from-[#1D1D1D] dark:to-transparent dark:opacity-50"}),(0,t.jsx)(R.Link,{className:"flex",href:"/discovery",onClick:()=>{(0,O.track)("homepage.demo.more_voice_click",{current_model_id:e_||null},eb)},children:(0,t.jsxs)("button",{className:"select-container relative flex items-center gap-2 rounded-lg border-std-border-base bg-std-bg-elevated px-3 py-2 text-std-text-primary",children:[(0,t.jsx)(f.CompassIcon,{className:"h-5 w-5 text-std-text-heading"}),(0,t.jsx)("span",{className:"hidden text-sm font-medium text-std-text-primary md:block",children:en("text-to-speech-demo.more-voice")})]})})]}):(0,t.jsx)("div",{className:"flex w-full gap-2",children:[1,2,3,4].map(e=>(0,t.jsx)(W.Skeleton,{className:"h-10 w-32 shrink-0 rounded-lg"},e))})}),(0,t.jsxs)("div",{className:"area-bottom relative box-border flex h-[4.25rem] w-full items-center border-t p-4",children:[(0,t.jsx)(q.default,{percent:eF/eW*100,className:"absolute -top-[0.125rem] left-0 h-[2px] rounded-s-lg"}),(0,t.jsxs)("div",{className:"flex w-full max-w-full items-center justify-between gap-4",children:[ea&&e7?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"hidden gap-2 md:flex",children:[(0,t.jsx)(C.CollectionAdditionDialog,{modelId:e7._id,isDashboard:!1}),!ed&&(0,t.jsx)(P.Button,{size:"sm",variant:"outline",onClick:ta,children:(0,t.jsx)(g.Share2,{className:"h-4 w-4"})}),(0,t.jsx)(P.Button,{size:"sm",variant:"outline",onClick:ts,children:(0,t.jsx)(b.ThumbsUp,{className:(0,n.cn)("h-4 w-4",e9&&"text-red"),fill:e9?"currentColor":"none"})}),(0,t.jsx)(P.Button,{size:"sm",variant:"outline",onClick:ti,children:(0,t.jsx)(y.ThumbsDown,{className:(0,n.cn)("h-4 w-4",te&&"text-red-500"),fill:te?"currentColor":"none"})}),(0,t.jsx)(P.Button,{size:"sm",variant:"outline",onClick:tr,children:(0,t.jsx)(w.Bookmark,{className:(0,n.cn)("h-4 w-4",tt&&"fill-current")})})]}),(0,t.jsx)("div",{className:"md:hidden"})]}):$?(0,t.jsx)("div",{}):eS?(0,t.jsx)(I,{className:"select-container select-container-shadow h-[2.5rem] w-[4.75rem] shrink-0 rounded-lg md:w-[10rem]",value:eS,onChange:e=>(e=>{var t,s;eC(e),e3(null==eA||null==(s=eA[e])||null==(t=s[0])?void 0:t._id,e),(0,O.track)("homepage.demo.lang_change_click",{language:e,model_id:e_||null},eb)})(e),lngOpts:Object.keys(eA||{}),trackingPrefix:"homepage.demo"}):(0,t.jsx)(W.Skeleton,{className:"h-[2.5rem] w-[4.75rem] shrink-0 rounded-lg md:w-[10rem]"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"mx-1 h-6 w-[1px] bg-std-border-base md:mx-5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:(0,n.cn)({"text-red":eq>ej}),children:eq}),(0,t.jsxs)("span",{className:"text-std-text-primary",children:["/",ej]})]}),eO&&ev===eI.current&&!eU&&!e5.loading&&(0,t.jsx)("button",{onClick:tn,className:"flex h-10 w-10 items-center justify-center rounded-full border border-std-border-base bg-std-bg-elevated transition-all duration-200 ease-out animate-in fade-in-0 zoom-in-95 slide-in-from-right-2 hover:bg-std-bg-card",title:en("text-to-speech-demo.download"),"aria-label":en("text-to-speech-demo.download"),children:(0,t.jsx)(j.Download,{className:"h-4 w-4 text-std-text-heading"})}),(0,t.jsx)("div",{className:"glow-icon flex h-10 w-10 cursor-pointer items-center justify-center overflow-hidden rounded-full",onClick:()=>e6(ev),children:(0,t.jsx)("div",{className:"glow-icon-inner flex h-full w-full items-center justify-center",children:e5.loading||eU?(0,t.jsx)(p.Loader2,{className:"h-5 w-5 animate-spin text-black"}):ez?(0,t.jsx)(x.Pause,{className:"h-5 w-5 text-black"}):(0,t.jsx)(m.StartIcon,{className:"h-5 w-5"})})})]})]})]})]})})})});G.displayName="TextToSpeechDemoContent";let X=(0,s.forwardRef)((e,i)=>(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"h-[19.5rem] w-full animate-pulse rounded-lg bg-gray-200"}),children:(0,t.jsx)(G,{...e,ref:i})}));X.displayName="TextToSpeechDemo";let Q=X}]);