(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,600652,(e,t,o)=>{var n,r,i,a,s,c,h,p,u,l,d,m,g,f,v,w=!1;function x(){if(!w){w=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),o=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(m=/\b(iPhone|iP[ao]d)/.exec(e),g=/\b(iP[ao]d)/.exec(e),l=/Android/i.exec(e),f=/FBAN\/\w+;/i.exec(e),v=/Mobile/i.exec(e),d=!!/Win64/.exec(e),t){(n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(n=document.documentMode);var x=/(?:Trident\/(\d+.\d+))/.exec(e);c=x?parseFloat(x[1])+4:n,r=t[2]?parseFloat(t[2]):NaN,i=t[3]?parseFloat(t[3]):NaN,s=(a=t[4]?parseFloat(t[4]):NaN)&&(t=/(?:Chrome\/(\d+\.\d+))/.exec(e))&&t[1]?parseFloat(t[1]):NaN}else n=r=i=s=a=NaN;if(o){if(o[1]){var C=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);h=!C||parseFloat(C[1].replace("_","."))}else h=!1;p=!!o[2],u=!!o[3]}else h=p=u=!1}}var C={ie:function(){return x()||n},ieCompatibilityMode:function(){return x()||c>n},ie64:function(){return C.ie()&&d},firefox:function(){return x()||r},opera:function(){return x()||i},webkit:function(){return x()||a},safari:function(){return C.webkit()},chrome:function(){return x()||s},windows:function(){return x()||p},osx:function(){return x()||h},linux:function(){return x()||u},iphone:function(){return x()||m},mobile:function(){return x()||m||g||l||v},nativeApp:function(){return x()||f},android:function(){return x()||l},ipad:function(){return x()||g}};t.exports=C},410316,(e,t,o)=>{"use strict";var n=!!("undefined"!=typeof window&&window.document&&window.document.createElement);t.exports={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n}},433418,(e,t,o)=>{"use strict";var n,r=e.r(410316);r.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=function(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var o="on"+e,i=o in document;if(!i){var a=document.createElement("div");a.setAttribute(o,"return;"),i="function"==typeof a[o]}return!i&&n&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},952545,(e,t,o)=>{"use strict";var n=e.r(600652),r=e.r(433418);function i(e){var t=0,o=0,n=0,r=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=o,o=0),n=10*t,r=10*o,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||r)&&e.deltaMode&&(1==e.deltaMode?(n*=40,r*=40):(n*=800,r*=800)),n&&!t&&(t=n<1?-1:1),r&&!o&&(o=r<1?-1:1),{spinX:t,spinY:o,pixelX:n,pixelY:r}}i.getEventType=function(){return n.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},t.exports=i},699733,(e,t,o)=>{t.exports=e.r(952545)},847136,e=>{"use strict";e.s(["PictureClip",()=>R],847136);var t=e.i(843476),o=e.i(271645),n=e.i(585264),r=e.i(969520),i=e.i(472068),a=e.i(326999),s=e.i(290571),c=e.i(699733);function h(e,t,o,n,r){void 0===r&&(r=0);var i=f(t.width,t.height,r),a=i.width,s=i.height;return{x:p(e.x,a,o.width,n),y:p(e.y,s,o.height,n)}}function p(e,t,o,n){var r=t*n/2-o/2;return v(e,-r,r)}function u(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function l(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function d(e,t){return Math.min(e,Math.max(0,t))}function m(e,t){return t}function g(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function f(e,t,o){var n=o*Math.PI/180;return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}function v(e,t,o){return Math.min(Math.max(e,t),o)}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return"string"==typeof e&&!!(e.length>0)}).join(" ").trim()}var x=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.cropperRef=o.createRef(),n.imageRef=o.createRef(),n.videoRef=o.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc="undefined"!=typeof document?document:null,n.currentWindow="undefined"!=typeof window?window:null,n.resizeObserver=null,n.previousCropSize=null,n.isInitialized=!1,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(void 0!==window.ResizeObserver&&n.containerRef){var e=!0;n.resizeObserver=new window.ResizeObserver(function(t){if(e){e=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(e){return e.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var e=n.computeSizes();e&&(n.previousCropSize=e,n.emitCropData(),n.setInitialCrop(e),n.isInitialized=!0),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(e){if(n.props.initialCroppedAreaPercentages){var t,o,r,i,a,s,c,h=(t=n.props.initialCroppedAreaPercentages,o=n.mediaSize,r=n.props.rotation,i=n.props.minZoom,a=n.props.maxZoom,s=f(o.width,o.height,r),{crop:{x:(c=v(e.width/s.width*(100/t.width),i,a))*s.width/2-e.width/2-s.width*c*(t.x/100),y:c*s.height/2-e.height/2-s.height*c*(t.y/100)},zoom:c}),p=h.crop,u=h.zoom;n.props.onCropChange(p),n.props.onZoomChange&&n.props.onZoomChange(u)}else if(n.props.initialCroppedAreaPixels){var l,d,m,g,w,x,C,S,y,z=(l=n.props.initialCroppedAreaPixels,d=n.mediaSize,m=n.props.rotation,g=n.props.minZoom,w=n.props.maxZoom,void 0===m&&(m=0),x=f(d.naturalWidth,d.naturalHeight,m),S=v((C=d.width>d.height?d.width/d.naturalWidth:d.height/d.naturalHeight,e.height>e.width?e.height/(l.height*C):e.width/(l.width*C)),g,w),y=e.height>e.width?e.height/l.height:e.width/l.width,{crop:{x:((x.width-l.width)/2-l.x)*y,y:((x.height-l.height)/2-l.y)*y},zoom:S}),p=z.crop,u=z.zoom;n.props.onCropChange(p),n.props.onZoomChange&&n.props.onZoomChange(u)}},n.computeSizes=function(){var e,t,o,r,i,a,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h,p,u,l,d,m,g,v,w,x,C,S=n.containerRect.width/n.containerRect.height,y=(null==(e=n.imageRef.current)?void 0:e.naturalWidth)||(null==(t=n.videoRef.current)?void 0:t.videoWidth)||0,z=(null==(o=n.imageRef.current)?void 0:o.naturalHeight)||(null==(r=n.videoRef.current)?void 0:r.videoHeight)||0,b=c.offsetWidth<y||c.offsetHeight<z,R=y/z,D=void 0;if(b)switch(n.state.mediaObjectFit){default:case"contain":D=S>R?{width:n.containerRect.height*R,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/R};break;case"horizontal-cover":D={width:n.containerRect.width,height:n.containerRect.width/R};break;case"vertical-cover":D={width:n.containerRect.height*R,height:n.containerRect.height}}else D={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=(0,s.__assign)((0,s.__assign)({},D),{naturalWidth:y,naturalHeight:z}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var P=n.props.cropSize?n.props.cropSize:(h=n.mediaSize.width,p=n.mediaSize.height,u=n.containerRect.width,l=n.containerRect.height,d=n.props.aspect,void 0===(m=n.props.rotation)&&(m=0),v=(g=f(h,p,m)).width,w=g.height,(x=Math.min(v,u))>(C=Math.min(w,l))*d?{width:C*d,height:C}:{width:x,height:x/d});return((null==(i=n.state.cropSize)?void 0:i.height)!==P.height||(null==(a=n.state.cropSize)?void 0:a.width)!==P.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(P),n.setState({cropSize:P},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(P),P}},n.saveContainerPosition=function(){if(n.containerRef){var e=n.containerRef.getBoundingClientRect();n.containerPosition={x:e.left,y:e.top}}},n.onMouseDown=function(e){n.currentDoc&&(e.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(e)))},n.onMouseMove=function(e){return n.onDrag(t.getMousePoint(e))},n.onScroll=function(e){n.currentDoc&&(e.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(e){n.currentDoc&&(n.isTouching=!0,(!n.props.onTouchRequest||n.props.onTouchRequest(e))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),2===e.touches.length?n.onPinchStart(e):1===e.touches.length&&n.onDragStart(t.getTouchPoint(e.touches[0]))))},n.onTouchMove=function(e){e.preventDefault(),2===e.touches.length?n.onPinchMove(e):1===e.touches.length&&n.onDrag(t.getTouchPoint(e.touches[0]))},n.onGestureStart=function(e){n.currentDoc&&(e.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(e){if(e.preventDefault(),!n.isTouching){var o=t.getMousePoint(e),r=n.gestureZoomStart-1+e.scale;if(n.setNewZoom(r,o,{shouldUpdatePosition:!0}),n.props.onRotationChange){var i=n.gestureRotationStart+e.rotation;n.props.onRotationChange(i)}}},n.onGestureEnd=function(e){n.cleanEvents()},n.onDragStart=function(e){var t,o;n.dragStartPosition={x:e.x,y:e.y},n.dragStartCrop=(0,s.__assign)({},n.props.crop),null==(o=(t=n.props).onInteractionStart)||o.call(t)},n.onDrag=function(e){var t=e.x,o=e.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&void 0!==t&&void 0!==o){var e=t-n.dragStartPosition.x,r=o-n.dragStartPosition.y,i={x:n.dragStartCrop.x+e,y:n.dragStartCrop.y+r},a=n.props.restrictPosition?h(i,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):i;n.props.onCropChange(a)}}))},n.onDragStopped=function(){var e,t;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),null==(t=(e=n.props).onInteractionEnd)||t.call(e)},n.onWheel=function(e){if(n.currentWindow&&(!n.props.onWheelRequest||n.props.onWheelRequest(e))){e.preventDefault();var o=t.getMousePoint(e),r=(0,c.default)(e).pixelY,i=n.props.zoom-r*n.props.zoomSpeed/200;n.setNewZoom(i,o,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var e,t;return null==(t=(e=n.props).onInteractionStart)?void 0:t.call(e)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var e,t;return null==(t=(e=n.props).onInteractionEnd)?void 0:t.call(e)})},250)}},n.getPointOnContainer=function(e,t){var o=e.x,r=e.y;if(!n.containerRect)throw Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(o-t.x),y:n.containerRect.height/2-(r-t.y)}},n.getPointOnMedia=function(e){var t=e.x,o=e.y,r=n.props,i=r.crop,a=r.zoom;return{x:(t+i.x)/a,y:(o+i.y)/a}},n.setNewZoom=function(e,t,o){var r=(void 0===o?{}:o).shouldUpdatePosition;if(n.state.cropSize&&n.props.onZoomChange){var i=v(e,n.props.minZoom,n.props.maxZoom);if(void 0===r||r){var a=n.getPointOnContainer(t,n.containerPosition),s=n.getPointOnMedia(a),c={x:s.x*i-a.x,y:s.y*i-a.y},p=n.props.restrictPosition?h(c,n.mediaSize,n.state.cropSize,i,n.props.rotation):c;n.props.onCropChange(p)}n.props.onZoomChange(i)}},n.getCropData=function(){var e,t,o,r,i,a,c,p,u,l,g,v,w,x,C;return n.state.cropSize?(e=n.props.restrictPosition?h(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop,t=n.mediaSize,o=n.state.cropSize,r=n.getAspect(),i=n.props.zoom,a=n.props.rotation,c=n.props.restrictPosition,void 0===a&&(a=0),void 0===c&&(c=!0),p=c?d:m,u=f(t.width,t.height,a),l=f(t.naturalWidth,t.naturalHeight,a),g={x:p(100,((u.width-o.width/i)/2-e.x/i)/u.width*100),y:p(100,((u.height-o.height/i)/2-e.y/i)/u.height*100),width:p(100,o.width/u.width*100/i),height:p(100,o.height/u.height*100/i)},v=Math.round(p(l.width,g.width*l.width/100)),w=Math.round(p(l.height,g.height*l.height/100)),x=l.width>=l.height*r?{width:Math.round(w*r),height:w}:{width:v,height:Math.round(v/r)},C=(0,s.__assign)((0,s.__assign)({},x),{x:Math.round(p(l.width-x.width,g.x*l.width/100)),y:Math.round(p(l.height-x.height,g.y*l.height/100))}),{croppedAreaPercentages:g,croppedAreaPixels:C}):null},n.emitCropData=function(){var e=n.getCropData();if(e){var t=e.croppedAreaPercentages,o=e.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(t,o),n.props.onCropAreaChange&&n.props.onCropAreaChange(t,o)}},n.emitCropAreaChange=function(){var e=n.getCropData();if(e){var t=e.croppedAreaPercentages,o=e.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(t,o)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var e,t,o=n.props.crop;if(n.isInitialized&&(null==(e=n.previousCropSize)?void 0:e.width)&&(null==(t=n.previousCropSize)?void 0:t.height)&&(Math.abs(n.previousCropSize.width-n.state.cropSize.width)>1e-6||Math.abs(n.previousCropSize.height-n.state.cropSize.height)>1e-6)){var r=n.state.cropSize.width/n.previousCropSize.width,i=n.state.cropSize.height/n.previousCropSize.height;o={x:n.props.crop.x*r,y:n.props.crop.y*i}}var a=n.props.restrictPosition?h(o,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):o;n.previousCropSize=n.state.cropSize,n.props.onCropChange(a),n.emitCropData()}},n.onKeyDown=function(e){var t,o,r=n.props,i=r.crop,a=r.onCropChange,c=r.keyboardStep,p=r.zoom,u=r.rotation,l=c;if(n.state.cropSize){e.shiftKey&&(l*=.2);var d=(0,s.__assign)({},i);switch(e.key){case"ArrowUp":d.y-=l,e.preventDefault();break;case"ArrowDown":d.y+=l,e.preventDefault();break;case"ArrowLeft":d.x-=l,e.preventDefault();break;case"ArrowRight":d.x+=l,e.preventDefault();break;default:return}n.props.restrictPosition&&(d=h(d,n.mediaSize,n.state.cropSize,p,u)),e.repeat||null==(o=(t=n.props).onInteractionStart)||o.call(t),a(d)}},n.onKeyUp=function(e){var t,o;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":e.preventDefault();break;default:return}n.emitCropData(),null==(o=(t=n.props).onInteractionEnd)||o.call(t)},n}return(0,s.__extends)(t,e),t.prototype.componentDidMount=function(){this.currentDoc&&this.currentWindow&&(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),void 0===window.ResizeObserver&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var e,t;this.currentDoc&&this.currentWindow&&(void 0===window.ResizeObserver&&this.currentWindow.removeEventListener("resize",this.computeSizes),null==(e=this.resizeObserver)||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null==(t=this.styleRef.parentNode)||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(e){e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect||e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null==(t=e.cropSize)?void 0:t.height)!==(null==(o=this.props.cropSize)?void 0:o.height)||(null==(n=e.cropSize)?void 0:n.width)!==(null==(r=this.props.cropSize)?void 0:r.width)?this.computeSizes():((null==(i=e.crop)?void 0:i.x)!==(null==(a=this.props.crop)?void 0:a.x)||(null==(s=e.crop)?void 0:s.y)!==(null==(c=this.props.crop)?void 0:c.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&(null==(h=this.videoRef.current)||h.load());var t,o,n,r,i,a,s,c,h,p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},t.prototype.getAspect=function(){var e=this.props,t=e.cropSize,o=e.aspect;return t?t.width/t.height:o},t.prototype.getObjectFit=function(){var e,t,o,n;if("cover"===this.props.objectFit){if((this.imageRef.current||this.videoRef.current)&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var r=this.containerRect.width/this.containerRect.height;return((null==(e=this.imageRef.current)?void 0:e.naturalWidth)||(null==(t=this.videoRef.current)?void 0:t.videoWidth)||0)/((null==(o=this.imageRef.current)?void 0:o.naturalHeight)||(null==(n=this.videoRef.current)?void 0:n.videoHeight)||0)<r?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(e){var o=t.getTouchPoint(e.touches[0]),n=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=u(o,n),this.lastPinchRotation=l(o,n),this.onDragStart(g(o,n))},t.prototype.onPinchMove=function(e){var o=this;if(this.currentDoc&&this.currentWindow){var n=t.getTouchPoint(e.touches[0]),r=t.getTouchPoint(e.touches[1]),i=g(n,r);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var e=u(n,r),t=o.props.zoom*(e/o.lastPinchDistance);o.setNewZoom(t,i,{shouldUpdatePosition:!1}),o.lastPinchDistance=e;var a=l(n,r),s=o.props.rotation+(a-o.lastPinchRotation);o.props.onRotationChange&&o.props.onRotationChange(s),o.lastPinchRotation=a})}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.image,i=n.video,a=n.mediaProps,c=n.cropperProps,h=n.transform,p=n.crop,u=p.x,l=p.y,d=n.rotation,m=n.zoom,g=n.cropShape,f=n.showGrid,v=n.roundCropAreaPixels,x=n.style,C=x.containerStyle,S=x.cropAreaStyle,y=x.mediaStyle,z=n.classes,b=z.containerClassName,R=z.cropAreaClassName,D=z.mediaClassName,P=null!=(e=this.state.mediaObjectFit)?e:this.getObjectFit();return o.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(e){return t.containerRef=e},"data-testid":"container",style:C,className:w("reactEasyCrop_Container",b)},r?o.createElement("img",(0,s.__assign)({alt:"",className:w("reactEasyCrop_Image","contain"===P&&"reactEasyCrop_Contain","horizontal-cover"===P&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===P&&"reactEasyCrop_Cover_Vertical",D)},a,{src:r,ref:this.imageRef,style:(0,s.__assign)((0,s.__assign)({},y),{transform:h||"translate(".concat(u,"px, ").concat(l,"px) rotate(").concat(d,"deg) scale(").concat(m,")")}),onLoad:this.onMediaLoad})):i&&o.createElement("video",(0,s.__assign)({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:w("reactEasyCrop_Video","contain"===P&&"reactEasyCrop_Contain","horizontal-cover"===P&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===P&&"reactEasyCrop_Cover_Vertical",D)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:(0,s.__assign)((0,s.__assign)({},y),{transform:h||"translate(".concat(u,"px, ").concat(l,"px) rotate(").concat(d,"deg) scale(").concat(m,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(e){return o.createElement("source",(0,s.__assign)({key:e.src},e))})),this.state.cropSize&&o.createElement("div",(0,s.__assign)({ref:this.cropperRef,style:(0,s.__assign)((0,s.__assign)({},S),{width:v?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:v?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:w("reactEasyCrop_CropArea","round"===g&&"reactEasyCrop_CropAreaRound",f&&"reactEasyCrop_CropAreaGrid",R)},c)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:1},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(o.Component),C=e.i(4272),S=e.i(554212),y=e.i(520354);function z(e){return e*Math.PI/180}async function b(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{horizontal:!1,vertical:!1},r=await new Promise((t,o)=>{let n=new Image;n.addEventListener("load",()=>t(n)),n.addEventListener("error",e=>o(e)),n.setAttribute("crossOrigin","anonymous"),n.src=e}),i=document.createElement("canvas"),a=i.getContext("2d");if(!a)return null;let s=z(o),{width:c,height:h}=function(e,t,o){let n=z(o);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}(r.width,r.height,o);i.width=c,i.height=h,a.translate(c/2,h/2),a.rotate(s),a.scale(n.horizontal?-1:1,n.vertical?-1:1),a.translate(-r.width/2,-r.height/2),a.drawImage(r,0,0);let p=document.createElement("canvas"),u=p.getContext("2d");return u?(p.width=t.width,p.height=t.height,u.drawImage(i,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise((e,t)=>{p.toBlob(t=>{e(new File([t],"image.jpg",{type:"image/jpeg"}))},"image/jpeg")})):null}let R=(0,o.forwardRef)((e,s)=>{let{onFileChange:c}=e,h=(0,n.useTranslations)("train-new-model"),[p,u]=(0,o.useState)(!1),[l,d]=(0,o.useState)(null),[m,g]=(0,o.useState)({x:0,y:0}),[f,v]=(0,o.useState)(1),[w,z]=(0,o.useState)(2/3),[R,D]=(0,o.useState)();(0,o.useEffect)(()=>{let e;return l&&D(e=URL.createObjectURL(l)),()=>{e&&URL.revokeObjectURL(e)}},[l]);let P=(0,o.useCallback)(e=>{d(e),u(!0)},[]);(0,o.useImperativeHandle)(s,()=>({open:P}),[P]),(0,o.useEffect)(()=>{p||z(2/3)},[p]);let[M,E]=(0,o.useState)({x:0,y:0,width:0,height:0});async function _(){let e=await b(R,M);null==c||c(e),u(!1)}return(0,t.jsx)(r.Dialog,{open:p,children:(0,t.jsxs)(r.DialogContent,{className:"gap-0 overflow-hidden rounded-2xl p-0 sm:rounded-3xl",withClose:!1,children:[(0,t.jsxs)(r.DialogHeader,{className:"flex-row items-center justify-between px-5 py-4",children:[(0,t.jsx)(r.DialogTitle,{className:"text-base font-normal",children:h("editPicture")}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(C.Button,{variant:"outline",className:"rounded-full",onClick:()=>u(!1),children:h("cancel")}),(0,t.jsx)(C.Button,{className:"rounded-full",onClick:_,children:h("done")})]})]}),(0,t.jsx)(a.DialogDescription,{className:"sr-only",children:h("editPictureDescription")}),(0,t.jsx)("div",{className:"relative h-[27.25rem] w-full bg-[#333]",children:R&&(0,t.jsx)(x,{image:R,crop:m,zoom:f,rotation:0,aspect:w,onMediaLoaded:function(){setTimeout(()=>{z(1)},100)},onCropChange:g,onZoomChange:v,onCropComplete:function(e,t){E(t)}})}),(0,t.jsx)(r.DialogFooter,{className:"!flex-col p-5",children:(0,t.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,t.jsx)(y.ZoomOut,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsx)(i.Slider,{value:[f],min:1,max:3,step:.1,onValueChange:e=>v(e[0])}),(0,t.jsx)(S.ZoomIn,{className:"h-5 w-5 text-muted-foreground"})]})})]})})});R.displayName="PictureClip"},23593,e=>{"use strict";e.s(["TagInput",()=>h]);var t=e.i(843476),o=e.i(271645),n=e.i(653860),r=e.i(4272),i=e.i(37727),a=e.i(647163),s=e.i(585264),c=e.i(162353);let h=(0,o.forwardRef)((e,h)=>{let{className:p,value:u,onChange:l,placeholder:d,...m}=e,[g,f]=(0,o.useState)(""),[v,w]=(0,o.useState)(new Set),x=(0,s.useTranslations)("train-new-model.suggested-tags"),C=(0,s.useTranslations)("train-new-model.tag-categories"),S=g.trim().toLowerCase(),y=S.length>0,z=(0,o.useMemo)(()=>Object.entries(c.TAG_CATEGORIES).map(e=>{let[t,o]=e,n=o.tags.filter(e=>!u.includes(e));return y&&(n=n.filter(e=>{let t=e.toLowerCase().includes(S),o=x(e).toLowerCase().includes(S);return t||o})),{categoryKey:t,category:o,availableTags:n}}),[u,S,y,x]);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.InputV2,{value:g,onChange:e=>f(e.target.value),onKeyDown:function(e){if("Enter"===e.code&&g.trim().length>0){e.preventDefault();let t=(0,c.normalizeTag)(g,x);u.includes(t)||l([...u,t]),f("")}},className:(0,a.cn)(p,"focus-within:outline-none focus-visible:ring-0 focus-visible:ring-offset-0"),...m,placeholder:u.length?void 0:d,ref:h,children:u.length?(0,t.jsx)(n.InputV2Slot,{side:"left",className:"flex !h-auto !w-auto max-w-[95%] gap-2 overflow-x-auto scrollbar-none [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:u.map((e,o)=>(0,t.jsxs)("span",{className:"flex shrink-0 items-center rounded-full bg-primary/10 px-3 py-1 text-xs text-primary",children:[(0,t.jsx)("span",{children:(0,c.getTagLabel)(e,x)}),(0,t.jsx)(i.X,{className:"ml-1.5 h-3 w-3 cursor-pointer hover:text-primary/70",onClick:()=>{l(u.filter((e,t)=>t!==o))}})]},e))}):void 0}),(0,t.jsx)("div",{className:"space-y-3",children:z.map(e=>{let{categoryKey:o,category:n,availableTags:i}=e;if(0===i.length)return null;let a=v.has(o),s=y||a?i:i.slice(0,6),c=i.length-6;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-1.5 text-xs font-medium text-muted-foreground",children:C(n.labelKey)}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.map(e=>(0,t.jsxs)(r.Button,{type:"button",variant:"outline",onClick:()=>(function(e){u.includes(e)||l([...u,e]),f("")})(e),className:"h-auto rounded-full px-3 py-1 text-xs text-muted-foreground hover:border-primary hover:bg-background hover:text-primary",children:["+ ",x(e)]},e)),c>0&&!y&&(0,t.jsx)(r.Button,{type:"button",variant:"ghost",onClick:()=>(function(e){w(t=>{let o=new Set(t);return o.has(e)?o.delete(e):o.add(e),o})})(o),className:"h-auto px-2 py-1 text-xs text-primary underline-offset-2 hover:bg-transparent hover:underline",children:a?C("showLess"):C("showMoreCount",{count:c})})]})]},o)})})]})});h.displayName="TagInput"}]);