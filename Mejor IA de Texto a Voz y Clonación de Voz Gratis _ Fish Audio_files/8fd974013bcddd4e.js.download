(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62932,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("file-plus-corner",[["path",{d:"M11.35 22H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v5.35",key:"17jvcc"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M14 19h6",key:"bvotb8"}],["path",{d:"M17 16v6",key:"18yu1i"}]])},370144,e=>{"use strict";e.s(["FilePlus2",()=>t.default]);var t=e.i(62932)},236579,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("image-plus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]])},653860,e=>{"use strict";e.s(["FileUpload",()=>c,"Input",()=>n,"InputV2",()=>o,"InputV2Slot",()=>d],653860);var t=e.i(843476),r=e.i(271645),s=e.i(647163),l=e.i(370144),i=e.i(236579),i=i,a=e.i(657688);let n=r.forwardRef((e,r)=>{let{className:l,type:i,...a}=e;return"textarea"===i?(0,t.jsx)("textarea",{className:(0,s.cn)("flex h-32 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:r,...a}):(0,t.jsx)("input",{type:i,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:r,...a})});n.displayName="Input";let o=r.forwardRef((e,l)=>{let{className:i,type:a,children:n,...o}=e,d=r.useRef(null);return r.useImperativeHandle(l,()=>d.current,[d]),(0,t.jsxs)("div",{className:(0,s.cn)("flex h-10 w-full items-center gap-2 overflow-hidden rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-within:outline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),children:[(0,t.jsx)("input",{type:a,className:"w-0 min-w-2 flex-1 bg-transparent outline-none",ref:d,...o}),n]})});o.displayName="InputV2";let d=r.forwardRef((e,r)=>{let{className:l,side:i,...a}=e;return(0,t.jsx)("div",{className:(0,s.cn)({"-order-1":"right"!==i},"h-6 w-6 text-center leading-6",l),ref:r,...a})});d.displayName="InputV2Slot",r.forwardRef((e,l)=>{let{className:n,file:o,img:d,alt:c,...u}=e,f=r.useRef(null);r.useImperativeHandle(l,()=>f.current);let p=r.useMemo(()=>{if("string"==typeof o)return o;if(o&&o instanceof Blob&&o.type&&o.type.includes("image")){let e=URL.createObjectURL(o);return e&&""+e}return d},[o,d]);return r.useEffect(()=>()=>{p&&"string"==typeof p&&p.startsWith("blob:")&&URL.revokeObjectURL(p)},[p]),(0,t.jsxs)("div",{className:(0,s.cn)("border-file-upload-icon flex h-24 w-24 items-center justify-center rounded-md border border-dashed border-opacity-50 dark:border-white",n),onClick:function(){var e;null==(e=f.current)||e.click()},children:[p?(0,t.jsx)(a.default,{loading:"lazy",src:p,layout:"fill",className:"!relative h-full w-full object-cover",alt:c||""}):(0,t.jsx)(i.default,{className:"text-gray-1"}),(0,t.jsx)("input",{className:"hidden",ref:f,type:"file",accept:"image/jpeg,image/png,image/gif",...u})]})}).displayName="PictureUpload";let c=r.forwardRef((e,i)=>{let{className:a,children:n,dropable:o=!1,onChange:d,...c}=e,u=r.useRef(null);return r.useImperativeHandle(i,()=>u.current),(0,t.jsxs)("div",{className:(0,s.cn)("flex items-center rounded-md border border-dashed border-file-upload-border border-opacity-50 p-4",a),onClick:function(){var e;null==(e=u.current)||e.click()},onDragOverCapture:o?function(e){e.preventDefault(),e.stopPropagation()}:void 0,onDropCapture:o?function(e){e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files;t.length>0&&(null==d||d(t))}:void 0,children:[(0,t.jsx)("div",{className:"dark:bg-file-upload-icon-bg flex h-11 w-11 items-center justify-center rounded-lg bg-timeline-pointground",children:(0,t.jsx)(l.FilePlus2,{className:"text-file-upload-icon"})}),n,(0,t.jsx)("input",{className:"hidden",ref:u,type:"file",...c,onChange:function(e){e.target.files&&(null==d||d(e.target.files))}})]})});c.displayName="FileUpload"},494538,e=>{"use strict";e.s(["default",()=>y],494538);var t=e.i(843476),r=e.i(522016),s=e.i(585264),l=e.i(271645),i=e.i(647163),a=e.i(357675),n=e.i(4272),o=e.i(653860),d=e.i(50270),c=e.i(653145),u=e.i(994814),f=e.i(602946),p=e.i(611995),m=e.i(100574),g=e.i(64585);function x(e){let{className:x,redirectUrl:h,...b}=e,v=(0,s.useTranslations)("auth"),[j,y]=l.useState(!1),N=d.z.object({email:d.z.string(),password:d.z.string()}),w=(0,c.useForm)({resolver:(0,u.zodResolver)(N)}),{setToken:k}=(0,g.useUser)();async function _(e){try{y(!0);let t=await (0,m.getReCaptchaToken)("login"),r=await (0,p.createToken)({...e,recaptcha:t});k(r.data.token,h||"/",r.data.is_new_user)}finally{y(!1)}}return(0,t.jsx)("div",{className:(0,i.cn)("grid gap-6",x),children:(0,t.jsx)(f.Form,{...w,children:(0,t.jsx)("form",{onSubmit:w.handleSubmit(_),children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(f.FormField,{control:w.control,name:"email",render:e=>{let{field:r}=e;return(0,t.jsxs)(f.FormItem,{children:[(0,t.jsx)(f.FormControl,{children:(0,t.jsx)(o.Input,{placeholder:"name@example.com",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",disabled:j,className:(0,i.cn)({"border-destructive":!!w.control.getFieldState("email").error}),...r})}),(0,t.jsx)(f.FormMessage,{})]})}}),(0,t.jsx)(f.FormField,{control:w.control,name:"password",render:e=>{let{field:r}=e;return(0,t.jsxs)(f.FormItem,{children:[(0,t.jsx)(f.FormControl,{children:(0,t.jsx)(o.Input,{placeholder:v("password_label"),type:"password",autoCapitalize:"none",autoComplete:"password",autoCorrect:"off",disabled:j,className:(0,i.cn)({"border-destructive":!!w.control.getFieldState("password").error}),...r})}),(0,t.jsx)(f.FormMessage,{})]})}}),(0,t.jsxs)(n.Button,{disabled:j,children:[j&&(0,t.jsx)(a.Icons.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),v("submit_login")]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,t.jsx)(r.default,{href:"/".concat(b.lng,"/auth/signup/"),className:"hover:underline",children:v("go_to_create")}),(0,t.jsx)(r.default,{className:"hover:underline",href:"/".concat(b.lng,"/auth/forgot-password/"),children:v("go_to_forgot")})]})]})})})})}var h=e.i(160889),b=e.i(618566),v=e.i(693936);function j(e){let{lng:i}=e,o=(0,s.useTranslations)("auth"),d=(0,h.useRouter)(),c=(0,b.useSearchParams)(),{user:u,hasLogin:f,setToken:m,inviteCode:j,gclid:y}=(0,g.useUser)(),N=c.get("redirect")||"/app";(0,l.useEffect)(()=>{u&&f&&d.replace(N)},[u,f,d,N]);let w=(0,v.useGoogleLogin)({onSuccess:async e=>{try{var t;let r=await (0,p.loginUseGoogle)({token:e.access_token,invite_code:null!=j?j:void 0,gclid:null!=y?y:void 0,affiliate_code:null!=(t=sessionStorage.getItem("affiliate_code"))?t:void 0});m(r.data.token,N||"/",r.data.is_new_user)}catch(e){console.error("Failed to fetch user info:",e)}},onError:e=>console.error("Web Google login error:",e)});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-2 text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:o("login_title")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Â "})]}),(0,t.jsx)(x,{lng:i,redirectUrl:N}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:o("or")})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)(n.Button,{variant:"outline",type:"button",onClick:()=>d.push("https://github.com/login/oauth/authorize?client_id=ccaa40ffef2b1e42a1ec&scope=user:email"),children:[(0,t.jsx)(a.Icons.gitHub,{className:"mr-2 h-4 w-4"})," GitHub"]}),(0,t.jsxs)(n.Button,{variant:"outline",type:"button",onClick:()=>w(),children:[(0,t.jsx)(a.Icons.google,{className:"mr-2 h-4 w-4"})," Google"]})]}),(0,t.jsxs)("p",{className:"px-8 text-center text-sm text-muted-foreground",children:[o("privacy_policy_start"),(0,t.jsx)("br",{}),(0,t.jsx)(r.default,{href:"/terms",className:"underline underline-offset-4 hover:text-primary",children:o("terms_of_use")}),o("and"),(0,t.jsx)(r.default,{href:"/privacy",className:"underline underline-offset-4 hover:text-primary",children:o("privacy_policy")})]})]})}function y(e){let{lng:r}=(0,l.use)(e.params);return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(j,{lng:r})})}}]);