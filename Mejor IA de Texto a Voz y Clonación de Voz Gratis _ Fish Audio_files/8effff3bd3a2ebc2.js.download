(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,172032,(e,t,n)=>{e.e,function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=i){var a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c,u,d,p,m,f={exports:{}};f.exports=(function(){if(m)return p;m=1;var e=d?u:(d=1,u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,p=function(){function r(t,n,r,i,a,o){if(o!==e){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var a={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}})()();var h=(c=f.exports)&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,g=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect(function(){a.current=r},[r]),t.useEffect(function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}},[i,n,e,a])},x=function(e){var n=t.useRef(e);return t.useEffect(function(){n.current=e},[e]),n.current},y=function(e){return null!==e&&"object"===i(e)},v="[object Object]",b=function e(t,n){if(!y(t)||!y(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===v;if(i!==(Object.prototype.toString.call(n)===v))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},l=0;l<a.length;l+=1)s[a[l]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var u=Object.keys(s);return u.length===a.length&&u.every(function(r){return e(t[r],n[r])})},j=function(e,t,n){return y(e)?Object.keys(e).reduce(function(i,o){var s=!y(t)||!b(e[o],t[o]);return n.includes(o)?(s&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):s?r(r({},i||{}),{},a({},o,e[o])):i},null):null},w="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;if(null===e||y(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;if(y(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return k(e,t)})};var n=k(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},N=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},C=t.createContext(null);C.displayName="ElementsContext";var S=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},E=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo(function(){return _(n)},[n]),o=s(t.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}}),2),l=o[0],c=o[1];t.useEffect(function(){var e=!0,t=function(e){c(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==a.tag||l.stripe?"sync"!==a.tag||l.stripe||t(a.stripe):a.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[a,l,r]);var u=x(n);t.useEffect(function(){null!==u&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var d=x(r);return t.useEffect(function(){if(l.elements){var e=j(r,d,["clientSecret","fonts"]);e&&l.elements.update(e)}},[r,d,l.elements]),t.useEffect(function(){N(l.stripe)},[l.stripe]),t.createElement(C.Provider,{value:l},i)};E.propTypes={stripe:h.any,options:h.object};var P=function(e){return S(t.useContext(C),e)},O=function(e){return(0,e.children)(P("mounts <ElementsConsumer>"))};O.propTypes={children:h.func.isRequired};var T=["on","session"],I=t.createContext(null);I.displayName="CheckoutSdkContext";var A=function(e,t){if(!e)throw Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},D=t.createContext(null);D.displayName="CheckoutContext";var F=function(e,t){if(!e)return null;e.on,e.session;var n=o(e,T);return t?Object.assign(t,n):Object.assign(e.session(),n)},M=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo(function(){return _(n,"Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),o=s(t.useState(null),2),l=o[0],c=o[1],u=s(t.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,checkoutSdk:null}}),2),d=u[0],p=u[1],m=function(e,t){p(function(n){return n.stripe&&n.checkoutSdk?n:{stripe:e,checkoutSdk:t}})},f=t.useRef(!1);t.useEffect(function(){var e=!0;return"async"!==a.tag||d.stripe?"sync"===a.tag&&a.stripe&&!f.current&&(f.current=!0,a.stripe.initCheckout(r).then(function(e){e&&(m(a.stripe,e),e.on("change",c))})):a.stripePromise.then(function(t){t&&e&&!f.current&&(f.current=!0,t.initCheckout(r).then(function(e){e&&(m(t,e),e.on("change",c))}))}),function(){e=!1}},[a,d,r,c]);var h=x(n);t.useEffect(function(){null!==h&&h!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[h,n]);var g=x(r),y=x(d.checkoutSdk);t.useEffect(function(){if(d.checkoutSdk){var e,t,n,i,a=!!(!y&&d.checkoutSdk),o=null==g||null==(e=g.elementsOptions)?void 0:e.appearance,s=null==r||null==(t=r.elementsOptions)?void 0:t.appearance,l=!b(s,o);s&&(l||a)&&d.checkoutSdk.changeAppearance(s);var c=null==g||null==(n=g.elementsOptions)?void 0:n.fonts,u=null==r||null==(i=r.elementsOptions)?void 0:i.fonts,p=!b(c,u);u&&(p||a)&&d.checkoutSdk.loadFonts(u)}},[r,g,d.checkoutSdk,y]),t.useEffect(function(){N(d.stripe)},[d.stripe]);var v=t.useMemo(function(){return F(d.checkoutSdk,l)},[d.checkoutSdk,l]);return d.checkoutSdk?t.createElement(I.Provider,{value:d},t.createElement(D.Provider,{value:v},i)):null};M.propTypes={stripe:h.any,options:h.shape({fetchClientSecret:h.func.isRequired,elementsOptions:h.object}).isRequired};var L=function(e){var n=t.useContext(I),r=t.useContext(C);if(n&&r)throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?A(n,e):S(r,e)},Y=["mode"],U=function(e,n){var r="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),i=n?function(e){L("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,l=n.className,c=n.options,u=void 0===c?{}:c,d=n.onBlur,p=n.onFocus,m=n.onReady,f=n.onChange,h=n.onEscape,y=n.onClick,v=n.onLoadError,b=n.onLoaderStart,w=n.onNetworksChange,k=n.onConfirm,_=n.onCancel,N=n.onShippingAddressChange,C=n.onShippingRateChange,S=n.onSavedPaymentMethodRemove,E=n.onSavedPaymentMethodUpdate,P=L("mounts <".concat(r,">")),O="elements"in P?P.elements:null,T="checkoutSdk"in P?P.checkoutSdk:null,I=s(t.useState(null),2),A=I[0],D=I[1],F=t.useRef(null),M=t.useRef(null);g(A,"blur",d),g(A,"focus",p),g(A,"escape",h),g(A,"click",y),g(A,"loaderror",v),g(A,"loaderstart",b),g(A,"networkschange",w),g(A,"confirm",k),g(A,"cancel",_),g(A,"shippingaddresschange",N),g(A,"shippingratechange",C),g(A,"savedpaymentmethodremove",S),g(A,"savedpaymentmethodupdate",E),g(A,"change",f),m&&(i="expressCheckout"===e?m:function(){m(A)}),g(A,"ready",i),t.useLayoutEffect(function(){if(null===F.current&&null!==M.current&&(O||T)){var t=null;if(T)switch(e){case"payment":t=T.createPaymentElement(u);break;case"address":if("mode"in u){var n=u.mode,i=o(u,Y);if("shipping"===n)t=T.createShippingAddressElement(i);else if("billing"===n)t=T.createBillingAddressElement(i);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=T.createExpressCheckoutElement(u);break;case"currencySelector":t=T.createCurrencySelectorElement();break;case"taxId":t=T.createTaxIdElement(u);break;default:throw Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(t=O.create(e,u));F.current=t,D(t),t&&t.mount(M.current)}},[O,T,u]);var U=x(u);return t.useEffect(function(){if(F.current){var e=j(u,U,["paymentRequest"]);e&&"update"in F.current&&F.current.update(e)}},[u,U]),t.useLayoutEffect(function(){return function(){if(F.current&&"function"==typeof F.current.destroy)try{F.current.destroy(),F.current=null}catch(e){}}},[]),t.createElement("div",{id:a,className:l,ref:M})};return i.propTypes={id:h.string,className:h.string,onChange:h.func,onBlur:h.func,onFocus:h.func,onReady:h.func,onEscape:h.func,onClick:h.func,onLoadError:h.func,onLoaderStart:h.func,onNetworksChange:h.func,onConfirm:h.func,onCancel:h.func,onShippingAddressChange:h.func,onShippingRateChange:h.func,onSavedPaymentMethodRemove:h.func,onSavedPaymentMethodUpdate:h.func,options:h.object},i.displayName=r,i.__elementType=e,i},R="undefined"==typeof window,B=t.createContext(null);B.displayName="EmbeddedCheckoutProviderContext";var H=function(){var e=t.useContext(B);if(!e)throw Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},q=R?function(e){var n=e.id,r=e.className;return H(),t.createElement("div",{id:n,className:r})}:function(e){var n=e.id,r=e.className,i=H().embeddedCheckout,a=t.useRef(!1),o=t.useRef(null);return t.useLayoutEffect(function(){return!a.current&&i&&null!==o.current&&(i.mount(o.current),a.current=!0),function(){if(a.current&&i)try{i.unmount(),a.current=!1}catch(e){}}},[i]),t.createElement("div",{ref:o,id:n,className:r})},z=U("auBankAccount",R),V=U("card",R),W=U("cardNumber",R),$=U("cardExpiry",R),Z=U("cardCvc",R),G=U("fpxBank",R),K=U("iban",R),J=U("idealBank",R),Q=U("p24Bank",R),X=U("epsBank",R),ee=U("payment",R),et=U("expressCheckout",R),en=U("currencySelector",R),er=U("paymentRequestButton",R),ei=U("linkAuthentication",R),ea=U("address",R),eo=U("shippingAddress",R),es=U("paymentMethodMessaging",R),el=U("affirmMessage",R),ec=U("afterpayClearpayMessage",R),eu=U("taxId",R);e.AddressElement=ea,e.AffirmMessageElement=el,e.AfterpayClearpayMessageElement=ec,e.AuBankAccountElement=z,e.CardCvcElement=Z,e.CardElement=V,e.CardExpiryElement=$,e.CardNumberElement=W,e.CheckoutProvider=M,e.CurrencySelectorElement=en,e.Elements=E,e.ElementsConsumer=O,e.EmbeddedCheckout=q,e.EmbeddedCheckoutProvider=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo(function(){return _(n,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),o=t.useRef(null),l=t.useRef(null),c=s(t.useState({embeddedCheckout:null}),2),u=c[0],d=c[1];t.useEffect(function(){if(!l.current&&!o.current){var e=function(e){l.current||o.current||(l.current=e,o.current=l.current.initEmbeddedCheckout(r).then(function(e){d({embeddedCheckout:e})}))};"async"===a.tag&&!l.current&&(r.clientSecret||r.fetchClientSecret)?a.stripePromise.then(function(t){t&&e(t)}):"sync"===a.tag&&!l.current&&(r.clientSecret||r.fetchClientSecret)&&e(a.stripe)}},[a,r,u,l]),t.useEffect(function(){return function(){u.embeddedCheckout?(o.current=null,u.embeddedCheckout.destroy()):o.current&&o.current.then(function(){o.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()})}},[u.embeddedCheckout]),t.useEffect(function(){N(l)},[l]);var p=x(n);t.useEffect(function(){null!==p&&p!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[p,n]);var m=x(r);return t.useEffect(function(){if(null!=m){if(null==r)return void console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=m.clientSecret&&r.clientSecret!==m.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=m.fetchClientSecret&&r.fetchClientSecret!==m.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=m.onComplete&&r.onComplete!==m.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=m.onShippingDetailsChange&&r.onShippingDetailsChange!==m.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=m.onLineItemsChange&&r.onLineItemsChange!==m.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[m,r]),t.createElement(B.Provider,{value:u},i)},e.EpsBankElement=X,e.ExpressCheckoutElement=et,e.FpxBankElement=G,e.IbanElement=K,e.IdealBankElement=J,e.LinkAuthenticationElement=ei,e.P24BankElement=Q,e.PaymentElement=ee,e.PaymentMethodMessagingElement=es,e.PaymentRequestButtonElement=er,e.ShippingAddressElement=eo,e.TaxIdElement=eu,e.useCheckout=function(){A(t.useContext(I),"calls useCheckout()");var e=t.useContext(D);if(!e)throw Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},e.useElements=function(){return P("calls useElements()").elements},e.useStripe=function(){return L("calls useStripe()").stripe}}(n,e.r(271645))},85211,e=>{"use strict";e.s(["StripeCheckoutDialog",()=>E],85211);var t,n=e.i(843476),r=e.i(271645),i="acacia",a="https://js.stripe.com",o="".concat(a,"/").concat(i,"/stripe.js"),s=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,c=function(){for(var e=document.querySelectorAll('script[src^="'.concat(a,'"]')),t=0;t<e.length;t++){var n,r=e[t];if(n=r.src,s.test(n)||l.test(n))return r}return null},u=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(o).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},d=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"6.1.0",startTime:t})},p=null,m=null,f=null,h=function(e,t,n){if(null===e)return null;var r,a=t[0].match(/^pk_test/),o=3===(r=e.version)?"v3":r;a&&o!==i&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("6.1.0"," expected Stripe.js@").concat(i,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return d(s,n),s},g=!1,x=function(){return t?t:t=(null!==p?p:(p=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var n,r=c();r?r&&null!==f&&null!==m&&(r.removeEventListener("load",f),r.removeEventListener("error",m),null==(n=r.parentNode)||n.removeChild(r),r=u(null)):r=u(null),f=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},m=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},r.addEventListener("load",f),r.addEventListener("error",m)}catch(e){t(e);return}})).catch(function(e){return p=null,Promise.reject(e)})).catch(function(e){return t=null,Promise.reject(e)})};Promise.resolve().then(function(){return x()}).catch(function(e){g||console.warn(e)});var y=e.i(172032),v=e.i(969520),b=e.i(4272),j=e.i(568541),w=e.i(64585),k=e.i(363178);let _=()=>{let{confirm:e,changeAppearance:t}=(0,y.useCheckout)(),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(null),{theme:l}=(0,k.useTheme)();return(0,r.useEffect)(()=>{t({theme:"dark"===l?"night":"stripe"})},[t,l]),(0,n.jsxs)("div",{children:[(0,n.jsx)(b.Button,{disabled:i,onClick:()=>{a(!0),e().then(e=>{"error"===e.type&&s(e.error),a(!1)})},className:"mt-4 w-full",children:"Pay"}),o&&(0,n.jsx)("div",{className:"mt-2 text-sm",children:o.message})]})};var N=e.i(657688);function C(){let e=(0,y.useCheckout)();return e.lineItems&&0!==e.lineItems.length?(0,n.jsxs)("div",{className:"mb-4 space-y-4",children:[e.lineItems.map(e=>(0,n.jsxs)("div",{className:"rounded-lg border p-4 shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:e.name}),e.description&&(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),e.recurring&&(0,n.jsx)("div",{className:"mt-1 text-sm text-gray-600",children:"Recurring payment"})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)("div",{className:"text-xl font-bold",children:["$",(e.subtotal.minorUnitsAmount/100).toFixed(2)]}),e.discount.minorUnitsAmount>0&&(0,n.jsxs)("div",{className:"text-sm text-green-600",children:["Discount: $",(e.discount.minorUnitsAmount/100).toFixed(2)]}),e.taxExclusive.minorUnitsAmount>0&&(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Tax: $",(e.taxExclusive.minorUnitsAmount/100).toFixed(2)]})]})]}),e.images&&e.images.length>0&&(0,n.jsx)("div",{className:"mt-3 flex space-x-2",children:e.images.map((t,r)=>(0,n.jsx)(N.default,{src:t,alt:"".concat(e.name," image"),width:48,height:48,className:"rounded object-cover"},r))})]},e.id)),(0,n.jsx)("div",{className:"mt-4 border-t pt-4",children:(0,n.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,n.jsx)("span",{children:"Total"}),(0,n.jsxs)("span",{children:["$",(e.lineItems.reduce((e,t)=>e+t.subtotal.minorUnitsAmount,0)/100).toFixed(2)]})]})})]}):(0,n.jsx)("div",{className:"italic text-gray-500",children:"No items in cart"})}let S=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];g=!0;var r=Date.now();return x().then(function(e){return h(e,t,r)})}("pk_live_51P6A1p2NRaOrYNw4RwKGdeyMJDF6IRktud9odpZDndDXOaTBuucr6ZzMVjdAxd1cGnikWfTbibndp44GCCLTlKc800UoLpW0eC",{betas:["custom_checkout_beta_5"]});function E(e){let{open:t,onOpenChange:i,title:a="Complete Your Purchase",description:o="Secure checkout powered by Stripe",clientSecret:s,sessionId:l,onSuccess:c,product:u,isUpgrade:d=!1}=e,[p,m]=(0,r.useState)(null),{user:f}=(0,w.useUser)(),[h,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!t||!l||!f)return;let e=f._id;if(!e)return;let n=async()=>{try{let t=await (0,j.getStripeCheckoutSession)({user_id:e,session_id:l});t.data&&(m(t.data.status),"complete"===t.data.status&&c&&c())}catch(e){console.error("Error checking session status:",e)}};n();let r=setInterval(n,3e3);return()=>clearInterval(r)},[t,l,f,c]);let x=async e=>{var t;if(e.preventDefault(),!f)return;if(d){console.warn("Checkout form not loading for upgrade session. Please refresh and try again."),window.location.reload();return}let n=await (0,j.createStripeCheckoutSession)({user_id:f._id,product:u});(null==(t=n.data)?void 0:t.url)&&(g(n.data.url),window.location.href=n.data.url)};return(0,n.jsx)(v.Dialog,{open:t,onOpenChange:i,children:(0,n.jsxs)(v.DialogContent,{className:"max-h-[100vh] overflow-y-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-300 sm:max-w-[500px] md:max-h-[90vh]",onInteractOutside:e=>e.preventDefault(),children:[(0,n.jsxs)(v.DialogHeader,{children:[(0,n.jsx)(v.DialogTitle,{className:"text-center text-2xl font-semibold tracking-tight",children:a}),(0,n.jsx)(v.DialogDescription,{className:"pt-2 text-center",children:o})]}),(0,n.jsxs)("div",{className:"mt-2",children:["complete"===p?(0,n.jsxs)("div",{className:"p-4 text-center",children:[(0,n.jsx)("h3",{className:"mb-2 text-xl font-medium",children:"Thank you for your purchase!"}),(0,n.jsx)("p",{className:"mb-4",children:"We appreciate your business!"}),(0,n.jsx)(b.Button,{onClick:()=>i(!1),children:"Close"})]}):(0,n.jsx)("div",{children:s?(0,n.jsxs)(y.Elements,{stripe:S,options:{clientSecret:s},children:[(0,n.jsx)(C,{}),(0,n.jsx)(y.PaymentElement,{options:{layout:{type:"tabs",defaultCollapsed:!1}}}),(0,n.jsx)(_,{})]}):(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)("p",{children:"Loading checkout..."})})}),(0,n.jsx)("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:(0,n.jsx)("a",{onClick:x,className:"m-0 w-full border-none p-0 text-sm text-muted-foreground hover:text-primary",children:"Click here to open the payment page if form not shown"})})]})]})})}},332448,e=>{"use strict";e.s(["StripeCheckoutProvider",()=>a,"useStripeCheckout",()=>o]);var t=e.i(843476),n=e.i(271645),r=e.i(85211);let i=(0,n.createContext)(void 0);function a(e){let{children:a}=e,[o,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)({});return(0,t.jsxs)(i.Provider,{value:{showStripeCheckout:e=>{c(e),s(!0)}},children:[a,(0,t.jsx)(r.StripeCheckoutDialog,{open:o,onOpenChange:s,title:l.title,description:l.description,clientSecret:l.clientSecret,sessionId:l.sessionId,onSuccess:l.onSuccess,product:l.product,isUpgrade:l.isUpgrade})]})}function o(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useStripeCheckout must be used within a StripeCheckoutProvider");return e}},475213,115312,195514,945729,669288,e=>{"use strict";e.s(["PlanTabs",()=>o],475213);var t,n=e.i(843476),r=e.i(271645),i=e.i(585264),a=e.i(647163);function o(e){let{className:o,value:s,onChange:l,options:c=[],defaultValue:u=null==(t=c[0])?void 0:t.value}=e;(0,i.useTranslations)("plan");let[d,p]=(0,r.useState)(u),m=void 0!==s?s:d;return(0,n.jsx)("div",{className:(0,a.cn)("flex w-fit items-center rounded-full bg-gray-100 p-1 dark:bg-gray-800",o),children:c.map((e,t)=>(0,n.jsxs)("button",{type:"button",className:(0,a.cn)("relative flex h-full items-center justify-center rounded-full px-5 py-2 text-sm font-medium transition-all",m===e.value?"bg-white text-gray-900 shadow-sm dark:bg-gray-700 dark:text-white":"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"),onClick:()=>{var t;return t=e.value,void(void 0===s&&p(t),null==l||l(t))},children:[e.label,e.badge&&(0,n.jsx)("div",{className:"ml-2 flex items-center gap-1 rtl:ml-0 rtl:mr-2",children:"string"==typeof e.badge?(0,n.jsx)("span",{className:"rounded-full bg-cover bg-center px-2 py-0.5 text-xs font-bold text-white",style:{backgroundImage:"url('/images/navy-salmon-dreamy-slim.jpg')",boxShadow:"0 4px 12px rgba(30, 58, 95, 0.7), 0 2px 6px rgba(245, 168, 154, 0.6)"},children:e.badge}):e.badge})]},e.value))})}e.s(["FeatureList",()=>y,"PremiumPlanCard",()=>b],945729);var s=e.i(163850),l=e.i(357675);function c(e){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",...e,children:[(0,n.jsx)("g",{clipPath:"url(#clip0_0_2987)",children:(0,n.jsx)("path",{d:"M10.1033 8.56522H14.218L6.91364 18.7717L7.8979 11.2065H3.7832L11.0876 1L10.1033 8.56522Z",fill:"currentColor"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_0_2987",children:(0,n.jsx)("rect",{width:"18",height:"18",fill:"currentColor"})})})]})}e.s(["ZapIcon",()=>c],115312),e.s(["HotIcon",()=>u],195514);let u=e=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,n.jsx)("g",{clipPath:"url(#clip0_0_2971)",children:(0,n.jsx)("path",{d:"M8.70337 0.505371C8.84184 0.469046 8.99046 0.493329 9.1106 0.574707C9.2478 0.667751 9.33032 0.822994 9.33032 0.98877C9.33032 2.97754 9.3153 4.39217 9.75806 5.57373C9.80391 5.44502 9.85658 5.3155 9.92114 5.18896C10.2793 4.48727 10.9269 3.87139 11.967 3.55811C12.1189 3.51246 12.2834 3.54127 12.4104 3.63623C12.5374 3.73123 12.6115 3.88096 12.6106 4.03955C12.6033 5.21391 12.8952 5.9937 13.2083 6.73779C13.5211 7.4815 13.8957 8.26258 13.8958 9.31787C13.8958 12.7153 11.2815 15.517 8.00024 15.5171C4.71893 15.5171 2.10474 12.7153 2.10474 9.31787C2.10475 8.60225 2.25643 7.80784 2.56177 7.10303C2.86518 6.40269 3.34169 5.74337 4.02563 5.37158L4.08325 5.34521C4.2182 5.29261 4.37065 5.30048 4.50024 5.36963C4.64853 5.44889 4.74754 5.59772 4.76294 5.76514V5.76807C4.76323 5.77098 4.76417 5.77595 4.76489 5.78271C4.76633 5.79626 4.76835 5.81759 4.77173 5.84521C4.77851 5.90057 4.7896 5.98215 4.80591 6.0835C4.83872 6.28733 4.89266 6.56749 4.97681 6.87256C4.98273 6.89404 4.9892 6.91552 4.99536 6.93701C4.99822 6.32254 5.03219 5.62712 5.16333 4.92041C5.47778 3.22615 6.3551 1.43579 8.64478 0.523926L8.70337 0.505371Z",fill:"#CA2A1C",stroke:"white",strokeLinejoin:"round"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_0_2971",children:(0,n.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]});var d=e.i(64585);e.i(85211);var p=e.i(332448),m=e.i(125789),f=e.i(568541),h=e.i(527386),g=e.i(129668),x=e.i(716406);function y(e){let{list:t,active:r=!1}=e;return(0,n.jsx)("div",{className:"flex flex-1 flex-col gap-2",children:t.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"mt-0.5 flex-shrink-0",children:r?(0,n.jsx)(l.Icons.checkActive,{className:"h-4 w-4"}):(0,n.jsx)(l.Icons.check,{bgColor:"#5F5F6D",className:"h-4 w-4 text-std-bg-base"})}),(0,n.jsx)("div",{className:(0,a.cn)("text-sm leading-5","text-std-text-secondary dark:text-gray-300"),children:e})]},t))})}function v(e){let{className:t}=e,r=(0,i.useTranslations)("plan");return(0,n.jsxs)("div",{className:(0,a.cn)("flex items-center gap-1 rounded-full border border-purple-500/20 bg-gradient-to-r from-purple-500/10 to-blue-500/10 px-3 py-1",t),children:[(0,n.jsx)(u,{className:"h-3.5 w-3.5"}),(0,n.jsx)("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:r("popular")})]})}function b(e){let{className:t,isCurrentPlan:r,active:o=!1,isYearly:l=!1,expireDate:u}=e,b=(0,i.useTranslations)("plan"),{user:j}=(0,d.useUser)(),{fetchPackage:w}=(0,g.usePackage)(),{showStripeCheckout:k}=(0,p.useStripeCheckout)(),{showAuthDialog:_}=(0,m.useAuthDialog)(),[N,C]=(0,s.useAsyncFn)(f.createStripeCheckoutSession,[]);async function S(){if(!j)return void _({source:"premium_plan_card",redirectPath:"/app/plan/"});let e=await C({user_id:null==j?void 0:j._id,product:l?"year":"subscription",ui_mode:"custom"});e.data.client_secret&&e.data.session_id&&k({clientSecret:e.data.client_secret,sessionId:e.data.session_id,title:"Complete Your Purchase",description:"Secure payment powered by Stripe",onSuccess:()=>{w()},product:l?"year":"subscription"})}return(0,n.jsx)("div",{className:(0,a.cn)("relative flex min-h-[35rem] w-full max-w-[22rem] flex-col gap-3 rounded-xl p-6","bg-white dark:bg-gray-800/50","before:absolute before:inset-0 before:rounded-xl before:p-[0.175rem]","before:bg-gradient-to-r before:from-purple-500/20 before:to-blue-500/20","dark:before:from-purple-500/30 dark:before:to-blue-500/30","after:absolute after:inset-[0.175rem] after:rounded-xl after:bg-white dark:after:bg-gray-800/50",o&&"before:from-purple-500/30 before:to-blue-500/30 dark:before:from-purple-500/40 dark:before:to-blue-500/40",t),children:(0,n.jsxs)("div",{className:"relative z-10 flex h-full flex-col gap-3",children:[!r&&(0,n.jsx)(v,{className:"absolute right-4 top-4 rtl:left-4 rtl:right-auto"}),(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-start gap-3",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:b("premium_plan_title")}),r&&u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"text-sm text-std-text-secondary dark:text-gray-300",children:b("current_plan_subscription.expire_date",{date:u})}),(0,n.jsx)("a",{href:x.LINKS.premiumLegacyPlanUpdates,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-indigo-600 underline-offset-4 hover:underline dark:text-indigo-400 dark:hover:text-indigo-300",children:b("premium_legacy_plan_updates_link")})]}),!r&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("p",{className:"flex items-baseline gap-1",children:[(0,n.jsx)("span",{className:(0,a.cn)("text-sm font-medium text-std-text-secondary dark:text-gray-300"),children:"$"}),(0,n.jsx)("span",{className:"text-4xl font-semibold text-gray-900 dark:text-white",children:l?9.99:14.99}),(0,n.jsxs)("span",{className:(0,a.cn)("text-sm font-medium text-std-text-secondary dark:text-gray-300",{hidden:!l}),children:["/",b("plan_price_unit")]})]})})]}),r?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{disabled:!0,className:"flex w-full cursor-not-allowed items-center justify-center gap-1.5 rounded-lg bg-gray-100 px-4 py-2.5 text-sm font-medium text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:b("your_current_plan")})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{onClick:S,disabled:N.loading,className:"flex w-full items-center justify-center gap-1.5 rounded-lg bg-indigo-600 px-4 py-2.5 text-sm font-medium text-white shadow-sm transition-colors hover:bg-indigo-700",children:[(0,n.jsx)(c,{className:"h-4 w-4"}),b("upgrade_to_premium")]})})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)("p",{className:"text-start text-sm font-medium text-std-text-secondary dark:text-gray-300",children:b("premium_plan_description")})}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,n.jsx)(y,{list:b.raw("premium_powers"),active:o}),r&&(0,n.jsx)("div",{className:"mt-auto pt-4 text-center",children:(0,n.jsx)(h.ManageSubscriptionButton,{className:"h-auto border-0 bg-transparent p-0 text-sm font-medium text-indigo-600 shadow-none hover:bg-transparent hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300",children:b("manage_subscription")})})]})]})})}e.s(["PlanCardGroupMobile",()=>z],669288);var j=e.i(437902);function w(e){return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function k(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every(n=>{let r=e[n],i=t[n];return"function"==typeof r?"".concat(r)==="".concat(i):w(r)&&w(i)?k(r,i):r===i})}function _(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function N(e){return"number"==typeof e}function C(e){return"string"==typeof e}function S(e){return"boolean"==typeof e}function E(e){return"[object Object]"===Object.prototype.toString.call(e)}function P(e){return Math.abs(e)}function O(e){return Math.sign(e)}function T(e){return F(e).map(Number)}function I(e){return e[A(e)]}function A(e){return Math.max(0,e.length-1)}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from(Array(e),(e,n)=>t+n)}function F(e){return Object.keys(e)}function M(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function L(){let e=[],t={add:function(n,r,i){let a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return"addEventListener"in n?(n.addEventListener(r,i,o),a=()=>n.removeEventListener(r,i,o)):(n.addListener(i),a=()=>n.removeListener(i)),e.push(a),t},clear:function(){e=e.filter(e=>e())}};return t}function Y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=P(e-t);function r(n){return n<e||n>t}return{length:n,max:t,min:e,constrain:function(n){return r(n)?n<e?e:t:n},reachedAny:r,reachedMax:function(e){return e>t},reachedMin:function(t){return t<e},removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}}}function U(e){let t=e;function n(e){return N(e)?e:e.get()}return{get:function(){return t},set:function(e){t=n(e)},add:function(e){t+=n(e)},subtract:function(e){t-=n(e)}}}function R(e,t){let n="x"===e.scroll?function(e){return"translate3d(".concat(e,"px,0px,0px)")}:function(e){return"translate3d(0px,".concat(e,"px,0px)")},r=t.style,i=null,a=!1;return{clear:function(){!a&&(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(a)return;let o=Math.round(100*e.direction(t))/100;o!==i&&(r.transform=n(o),i=o)},toggleActive:function(e){a=!e}}}let B={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function H(e,t,n){let r,i,a,o,s,l=e.ownerDocument,c=l.defaultView,u=function(e){function t(e,t){return function e(t,n){return[t,n].reduce((t,n)=>(F(n).forEach(r=>{let i=t[r],a=n[r],o=E(i)&&E(a);t[r]=o?e(i,a):a}),t),{})}(e,t||{})}return{mergeOptions:t,optionsAtMedia:function(n){let r=n.breakpoints||{},i=F(r).filter(t=>e.matchMedia(t).matches).map(e=>r[e]).reduce((e,n)=>t(e,n),{});return t(n,i)},optionsMediaQueries:function(t){return t.map(e=>F(e.breakpoints||{})).reduce((e,t)=>e.concat(t),[]).map(e.matchMedia)}}}(c),d=(s=[],{init:function(e,t){return(s=t.filter(e=>{let{options:t}=e;return!1!==u.optionsAtMedia(t).active})).forEach(t=>t.init(e,u)),t.reduce((e,t)=>Object.assign(e,{[t.name]:t}),{})},destroy:function(){s=s.filter(e=>e.destroy())}}),p=L(),m=function(){let e,t={},n={init:function(t){e=t},emit:function(r){return(t[r]||[]).forEach(t=>t(e,r)),n},off:function(e,r){return t[e]=(t[e]||[]).filter(e=>e!==r),n},on:function(e,r){return t[e]=(t[e]||[]).concat([r]),n},clear:function(){t={}}};return n}(),{mergeOptions:f,optionsAtMedia:h,optionsMediaQueries:g}=u,{on:x,off:y,emit:v}=m,b=!1,j=f(B,H.globalOptions),w=f(j),k=[];function _(t,n){if(b)return;w=h(j=f(j,t)),k=n||k;let{container:s,slides:u}=w;a=(C(s)?e.querySelector(s):s)||e.children[0];let x=C(u)?a.querySelectorAll(u):u;o=[].slice.call(x||a.children),r=function t(n){let r=function(e,t,n,r,i,a,o){let s,l,{align:c,axis:u,direction:d,startIndex:p,loop:m,duration:f,dragFree:h,dragThreshold:g,inViewThreshold:x,slidesToScroll:y,skipSnaps:v,containScroll:b,watchResize:j,watchSlides:w,watchDrag:k,watchFocus:_}=a,E={measure:function(e){let{offsetTop:t,offsetLeft:n,offsetWidth:r,offsetHeight:i}=e;return{top:t,right:n+r,bottom:t+i,left:n,width:r,height:i}}},B=E.measure(t),H=n.map(E.measure),q=function(e,t){let n="rtl"===t,r="y"===e,i=!r&&n?-1:1;return{scroll:r?"y":"x",cross:r?"x":"y",startEdge:r?"top":n?"right":"left",endEdge:r?"bottom":n?"left":"right",measureSize:function(e){let{height:t,width:n}=e;return r?t:n},direction:function(e){return e*i}}}(u,d),z=q.measureSize(B),V={measure:function(e){return e/100*z}},W=function(e,t){let n={start:function(){return 0},center:function(e){return(t-e)/2},end:function(e){return t-e}};return{measure:function(r,i){return C(e)?n[e](r):e(t,r,i)}}}(c,z),$=!m&&!!b,{slideSizes:Z,slideSizesWithGaps:G,startGap:K,endGap:J}=function(e,t,n,r,i,a){let{measureSize:o,startEdge:s,endEdge:l}=e,c=n[0]&&i,u=function(){if(!c)return 0;let e=n[0];return P(t[s]-e[s])}(),d=c?parseFloat(a.getComputedStyle(I(r)).getPropertyValue("margin-".concat(l))):0,p=n.map(o),m=n.map((e,t,n)=>{let r=t===A(n);return t?r?p[t]+d:n[t+1][s]-e[s]:p[t]+u}).map(P);return{slideSizes:p,slideSizesWithGaps:m,startGap:u,endGap:d}}(q,B,H,n,m||!!b,i),Q=function(e,t,n,r,i,a,o,s,l){let{startEdge:c,endEdge:u,direction:d}=e,p=N(n);return{groupSlides:function(e){return p?T(e).filter(e=>e%n==0).map(t=>e.slice(t,t+n)):e.length?T(e).reduce((n,l,p)=>{let m=I(n)||0,f=l===A(e),h=i[c]-a[m][c],g=i[c]-a[l][u],x=r||0!==m?0:d(o),y=P(g-(!r&&f?d(s):0)-(h+x));return p&&y>t+2&&n.push(l),f&&n.push(e.length),n},[]).map((t,n,r)=>{let i=Math.max(r[n-1]||0);return e.slice(i,t)}):[]}}}(q,z,y,m,B,H,K,J,0),{snaps:X,snapsAligned:ee}=function(e,t,n,r,i){let{startEdge:a,endEdge:o}=e,{groupSlides:s}=i,l=s(r).map(e=>I(e)[o]-e[0][a]).map(P).map(t.measure),c=r.map(e=>n[a]-e[a]).map(e=>-P(e)),u=s(c).map(e=>e[0]).map((e,t)=>e+l[t]);return{snaps:c,snapsAligned:u}}(q,W,B,H,Q),et=-I(X)+I(G),{snapsContained:en,scrollContainLimit:er}=function(e,t,n,r,i){let a=Y(-t+e,0),o=n.map((e,t)=>{let{min:r,max:i}=a,o=a.constrain(e),s=t===A(n);return t?s||function(e,t){return 1>=P(e-t)}(r,o)?r:function(e,t){return 1>=P(e-t)}(i,o)?i:o:i}).map(e=>parseFloat(e.toFixed(3))),s=function(){let e=o[0],t=I(o);return Y(o.lastIndexOf(e),o.indexOf(t)+1)}();return{snapsContained:function(){if(t<=e+2)return[a.max];if("keepSnaps"===r)return o;let{min:n,max:i}=s;return o.slice(n,i)}(),scrollContainLimit:s}}(z,et,ee,b,0),ei=$?en:ee,{limit:ea}=function(e,t,n){let r=t[0];return{limit:Y(n?r-e:I(t),r)}}(et,ei,m),eo=function e(t,n,r){let{constrain:i}=Y(0,t),a=t+1,o=s(n);function s(e){return r?P((a+e)%a):i(e)}function l(){return e(t,o,r)}let c={get:function(){return o},set:function(e){return o=s(e),c},add:function(e){return l().set(o+e)},clone:l};return c}(A(ei),p,m),es=eo.clone(),el=T(n),ec=function(e,t,n,r){let i=L(),a=1e3/60,o=null,s=0,l=0;function c(e){if(!l)return;o||(o=e,n(),n());let i=e-o;for(o=e,s+=i;s>=a;)n(),s-=a;r(s/a),l&&(l=t.requestAnimationFrame(c))}function u(){t.cancelAnimationFrame(l),o=null,s=0,l=0}return{init:function(){i.add(e,"visibilitychange",()=>{e.hidden&&(o=null,s=0)})},destroy:function(){u(),i.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:u,update:n,render:r}}(r,i,()=>(e=>{let{dragHandler:t,scrollBody:n,scrollBounds:r,options:{loop:i}}=e;i||r.constrain(t.pointerDown()),n.seek()})(ek),e=>((e,t)=>{let{scrollBody:n,translate:r,location:i,offsetLocation:a,previousLocation:o,scrollLooper:s,slideLooper:l,dragHandler:c,animation:u,eventHandler:d,scrollBounds:p,options:{loop:m}}=e,f=n.settled(),h=!p.shouldConstrain(),g=m?f:f&&h,x=g&&!c.pointerDown();x&&u.stop();let y=i.get()*t+o.get()*(1-t);a.set(y),m&&(s.loop(n.direction()),l.loop()),r.to(a.get()),x&&d.emit("settle"),g||d.emit("scroll")})(ek,e)),eu=ei[eo.get()],ed=U(eu),ep=U(eu),em=U(eu),ef=U(eu),eh=function(e,t,n,r,i,a){let o=0,s=0,l=i,c=.68,u=e.get(),d=0;function p(e){return l=e,f}function m(e){return c=e,f}let f={direction:function(){return s},duration:function(){return l},velocity:function(){return o},seek:function(){let t=r.get()-e.get(),i=0;return l?(n.set(e),o+=t/l,o*=c,u+=o,e.add(o),i=u-d):(o=0,n.set(r),e.set(r),i=t),s=O(i),d=u,f},settled:function(){return .001>P(r.get()-t.get())},useBaseFriction:function(){return m(.68)},useBaseDuration:function(){return p(i)},useFriction:m,useDuration:p};return f}(ed,em,ep,ef,f,.68),eg=function(e,t,n,r,i){let{reachedAny:a,removeOffset:o,constrain:s}=r;function l(e){return e.concat().sort((e,t)=>P(e)-P(t))[0]}function c(t,r){let i=[t,t+n,t-n];if(!e)return t;if(!r)return l(i);let a=i.filter(e=>O(e)===r);return a.length?l(a):I(i)-n}return{byDistance:function(n,r){let l=i.get()+n,{index:u,distance:d}=function(n){let r=e?o(n):s(n),{index:i}=t.map((e,t)=>({diff:c(e-r,0),index:t})).sort((e,t)=>P(e.diff)-P(t.diff))[0];return{index:i,distance:r}}(l),p=!e&&a(l);if(!r||p)return{index:u,distance:n};let m=n+c(t[u]-d,0);return{index:u,distance:m}},byIndex:function(e,n){let r=c(t[e]-i.get(),n);return{index:e,distance:r}},shortcut:c}}(m,ei,et,ea,ef),ex=function(e,t,n,r,i,a,o){function s(i){let s=i.distance,l=i.index!==t.get();a.add(s),s&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(n.set(t.get()),t.set(i.index),o.emit("select"))}return{distance:function(e,t){s(i.byDistance(e,t))},index:function(e,n){let r=t.clone().set(e);s(i.byIndex(r.get(),n))}}}(ec,eo,es,eh,eg,ef,o),ey=function(e){let{max:t,length:n}=e;return{get:function(e){return n?-((e-t)/n):0}}}(ea),ev=L(),eb=function(e,t,n,r){let i,a={},o=null,s=null,l=!1;return{init:function(){i=new IntersectionObserver(e=>{l||(e.forEach(e=>{a[t.indexOf(e.target)]=e}),o=null,s=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(e=>i.observe(e))},destroy:function(){i&&i.disconnect(),l=!0},get:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(e&&o)return o;if(!e&&s)return s;let t=F(a).reduce((t,n)=>{let r=parseInt(n),{isIntersecting:i}=a[r];return(e&&i||!e&&!i)&&t.push(r),t},[]);return e&&(o=t),e||(s=t),t}}}(t,n,o,x),{slideRegistry:ej}=function(e,t,n,r,i,a){let{groupSlides:o}=i,{min:s,max:l}=r;return{slideRegistry:function(){let r=o(a);return 1===n.length?[a]:e&&"keepSnaps"!==t?r.slice(s,l).map((e,t,n)=>{let r=t===A(n);return t?r?D(A(a)-I(n)[0]+1,I(n)[0]):e:D(I(n[0])+1)}):r}()}}($,b,ei,er,Q,el),ew=function(e,t,n,r,i,a,o,s){let l={passive:!0,capture:!0},c=0;function u(e){"Tab"===e.code&&(c=new Date().getTime())}return{init:function(d){s&&(a.add(document,"keydown",u,!1),t.forEach((t,u)=>{a.add(t,"focus",t=>{(S(s)||s(d,t))&&function(t){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;let a=n.findIndex(e=>e.includes(t));N(a)&&(i.useDuration(0),r.index(a,0),o.emit("slideFocus"))}(u)},l)}))}}}(e,n,ej,ex,eh,ev,o,_),ek={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:B,slideRects:H,animation:ec,axis:q,dragHandler:function(e,t,n,r,i,a,o,s,l,c,u,d,p,m,f,h,g,x,y){let{cross:v,direction:b}=e,j=["INPUT","SELECT","TEXTAREA"],w={passive:!1},k=L(),_=L(),N=Y(50,225).constrain(m.measure(20)),C={mouse:300,touch:400},E={mouse:500,touch:600},T=f?43:25,I=!1,A=0,D=0,F=!1,U=!1,R=!1,B=!1;function H(e){if(!M(e,r)&&e.touches.length>=2)return q(e);let t=a.readPoint(e),n=a.readPoint(e,v),o=P(t-A),l=P(n-D);if(!U&&!B&&(!e.cancelable||!(U=o>l)))return q(e);let u=a.pointerMove(e);o>h&&(R=!0),c.useFriction(.3).useDuration(.75),s.start(),i.add(b(u)),e.preventDefault()}function q(e){let t=u.byDistance(0,!1).index!==d.get(),n=a.pointerUp(e)*(f?E:C)[B?"mouse":"touch"],r=function(e,t){let n=d.add(-1*O(e)),r=u.byDistance(e,!f).distance;return f||P(e)<N?r:g&&t?.5*r:u.byIndex(n.get(),0).distance}(b(n),t),i=function(e,t){var n,r;if(0===e||0===t||P(e)<=P(t))return 0;let i=(n=P(e),r=P(t),P(n-r));return P(i/e)}(n,r);U=!1,F=!1,_.clear(),c.useDuration(T-10*i).useFriction(.68+i/50),l.distance(r,!f),B=!1,p.emit("pointerUp")}function z(e){R&&(e.stopPropagation(),e.preventDefault(),R=!1)}return{init:function(e){y&&k.add(t,"dragstart",e=>e.preventDefault(),w).add(t,"touchmove",()=>void 0,w).add(t,"touchend",()=>void 0).add(t,"touchstart",s).add(t,"mousedown",s).add(t,"touchcancel",q).add(t,"contextmenu",q).add(t,"click",z,!0);function s(s){(S(y)||y(e,s))&&function(e){let s=M(e,r);if((B=s,R=f&&s&&!e.buttons&&I,I=P(i.get()-o.get())>=2,!s||0===e.button)&&!function(e){let t=e.nodeName||"";return j.includes(t)}(e.target)){F=!0,a.pointerDown(e),c.useFriction(0).useDuration(0),i.set(o);let r=B?n:t;_.add(r,"touchmove",H,w).add(r,"touchend",q).add(r,"mousemove",H,w).add(r,"mouseup",q),A=a.readPoint(e),D=a.readPoint(e,v),p.emit("pointerDown")}}(s)}},destroy:function(){k.clear(),_.clear()},pointerDown:function(){return F}}}(q,e,r,i,ef,function(e,t){let n,r;function i(e){return e.timeStamp}function a(n,r){let i=r||e.scroll;return(M(n,t)?n:n.touches[0])["client".concat("x"===i?"X":"Y")]}return{pointerDown:function(e){return n=e,r=e,a(e)},pointerMove:function(e){let t=a(e)-a(r),o=i(e)-i(n)>170;return r=e,o&&(n=e),t},pointerUp:function(e){if(!n||!r)return 0;let t=a(r)-a(n),o=i(e)-i(n),s=i(e)-i(r)>170,l=t/o;return o&&!s&&P(l)>.1?l:0},readPoint:a}}(q,i),ed,ec,ex,eh,eg,eo,o,V,h,g,v,0,k),eventStore:ev,percentOfView:V,index:eo,indexPrevious:es,limit:ea,location:ed,offsetLocation:em,previousLocation:ep,options:a,resizeHandler:function(e,t,n,r,i,a,o){let s,l,c=[e].concat(r),u=[],d=!1;function p(e){return i.measureSize(o.measure(e))}return{init:function(i){a&&(l=p(e),u=r.map(p),s=new ResizeObserver(n=>{(S(a)||a(i,n))&&function(n){for(let a of n){if(d)return;let n=a.target===e,o=r.indexOf(a.target),s=n?l:u[o];if(P(p(n?e:r[o])-s)>=.5){i.reInit(),t.emit("resize");break}}}(n)}),n.requestAnimationFrame(()=>{c.forEach(e=>s.observe(e))}))},destroy:function(){d=!0,s&&s.disconnect()}}}(t,o,i,n,q,j,E),scrollBody:eh,scrollBounds:function(e,t,n,r,i){let a=i.measure(10),o=i.measure(50),s=Y(.1,.99),l=!1;function c(){return!l&&!!e.reachedAny(n.get())&&!!e.reachedAny(t.get())}return{shouldConstrain:c,constrain:function(i){if(!c())return;let l=e.reachedMin(t.get())?"min":"max",u=P(e[l]-t.get()),d=n.get()-t.get(),p=s.constrain(u/o);n.subtract(d*p),!i&&P(d)<a&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}(ea,em,ef,eh,V),scrollLooper:function(e,t,n,r){let{reachedMin:i,reachedMax:a}=Y(t.min+.1,t.max+.1);return{loop:function(t){if(!(1===t?a(n.get()):-1===t&&i(n.get())))return;let o=-1*t*e;r.forEach(e=>e.add(o))}}}(et,ea,em,[ed,em,ep,ef]),scrollProgress:ey,scrollSnapList:ei.map(ey.get),scrollSnaps:ei,scrollTarget:eg,scrollTo:ex,slideLooper:function(e,t,n,r,i,a,o,s,l){let c=T(i),u=T(i).reverse(),d=f(m(u,o[0]),n,!1).concat(f(m(c,t-o[0]-1),-n,!0));function p(e,t){return e.reduce((e,t)=>e-i[t],t)}function m(e,t){return e.reduce((e,n)=>p(e,t)>0?e.concat([n]):e,[])}function f(i,o,c){let u=a.map((e,n)=>({start:e-r[n]+.5+o,end:e+t-.5+o}));return i.map(t=>{let r=c?0:-n,i=c?n:0,a=u[t][c?"end":"start"];return{index:t,loopPoint:a,slideLocation:U(-1),translate:R(e,l[t]),target:()=>s.get()>a?r:i}})}return{canLoop:function(){return d.every(e=>{let{index:n}=e;return .1>=p(c.filter(e=>e!==n),t)})},clear:function(){d.forEach(e=>e.translate.clear())},loop:function(){d.forEach(e=>{let{target:t,translate:n,slideLocation:r}=e,i=t();i!==r.get()&&(n.to(i),r.set(i))})},loopPoints:d}}(q,z,et,Z,G,X,ei,em,n),slideFocus:ew,slidesHandler:(l=!1,{init:function(e){w&&(s=new MutationObserver(t=>{!l&&(S(w)||w(e,t))&&function(t){for(let n of t)if("childList"===n.type){e.reInit(),o.emit("slidesChanged");break}}(t)})).observe(t,{childList:!0})},destroy:function(){s&&s.disconnect(),l=!0}}),slidesInView:eb,slideIndexes:el,slideRegistry:ej,slidesToScroll:Q,target:ef,translate:R(q,t)};return ek}(e,a,o,l,c,n,m);return n.loop&&!r.slideLooper.canLoop()?t(Object.assign({},n,{loop:!1})):r}(w),g([j,...k.map(e=>{let{options:t}=e;return t})]).forEach(e=>p.add(e,"change",q)),w.active&&(r.translate.to(r.location.get()),r.animation.init(),r.slidesInView.init(),r.slideFocus.init($),r.eventHandler.init($),r.resizeHandler.init($),r.slidesHandler.init($),r.options.loop&&r.slideLooper.loop(),a.offsetParent&&o.length&&r.dragHandler.init($),i=d.init($,k))}function q(e,t){let n=W();z(),_(f({startIndex:n},e),t),m.emit("reInit")}function z(){r.dragHandler.destroy(),r.eventStore.clear(),r.translate.clear(),r.slideLooper.clear(),r.resizeHandler.destroy(),r.slidesHandler.destroy(),r.slidesInView.destroy(),r.animation.destroy(),d.destroy(),p.clear()}function V(e,t,n){w.active&&!b&&(r.scrollBody.useBaseFriction().useDuration(!0===t?0:w.duration),r.scrollTo.index(e,n||0))}function W(){return r.index.get()}let $={canScrollNext:function(){return r.index.add(1).get()!==W()},canScrollPrev:function(){return r.index.add(-1).get()!==W()},containerNode:function(){return a},internalEngine:function(){return r},destroy:function(){b||(b=!0,p.clear(),z(),m.emit("destroy"),m.clear())},off:y,on:x,emit:v,plugins:function(){return i},previousScrollSnap:function(){return r.indexPrevious.get()},reInit:q,rootNode:function(){return e},scrollNext:function(e){V(r.index.add(1).get(),e,-1)},scrollPrev:function(e){V(r.index.add(-1).get(),e,1)},scrollProgress:function(){return r.scrollProgress.get(r.offsetLocation.get())},scrollSnapList:function(){return r.scrollSnapList},scrollTo:V,selectedScrollSnap:W,slideNodes:function(){return o},slidesInView:function(){return r.slidesInView.get()},slidesNotInView:function(){return r.slidesInView.get(!1)}};return _(t,n),setTimeout(()=>m.emit("init"),0),$}function q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useRef)(e),i=(0,r.useRef)(t),[a,o]=(0,r.useState)(),[s,l]=(0,r.useState)(),c=(0,r.useCallback)(()=>{a&&a.reInit(n.current,i.current)},[a]);return(0,r.useEffect)(()=>{k(n.current,e)||(n.current=e,c())},[e,c]),(0,r.useEffect)(()=>{!function(e,t){if(e.length!==t.length)return!1;let n=_(e),r=_(t);return n.every((e,t)=>k(e,r[t]))}(i.current,t)&&(i.current=t,c())},[t,c]),(0,r.useEffect)(()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&s){H.globalOptions=q.globalOptions;let e=H(s,n.current,i.current);return o(e),()=>e.destroy()}o(void 0)},[s,o]),[l,a]}function z(e){let{className:t,activeIndex:i,children:o,hideDots:s=!1,slideClassName:l,onChange:c}=e,[u,d]=(0,r.useState)(null!=i?i:1),[p,m]=q({loop:!0,align:"center"}),f=(0,r.useCallback)(e=>{m&&m.scrollTo(e)},[m]),h=(0,r.useCallback)(()=>{if(!m)return;let e=m.selectedScrollSnap();d(e),null==c||c(e)},[m,c]);(0,r.useEffect)(()=>{if(m)return m.scrollTo(null!=i?i:1),m.on("select",h),()=>{m.off("select",h)}},[m,h,i]);let g=r.default.Children.toArray(o);return(0,n.jsxs)("div",{className:"jsx-c1344d6a83e4451 "+((0,a.cn)("w-full",t)||""),children:[(0,n.jsx)("div",{className:"jsx-c1344d6a83e4451 carousel",children:(0,n.jsx)("div",{ref:p,className:"jsx-c1344d6a83e4451 carousel__viewport",children:(0,n.jsx)("div",{className:"jsx-c1344d6a83e4451 carousel__container",children:g.map((e,t)=>(0,n.jsx)("div",{className:"jsx-c1344d6a83e4451 "+((0,a.cn)("carousel__slide flex shrink-0 grow-0 basis-[85%]",l)||""),children:(0,n.jsx)("div",{className:"jsx-c1344d6a83e4451 card-wrapper",children:r.default.isValidElement(e)&&r.default.cloneElement(e,{className:(0,a.cn)("card",u===t?"card--active":"card--inactive",e.props.className)})})},t))})})}),!s&&(0,n.jsx)("div",{className:"jsx-c1344d6a83e4451 mt-4 flex justify-center gap-2",children:g.map((e,t)=>(0,n.jsx)("button",{onClick:()=>f(t),"aria-label":"Go to slide ".concat(t+1),className:"jsx-c1344d6a83e4451 "+((0,a.cn)("h-2 w-2 rounded-full transition-all",u===t?"w-3 bg-std-purple-1":"bg-std-gray-4")||"")},t))}),(0,n.jsx)(j.default,{id:"c1344d6a83e4451",children:".carousel{width:100%;position:relative}.carousel__viewport{overflow:hidden}.carousel__container{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;display:flex}.carousel__slide{min-width:0;margin-right:0;position:relative}.card-wrapper{width:100%;height:100%;padding:8px}.card{width:100%;height:100%;transition:all .3s}.card--active{opacity:1;transform:scale(1)}.card--inactive{opacity:.7;transform:scale(.92)}.carousel__dots{justify-content:center;margin-top:20px;padding:0;list-style:none;display:flex}"})]})}H.globalOptions=void 0,q.globalOptions=void 0},690210,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},479030,e=>{"use strict";e.s(["QuotaInfo",()=>o],479030);var t=e.i(843476);e.i(129668),e.i(64585);var n=e.i(690210),n=n,r=e.i(191774),r=r,i=(e.i(871631),e.i(585264));e.i(271645),e.i(618566);var a=e.i(647163);function o(e){let{current:o,total:s,resetDate:l,shouldShowTotal:c=!0,className:u}=e,d=(0,i.useTranslations)("plan");return(0,t.jsxs)("div",{className:(0,a.cn)("w-full space-y-3 rounded-lg bg-[rgba(76,76,93,0.18)] px-4 py-3 dark:text-std-gray-1",u),children:[c&&(0,t.jsxs)("div",{className:"flex w-full items-center justify-between text-xs md:text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.default,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"font-medium",children:d("quota")})]}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsxs)("span",{className:"font-medium",children:[o,"/",s]})})]}),(0,t.jsxs)("div",{className:"flex w-full items-center justify-between text-xs md:text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.default,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"font-medium",children:d("quota_reset")})]}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("span",{className:"font-medium",children:l})})]})]})}e.i(945729),e.i(822315)},123287,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},134265,e=>{"use strict";e.s(["PlanCardsSection",()=>z],134265);var t=e.i(843476),n=e.i(271645),r=e.i(585264),i=e.i(475213),a=e.i(945729),o=e.i(669288),s=e.i(163850),l=e.i(647163),c=e.i(115312),u=e.i(195514),d=e.i(64585),p=e.i(125789),m=e.i(307045),f=e.i(568541),h=e.i(527386),g=e.i(129668),x=e.i(918871),y=e.i(357675),v=e.i(479030),b=e.i(822315),j=e.i(618566),w=e.i(846696),k=e.i(558249),_=e.i(969520),N=e.i(4272),C=e.i(664659),S=e.i(655900),E=e.i(463059),P=e.i(123287),P=P,O=e.i(39312),T=e.i(361277),T=T,I=e.i(878894),A=e.i(561659),D=e.i(643531);function F(e){var n;let{open:i,onClose:a,onConfirm:o,loading:s=!1,preview:c,changeType:u,requiresPayment:d}=e,p=(0,r.useTranslations)("plan"),m=e=>{var t,n;if(!e)return"";let r=(null==(t=e.plan_type)?void 0:t.charAt(0).toUpperCase())+((null==(n=e.plan_type)?void 0:n.slice(1))||""),i="year"===e.billing_period?"Yearly":"Monthly";return"".concat(r," - ").concat(i)};return c?(0,t.jsx)(_.Dialog,{open:i,onOpenChange:a,children:(0,t.jsxs)(_.DialogContent,{className:"max-w-lg",children:[(0,t.jsx)(_.DialogHeader,{children:(0,t.jsxs)(_.DialogTitle,{className:"flex items-center gap-2",children:["downgrade"===u?(0,t.jsx)(C.ChevronDown,{className:"h-5 w-5 text-orange-500"}):"upgrade"===u?(0,t.jsx)(S.ChevronUp,{className:"h-5 w-5 text-green-500"}):(0,t.jsx)(y.Icons.refresh,{className:"h-5 w-5 text-blue-500"}),"downgrade"===u?p("confirm_downgrade"):"upgrade"===u?p("confirm_upgrade"):p("confirm_plan_change")]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:p("current_plan")}),(0,t.jsx)("p",{className:"font-medium",children:m(c.current_plan)})]}),(0,t.jsx)(E.ChevronRight,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:p("new_plan")}),(0,t.jsx)("p",{className:"font-medium",children:m(c.new_plan)})]})]})}),c.line_items&&c.line_items.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-medium",children:p("pricing_breakdown")}),(0,t.jsxs)("div",{className:"space-y-2 rounded-lg border p-3",children:[c.line_items.map((e,n)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:e.description}),e.proration&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",p("prorated"),")"]})]}),(0,t.jsxs)("span",{className:(0,l.cn)("font-medium",e.amount<0&&"text-green-600"),children:["$",e.amount_display]})]},n)),(0,t.jsxs)("div",{className:"flex items-center justify-between border-t pt-2",children:[(0,t.jsx)("span",{className:"font-medium",children:p("total_due")}),(0,t.jsxs)("span",{className:"text-lg font-bold",children:["usd"===c.currency?"$":"",c.amount_due_display||"0.00"]})]}),c.minimum_charge_applied&&(0,t.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:p("minimum_charge_notice")})]})]}),"upgrade"===u&&!d&&(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-green-50 p-3 dark:bg-green-900/20",children:[(0,t.jsx)(P.default,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-green-900 dark:text-green-100",children:p("no_payment_required")}),(0,t.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:p("upgrade_at_no_cost")})]})]}),(0,t.jsx)("div",{className:"rounded-lg bg-gray-50 p-3 dark:bg-gray-900/50",children:(0,t.jsx)("p",{className:"text-sm",children:c.effective_immediately?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.Zap,{className:"mr-1 inline h-4 w-4 text-indigo-500"}),"upgrade"===u&&d?p("upgrade_charged_immediately"):p("changes_take_effect_immediately")]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.default,{className:"mr-1 inline h-4 w-4 text-orange-500"}),p("changes_scheduled_for")," ",(0,t.jsx)("strong",{children:(n=c.effective_at)?new Date(1e3*n).toLocaleDateString():""})]})})}),"downgrade"===u&&(0,t.jsxs)("div",{className:"flex items-start gap-2 rounded-lg border border-orange-200 bg-orange-50 p-3 dark:border-orange-800 dark:bg-orange-900/20",children:[(0,t.jsx)(I.AlertTriangle,{className:"mt-0.5 h-5 w-5 text-orange-600 dark:text-orange-400"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium text-orange-900 dark:text-orange-100",children:p("downgrade_notice")}),(0,t.jsx)("p",{className:"mt-1 text-orange-700 dark:text-orange-300",children:p("downgrade_description")})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)(N.Button,{variant:"outline",onClick:a,disabled:s,children:p("cancel")}),(0,t.jsx)(N.Button,{onClick:o,disabled:s,className:(0,l.cn)("downgrade"===u&&"bg-orange-600 hover:bg-orange-700"),children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),p("processing")]}):(0,t.jsx)(t.Fragment,{children:d&&"upgrade"===u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.CreditCard,{className:"mr-2 h-4 w-4"}),p("confirm_and_pay")]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.Check,{className:"mr-2 h-4 w-4"}),p("confirm_change")]})})})]})]})]})}):null}var M=e.i(462837);function L(){window.gtag&&window.gtag("event","conversion",{send_to:"AW-16840904708/4gMbCL_i28UbEISgr94-",value:1,currency:"USD"})}function Y(e,t,n,r){(0,k.track)("user_begin_checkout",{plan_id:e,billing_period:t,price:n,currency:"USD"},r)}function U(e){let{open:n,onClose:r,url:i,title:a="Complete your payment",description:o="Click the button below to open the secure payment page in a new tab. You can also copy the link."}=e;if(!n||!i)return null;let s=async()=>{try{await navigator.clipboard.writeText(i),w.toast.success("Link copied to clipboard")}catch(e){w.toast.error("Failed to copy link")}};return(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-xl bg-white p-5 shadow-xl dark:bg-gray-900",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a}),(0,t.jsx)("p",{className:"mt-2 text-sm text-std-text-secondary dark:text-gray-300",children:o}),(0,t.jsx)("div",{className:"mt-4 break-all rounded-md border border-gray-200 bg-gray-50 p-2 text-xs text-gray-600 dark:border-gray-800 dark:bg-gray-800/60 dark:text-gray-300",children:i}),(0,t.jsxs)("div",{className:"mt-5 flex justify-end gap-2",children:[(0,t.jsx)("button",{onClick:s,className:"rounded-lg border border-gray-200 px-3 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-50 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-800",children:"Copy link"}),(0,t.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"hidden"}),(0,t.jsx)("button",{onClick:()=>{window.open(i,"_blank","noopener,noreferrer")},className:"rounded-lg bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-indigo-700",children:"Open in new tab"}),(0,t.jsx)("button",{onClick:r,className:"rounded-lg px-3 py-2 text-sm font-medium text-gray-600 transition hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800",children:"Close"})]})]})})}function R(e){let{list:n,active:i=!1}=e,a=(0,r.useTranslations)("plan");return(0,t.jsx)("div",{className:"flex flex-1 flex-col gap-2",children:n.map((e,n)=>(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"mt-0.5 flex-shrink-0",children:i?(0,t.jsx)(y.Icons.checkActive,{className:"h-4 w-4"}):(0,t.jsx)(y.Icons.check,{bgColor:"#5F5F6D",className:"h-4 w-4 text-std-bg-base"})}),(0,t.jsx)("div",{className:(0,l.cn)("text-sm leading-5","text-std-text-secondary dark:text-gray-300"),children:a(e)})]},n))})}function B(e){let{className:n}=e,i=(0,r.useTranslations)("plan");return(0,t.jsxs)("div",{className:(0,l.cn)("flex items-center gap-1 rounded-full border border-purple-500/20 bg-gradient-to-r from-purple-500/10 to-blue-500/10 px-3 py-1",n),children:[(0,t.jsx)(u.HotIcon,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:i("popular")})]})}function H(e){let{className:n}=e,i=(0,r.useTranslations)("plan");return(0,t.jsxs)("div",{className:(0,l.cn)("flex items-center gap-1 rounded-full border border-green-500/20 bg-gradient-to-r from-green-500/10 to-emerald-500/10 px-3 py-1",n),children:[(0,t.jsx)(y.Icons.check,{className:"h-3.5 w-3.5 text-green-600 dark:text-green-400"}),(0,t.jsx)("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:i("current_plan")})]})}function q(e){var i,a,o,u,k,_,N;let{plan:C,isCurrentPlan:S=!1,isYearly:E=!1,className:P}=e,O=(0,r.useTranslations)("plan"),T=(0,r.useLocale)(),I=(0,j.useRouter)(),{user:A,hasLogin:D}=(0,d.useUser)(),{userPackage:q,fetchPackage:z}=(0,g.usePackage)(),{showAuthDialog:V}=(0,p.useAuthDialog)(),{isPromoActive:W}=(0,m.usePromoTimer)(),[$,Z]=(0,s.useAsyncFn)(f.createStripeCheckoutSession,[]),[G,K]=(0,s.useAsyncFn)(f.changeSubscription,[]),[J,Q]=(0,s.useAsyncFn)(f.cancelScheduledSubscriptionChange,[]),[X,ee]=(0,n.useState)(!1),[et,en]=(0,n.useState)(null),[er,ei]=(0,n.useState)(!1),[ea,eo]=(0,n.useState)(!1),[es,el]=(0,n.useState)(null),ec=(0,n.useRef)([]),eu=(0,n.useRef)(q),ed=(0,b.default)(null==q?void 0:q.updated_at).add(30,"day").locale(T).format("YYYY/M/D HH:mm:ss"),ep=e=>{if(!e)return null;let t="string"==typeof e&&/^\d+$/.test(e)?Number(e):e,n="number"==typeof t?(0,b.default)(t<1e12?1e3*t:t):(0,b.default)(t);return n.isValid()?n.locale(T).format("MMMM D, YYYY"):null},em=null==q?void 0:q.scheduled_change,ef=ep(null!=(o=null!=(a=null==q?void 0:q.current_period_end)?a:null==q?void 0:q.finished_at)?o:null==em?void 0:em.effective_date),eh=ep(null==em?void 0:em.effective_date),eg=((e,t)=>{if(!e)return"";let n=(0,x.getPlanConfig)(e),r=(null==n?void 0:n.name)||e.charAt(0).toUpperCase()+e.slice(1);return"year"===t?"".concat(r," (").concat(O("yearly"),")"):"month"===t?"".concat(r," (").concat(O("monthly"),")"):r})(null==em?void 0:em.new_plan,null==em?void 0:em.new_billing_period),ex=null!=eh?eh:ef,ey=(null==q?void 0:q.cancel_at_period_end)===!0,ev=ep(null!=(u=null==q?void 0:q.cancel_at)?u:null==q?void 0:q.current_period_end),eb=ey?ev?"Your subscription is active and will cancel on ".concat(ev,"."):"Your subscription will cancel at the end of the current period.":null!=(k=eg&&ef?"Your subscription will be active until ".concat(ef,", then it will change to ").concat(eg,"."):ef?"Your subscription is active and will renew on ".concat(ef,"."):null)?k:"Your subscription is active.",ej=eg&&ex?"Your subscription will change to ".concat(eg," on ").concat(ex,"."):"Your subscription will change soon.";async function ew(){if(L(),Y(C.id,E?"yearly":"monthly",eI,A),!A)return void V({source:"".concat(C.id,"_plan_card"),redirectPath:"/app/plan/"});let e=(0,x.getStripeProductForPlan)(C.id,E);if(!e)return void console.error("No Stripe product configured for plan:",C.id);let t=await Z({user_id:A._id,product:e,apply_promo:eT});t.data.url&&(ei(!0),window.location.href=t.data.url)}async function ek(){if(L(),Y(C.id,E?"yearly":"monthly",eI,A),!A)return;let e="".concat(C.id,"-").concat(E?"annual":"monthly");try{let t=(await K({user_id:A._id,new_plan:e,confirm:!1,apply_promo:eT})).data;(null==t?void 0:t.success)?t.confirmation_required&&t.preview?(en(t),ee(!0)):await e_(t):(console.error("Failed to change plan:",null==t?void 0:t.message),w.toast.error((null==t?void 0:t.message)||"Failed to change plan"))}catch(e){console.error("Error changing plan:",e),eN(e)}}async function e_(e){var t;if(null==(t=e.checkout_session)?void 0:t.url){ei(!0),el(e.checkout_session.url),eo(!0);return}if(e.invoice_url){ei(!0),el(e.invoice_url),eo(!0);return}if(e.scheduled_change_at){await z(),I.refresh();let t=new Date(1e3*e.scheduled_change_at).toLocaleDateString();w.toast.success(e.message||"Your plan will change to ".concat(e.new_plan," on ").concat(t))}else ei(!0),await z(),I.refresh(),w.toast.success(e.message||("lateral"===e.change_type?"You are already on this plan.":"downgrade"===e.change_type?"Plan downgrade scheduled.":"Plan upgraded successfully."))}function eN(e){var t,n,r,i,a,o,s,l,c,u,d;(null==e||null==(n=e.data)||null==(t=n.content)?void 0:t.includes("Cannot switch from annual to monthly"))?w.toast.error("Cannot switch from annual to monthly billing. Please wait until your annual subscription ends or contact support."):(null==e||null==(i=e.data)||null==(r=i.content)?void 0:r.includes("downgrade"))&&(null==e||null==(o=e.data)||null==(a=o.content)?void 0:a.includes("billing period"))?w.toast.error("Cannot downgrade when switching billing periods. You can only upgrade or stay at the same tier when switching from monthly to yearly."):(null==e||null==(l=e.data)||null==(s=l.content)?void 0:s.includes("No active subscription"))?w.toast.error("You don't have an active subscription. Please purchase a new plan."):(null==e||null==(u=e.data)||null==(c=u.content)?void 0:c.includes("pending update"))?w.toast.error("You have a pending subscription update. Please complete or cancel it first."):w.toast.error((null==e||null==(d=e.data)?void 0:d.content)||"An error occurred while changing your plan")}async function eC(){if(et&&A){ee(!1);try{let e=await K({user_id:A._id,new_plan:et.new_plan,confirm:!0,apply_promo:eT});await e_(e.data),en(null)}catch(e){eN(e)}}}async function eS(){if(A)try{await Q({user_id:A._id}),ei(!0),await z(),I.refresh(),w.toast.success("Scheduled plan change has been cancelled.")}catch(i){var e,t,n;console.error("Error cancelling scheduled change:",i);let r=(null==i||null==(e=i.data)?void 0:e.content)||(null==i||null==(n=i.response)||null==(t=n.data)?void 0:t.content)||(null==i?void 0:i.message)||"Failed to cancel scheduled plan change.";w.toast.error(r)}}(0,n.useEffect)(()=>er?(ec.current.forEach(e=>clearTimeout(e)),ec.current=[],[500,1e3,1500,3e3].forEach(e=>{let t=setTimeout(async()=>{try{var t,n,r;await z(),((null==(t=eu.current)?void 0:t.type)!==(null==q?void 0:q.type)||(null==(n=eu.current)?void 0:n.billing_period)!==(null==q?void 0:q.billing_period)||(null==(r=eu.current)?void 0:r.stripe_subscription_id)!==(null==q?void 0:q.stripe_subscription_id))&&(ei(!1),ec.current.forEach(e=>clearTimeout(e)),ec.current=[])}catch(t){console.error("Failed to refresh package at ".concat(e,"ms:"),t)}},e);ec.current.push(t)}),()=>{ec.current.forEach(e=>clearTimeout(e)),ec.current=[]}):void 0,[er,z,q]),(0,n.useEffect)(()=>{eu.current=q},[q]);let eE="free"===C.id,eP=C.highlighted&&!S,eO=E&&("plus"===C.id||"pro"===C.id),eT=W&&eO,eI=E?eT&&C.yearlyPricePromo?C.yearlyPricePromo:C.yearlyPrice:C.monthlyPrice,eA=eT&&C.yearlyTotalPromo?C.yearlyTotalPromo:C.yearlyTotal,eD=eT?C.originalPrice:void 0,eF=(null==q?void 0:q.scheduled_change)&&q.scheduled_change.new_plan===C.id&&q.scheduled_change.new_billing_period===(E?"year":"month"),eM=!!(null==q?void 0:q.scheduled_change),eL="free"===C.id&&(null==q?void 0:q.type)==="free"||"lite"===C.id&&(null==q?void 0:q.type)==="lite"||"plus"===C.id&&(null==q?void 0:q.type)==="plus"||"pro"===C.id&&(null==q?void 0:q.type)==="pro"||"legacy_premium"===C.id&&(null==q?void 0:q.type)==="paid",eY=(0,x.getPlanTier)(null==q?void 0:q.type),eU=(0,x.getPlanTier)(C.id),eR=(null==q?void 0:q.billing_period)==="year"?"yearly":(null==q?void 0:q.billing_period)==="month"?"monthly":(0,x.getBillingPeriod)(null==q?void 0:q.finished_at,null==q?void 0:q.updated_at),eB=E?"yearly":"monthly",eH=eR===eB,eq=(null==q?void 0:q.type)&&["paid","lite","plus","pro"].includes(q.type),ez=!eE&&!S&&eq&&!eM&&("paid"===q.type||eH&&eU!==eY||"monthly"===eR&&"yearly"===eB&&eU>=eY),eV=!eE&&!S&&eq&&(eM||"paid"!==q.type&&("yearly"===eR&&"monthly"===eB||"monthly"===eR&&"yearly"===eB&&eU<eY)),eW=!eE&&!S&&eq&&["lite","plus","pro","paid"].includes(q.type)&&eU<eY,e$=()=>S?O("your_current_plan"):eE&&!D?O("login_for_free"):eV?eM?O("has_scheduled_change"):"yearly"===eR&&"monthly"===eB?O("cancel_current_to_change"):"monthly"===eR&&"yearly"===eB&&eU<eY?O("cannot_downgrade_cross_period"):O("cancel_current_to_change"):ez?eW&&eH?"".concat(O("downgrade")," to ").concat(C.name):eU===eY&&"yearly"===eB&&"monthly"===eR?"".concat(O("switch_to_annual_billing")):eU>eY||"yearly"===eB&&"monthly"===eR?"".concat(O("upgrade")," to ").concat(C.name):"Switch to ".concat(C.name):eq?O("upgrade"):"".concat(O("upgrade")," to ").concat(C.name);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.TooltipProvider,{delayDuration:200,children:(0,t.jsx)("div",{className:(0,l.cn)("relative flex min-h-[37rem] w-full max-w-[22rem] flex-col gap-3 rounded-xl p-6",eE?"border border-black/[0.06] bg-white dark:border-white/[0.06] dark:bg-gray-800/50":"bg-white dark:bg-gray-800/50",!eE&&(eP?"before:absolute before:inset-0 before:rounded-xl before:bg-gradient-to-r before:from-purple-500/30 before:to-blue-500/30 before:p-[0.175rem] after:absolute after:inset-[0.175rem] after:rounded-xl after:bg-white dark:before:from-purple-500/40 dark:before:to-blue-500/40 dark:after:bg-gray-800/50":"before:absolute before:inset-0 before:rounded-xl before:bg-gradient-to-r before:from-purple-500/20 before:to-blue-500/20 before:p-[0.175rem] after:absolute after:inset-[0.175rem] after:rounded-xl after:bg-white dark:before:from-purple-500/30 dark:before:to-blue-500/30 dark:after:bg-gray-800/50"),P),children:(0,t.jsxs)("div",{className:(0,l.cn)("flex h-full flex-col gap-3",!eE&&"relative z-10"),children:[eL&&!eE&&!ey&&(0,t.jsx)(H,{className:"absolute right-1 top-1 rtl:left-1 rtl:right-auto"}),eL&&!eE&&ey&&(0,t.jsx)("div",{className:"absolute right-1 top-1 z-20 flex items-center gap-1 rounded-full px-3 py-1 rtl:left-1 rtl:right-auto",style:{backgroundColor:"oklch(63.7% 0.237 25.331)"},children:(0,t.jsx)("span",{className:"text-xs font-medium text-white",children:O("cancelling")})}),eP&&!eL&&(0,t.jsx)(B,{className:"absolute right-1 top-1 rtl:left-1 rtl:right-auto"}),(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,t.jsx)("h2",{className:"text-2xl font-medium text-gray-900 dark:text-white",children:"Premium"===C.name?O("premium_plan_title"):"Free"===C.name?O("free_plan_title"):"".concat(C.name," ").concat(O("plan"))}),(0,t.jsx)("p",{className:"mt-1 text-start text-sm text-std-text-secondary dark:text-gray-400",children:O(C.description)}),(null==(i=C.credits)?void 0:i.bytes)&&(0,t.jsxs)("p",{className:"mt-1 text-lg",children:[(0,t.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:C.credits.bytes.toLocaleString()})," ",(0,t.jsx)("span",{className:"text-sm text-std-text-secondary",children:O("plan_credits_text")})]}),(0,t.jsxs)("div",{className:"mt-6 flex min-h-[4.25rem] flex-col justify-center",children:[!eE&&(0,t.jsxs)("div",{children:[null!=eD?(0,t.jsxs)("span",{className:"block text-xl font-medium text-std-text-secondary line-through decoration-2 dark:text-gray-400",children:["$",eD]}):null,(0,t.jsxs)("p",{className:(0,l.cn)("flex items-baseline gap-1",null!=eD&&"mt-1"),children:[(0,t.jsx)("span",{className:"text-sm font-medium text-std-text-secondary dark:text-gray-300",children:"$"}),(0,t.jsx)("span",{className:"text-4xl font-medium text-gray-900 dark:text-white",children:eI}),(0,t.jsxs)("span",{className:"text-sm font-medium text-std-text-secondary dark:text-gray-300",children:["/",O("plan_price_unit")]})]}),E?(0,t.jsx)("p",{className:"mt-1 text-sm text-std-text-secondary dark:text-gray-300",children:O("billed_annually",{amount:eA})}):S?null:(0,t.jsx)("p",{className:"mt-1 text-sm text-std-text-secondary dark:text-gray-300",children:O("switch_to_annual")})]}),S&&(null==q?void 0:q.finished_at)&&!eE?(0,t.jsx)("div",{className:"mt-1 text-sm text-std-text-secondary dark:text-gray-300",children:ey?(0,t.jsxs)(t.Fragment,{children:[O("cancel_on"),":"," ",new Date(q.cancel_at||q.current_period_end||q.finished_at).toLocaleDateString()]}):(null==q?void 0:q.scheduled_change)?(0,t.jsxs)(t.Fragment,{children:[O("changing_to")," ",(0,t.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[q.scheduled_change.new_plan," ","year"===q.scheduled_change.new_billing_period?"Yearly":"Monthly"]})," ","on"," ",new Date(q.scheduled_change.effective_date).toLocaleDateString()]}):(0,t.jsxs)(t.Fragment,{children:[O("renewal_date"),":"," ",new Date(q.current_period_end||q.finished_at).toLocaleDateString()]})}):null]})]}),S?eE&&D?(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(v.QuotaInfo,{current:null!=(_=null==q?void 0:q.balance)?_:0,total:null!=(N=null==q?void 0:q.total)?N:0,resetDate:ed})}):(0,t.jsxs)(M.Tooltip,{children:[(0,t.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("button",{disabled:!0,className:"flex w-full cursor-not-allowed items-center justify-center gap-1.5 rounded-lg bg-gray-100 px-4 py-2.5 text-sm font-medium text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:O("your_current_plan")})}),(0,t.jsx)(M.TooltipContent,{className:"max-w-xs",children:(0,t.jsx)("span",{className:"text-sm leading-5",children:eb})})]}):eF?(0,t.jsxs)(M.Tooltip,{children:[(0,t.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("button",{disabled:!0,className:"flex w-full cursor-not-allowed items-center justify-center gap-1.5 rounded-lg bg-green-100 px-4 py-2.5 text-sm font-medium text-green-700 dark:bg-green-900/20 dark:text-green-400",children:[(0,t.jsx)(y.Icons.check,{className:"h-4 w-4"}),O("scheduled_change")]})}),(0,t.jsx)(M.TooltipContent,{className:"max-w-xs",children:(0,t.jsx)("span",{className:"text-sm leading-5",children:ej})})]}):eE&&!D?(0,t.jsxs)("button",{onClick:()=>{I.push("/auth/?redirect=/app/")},className:"flex w-full items-center justify-center gap-1.5 rounded-lg bg-indigo-600 px-4 py-2.5 text-sm font-medium text-white shadow-sm transition-colors hover:bg-indigo-700",children:[(0,t.jsx)(c.ZapIcon,{className:"h-4 w-4"}),O("login_for_free")]}):eE?null:eV?eM?(0,t.jsxs)(M.Tooltip,{children:[(0,t.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("button",{disabled:!0,className:"flex w-full cursor-not-allowed items-center justify-center gap-1.5 rounded-lg bg-gray-100 px-4 py-2.5 text-sm font-medium text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:e$()})}),(0,t.jsx)(M.TooltipContent,{className:"max-w-xs",children:(0,t.jsx)("span",{className:"text-sm leading-5",children:O("cancel_scheduled_downgrade_to_upgrade")})})]}):(0,t.jsx)("button",{disabled:!0,className:"flex w-full cursor-not-allowed items-center justify-center gap-1.5 rounded-lg bg-gray-100 px-4 py-2.5 text-sm font-medium text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:e$()}):ez?(0,t.jsx)("button",{onClick:ek,disabled:G.loading,className:(0,l.cn)("flex w-full items-center justify-center gap-1.5 rounded-lg px-4 py-2.5 text-sm font-medium shadow-sm transition-colors disabled:opacity-50",eW&&eH?"bg-gray-600 text-white hover:bg-gray-700":"bg-indigo-600 text-white hover:bg-indigo-700"),children:G.loading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),O("processing")]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.ZapIcon,{className:"h-4 w-4"}),e$()]})}):(0,t.jsx)("button",{onClick:ew,disabled:$.loading,className:"flex w-full items-center justify-center gap-1.5 rounded-lg bg-indigo-600 px-4 py-2.5 text-sm font-medium text-white shadow-sm transition-colors hover:bg-indigo-700 disabled:opacity-50",children:$.loading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),O("processing")]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.ZapIcon,{className:"h-4 w-4"}),e$()]})})]}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col pt-4",children:[(0,t.jsx)(R,{list:C.features,active:!eE&&!S}),S&&!eE&&(0,t.jsx)("div",{className:"mt-auto pt-4 text-center",children:(0,t.jsx)(h.ManageSubscriptionButton,{className:"h-auto border-0 bg-transparent p-0 text-sm font-medium text-indigo-600 shadow-none hover:bg-transparent hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300",children:O("manage_subscription")})}),eF&&!S&&(0,t.jsx)("div",{className:"mt-auto pt-4 text-center",children:(0,t.jsxs)("button",{type:"button",onClick:eS,disabled:J.loading,className:"inline-flex items-center gap-1.5 border-0 bg-transparent p-0 text-sm font-medium text-indigo-600 transition-colors hover:text-indigo-700 disabled:opacity-60 dark:text-indigo-400 dark:hover:text-indigo-300",children:[J.loading?(0,t.jsx)("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):(0,t.jsx)(y.Icons.refresh,{className:"h-4 w-4"}),O("cancel_scheduled_change_button",{defaultMessage:"Cancel scheduled downgrade"})]})})]})]})})}),(0,t.jsx)(U,{open:ea,onClose:()=>eo(!1),url:es,title:"Continue on Stripe",description:"Complete payment in a new tab."}),(0,t.jsx)(F,{open:X,onClose:function(){ee(!1),en(null)},onConfirm:eC,loading:G.loading,preview:(null==et?void 0:et.preview)||null,changeType:null==et?void 0:et.change_type,requiresPayment:(null==et?void 0:et.requires_payment)||!1})]})}function z(e){let{userPackage:s,hasLogin:l,className:c="",pageContext:u="landing"}=e,d=(0,r.useTranslations)("plan"),p=(0,r.useLocale)(),[f,h]=(0,n.useState)("yearly"),g="yearly"===f,{isPromoActive:y}=(0,m.usePromoTimer)(),v=["ru","fr"].includes(p),b=[{value:"yearly",label:d("yearly"),badge:y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"sm:hidden",children:(0,t.jsx)("span",{className:"rounded-full bg-cover bg-center px-2 py-0.5 font-bold text-white ".concat(v?"text-[10px]":"text-xs"),style:{backgroundImage:"url('/images/navy-salmon-dreamy-slim.jpg')",boxShadow:"0 4px 12px rgba(30, 58, 95, 0.7), 0 2px 6px rgba(245, 168, 154, 0.6)"},children:d("promo_badge_2_mobile")})}),(0,t.jsxs)("div",{className:"hidden sm:flex sm:items-center sm:gap-1",children:[(0,t.jsx)("span",{className:"rounded-full bg-emerald-500 px-2 py-0.5 text-xs font-bold text-slate-50",style:{boxShadow:"0 2px 8px rgba(54, 243, 123, 0.4)"},children:d("promo_badge_1")}),(0,t.jsx)("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400",children:"+"}),(0,t.jsx)("span",{className:"rounded-full bg-cover bg-center px-2 py-0.5 text-xs font-bold text-white",style:{backgroundImage:"url('/images/navy-salmon-dreamy-slim.jpg')",boxShadow:"0 4px 12px rgba(30, 58, 95, 0.7), 0 2px 6px rgba(245, 168, 154, 0.6)"},children:d("promo_badge_2")})]})]}):void 0},{value:"monthly",label:d("monthly")}],j=(0,x.getVisiblePlans)(null==s?void 0:s.type,!l||(null==s?void 0:s.type)==="free",u).map(e=>{if("legacy_premium"===e.id&&(null==s?void 0:s.type)==="paid"){var n;return{key:e.id,plan:(0,t.jsx)(a.PremiumPlanCard,{active:!1,isYearly:g,isCurrentPlan:!0,expireDate:new Date(null!=(n=null==s?void 0:s.finished_at)?n:"").toLocaleDateString()},e.id)}}let r=!g,i=(null==s?void 0:s.billing_period)==="year"?"yearly":(null==s?void 0:s.billing_period)==="month"?"monthly":(0,x.getBillingPeriod)(null==s?void 0:s.finished_at,null==s?void 0:s.updated_at),o=!i||"monthly"===i&&r||"yearly"===i&&g,l="free"===e.id&&(null==s?void 0:s.type)==="free"||"lite"===e.id&&(null==s?void 0:s.type)==="lite"||"plus"===e.id&&(null==s?void 0:s.type)==="plus"||"pro"===e.id&&(null==s?void 0:s.type)==="pro"||"legacy_premium"===e.id&&(null==s?void 0:s.type)==="paid",c="free"===e.id?l:i?l&&o:l;return{key:e.id,plan:(0,t.jsx)(q,{plan:e,isCurrentPlan:c,isYearly:g},e.id)}});return(0,t.jsxs)("div",{suppressHydrationWarning:!0,children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(i.PlanTabs,{options:b,onChange:e=>h(e)})}),(0,t.jsx)("div",{className:"mt-4 hidden items-stretch justify-center gap-6 py-1 md:grid md:grid-cols-2 xl:flex xl:flex-row ".concat(c),suppressHydrationWarning:!0,children:j.map(e=>e.plan)}),(0,t.jsx)(o.PlanCardGroupMobile,{className:"mt-4 block md:hidden ".concat(c),children:j.map(e=>e.plan)})]})}}]);