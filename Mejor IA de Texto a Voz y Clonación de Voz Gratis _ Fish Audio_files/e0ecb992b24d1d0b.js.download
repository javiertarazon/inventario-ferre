(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,307523,(e,t,i)=>{function s(e){return void 0===e}function a(e){return e===Object(e)}function r(e){return Array.isArray(e)}function n(e,t){return t?a(e)&&!s(e.uri):a(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function l(e){return!s(e)&&e}t.exports={serialize:function e(t,i,o,c){i=i||{},o=o||new FormData,i.indices=l(i.indices),i.nullsAsUndefineds=l(i.nullsAsUndefineds),i.booleansAsIntegers=l(i.booleansAsIntegers),i.allowEmptyArrays=l(i.allowEmptyArrays),i.noAttributesWithArrayNotation=l(i.noAttributesWithArrayNotation),i.noFilesWithArrayNotation=l(i.noFilesWithArrayNotation),i.dotsForObjectNotation=l(i.dotsForObjectNotation);let d="function"==typeof o.getParts;return s(t)||(null===t?i.nullsAsUndefineds||o.append(c,""):"boolean"==typeof t?i.booleansAsIntegers?o.append(c,+!!t):o.append(c,t):r(t)?t.length?t.forEach((t,s)=>{var r;let l=c+"["+(i.indices?s:"")+"]";(i.noAttributesWithArrayNotation||i.noFilesWithArrayNotation&&n(r=t,d)&&"string"==typeof r.name&&(a(r.lastModifiedDate)||"number"==typeof r.lastModified))&&(l=c),e(t,i,o,l)}):i.allowEmptyArrays&&o.append(i.noAttributesWithArrayNotation?c:c+"[]",""):t instanceof Date?o.append(c,t.toISOString()):a(t)&&!n(t,d)?Object.keys(t).forEach(s=>{let a=t[s];if(r(a))for(;s.length>2&&s.lastIndexOf("[]")===s.length-2;)s=s.substring(0,s.length-2);let n=c?i.dotsForObjectNotation?c+"."+s:c+"["+s+"]":s;e(a,i,o,n)}):o.append(c,t)),o}}},874183,104532,e=>{"use strict";e.s(["AudioPlayer",()=>a],874183);var t=e.i(299749);e.s(["audioContextManager",()=>s],104532);class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}getContext(){return this.context||(this.context=new AudioContext,this.masterGainNode=this.context.createGain(),this.masterGainNode.gain.value=this.volume,this.masterGainNode.connect(this.context.destination)),this.context}getMasterGainNode(){if(!this.masterGainNode){let e=this.getContext();this.masterGainNode=e.createGain(),this.masterGainNode.gain.value=this.volume,this.masterGainNode.connect(e.destination)}return this.masterGainNode}async resumeContext(){let e=this.getContext();"suspended"===e.state&&await e.resume()}async initialize(){if(this.isInitialized)return;let e=this.getContext(),t=e.createBuffer(1,1,22050),i=e.createBufferSource();i.buffer=t,i.connect(this.getMasterGainNode());try{i.start(0),this.isInitialized=!0}catch(e){console.error("Failed to initialize audio:",e)}}setVolume(e){this.volume=e,this.masterGainNode&&(this.masterGainNode.gain.value=e)}constructor(){(0,t._)(this,"context",null),(0,t._)(this,"masterGainNode",null),(0,t._)(this,"volume",1),(0,t._)(this,"isInitialized",!1)}}(0,t._)(i,"instance",void 0);let s=i.getInstance();class a{on(e,t){this.listeners[e]=this.listeners[e].filter(e=>e!==t),this.listeners[e].push(t)}off(e,t){this.listeners[e]=this.listeners[e].filter(e=>e!==t)}emit(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];this.listeners[e].forEach(e=>e(...i))}computeTime(){if(0===this.allData.length)return;let e=this.allData.reduce((e,t)=>e+((null==t?void 0:t.length)||0),0);0!==e&&(this.durationCache=e/this.sampleRate,this.emit("durationUpdate",this.durationCache))}tryEmitCanplay(){this.canplayEmitted||(this.emit("canplay"),this.canplayEmitted=!0)}loadDoneHandle(){this.loadDone=!0,this.tryEmitCanplay(),this.emit("loadDone"),this.options.lowPower||this.computeTime()}async downloadByReader(){"wav"===this.format?await this.processWavStream():await this.processMp3Stream()}async processWavStream(){let e=new Uint8Array(0),t=performance.now(),i=-1,s=!1,a={channels:this.channels,sampleRate:this.sampleRate,bitsPerSample:16},r=!1;for(;;){let{done:n,value:l}=await this.reader.read();if(n){this.loadDoneHandle();break}e=this.concatTypedArrays(e,l),l.length;let o=performance.now();if(i<0&&(i=o-t),r){let t=2*Math.floor(e.length/2);if(t>0){let i=e.slice(0,t);e=e.slice(t);let s=new Int16Array(i.buffer,i.byteOffset,i.length/2),a=this.int16ToFloat32(s);this.allData.push(a),this.processedChunks++,this.playQueue&&this.playQueue.push(a),this.processedChunks>=this.minChunksBeforePlay&&this.tryEmitCanplay()}continue}if(!s&&e.length>=44){let t=function(e){let t=String.fromCharCode(...Array.from(e.slice(0,4))),i=String.fromCharCode(...Array.from(e.slice(8,12)));if("RIFF"===t&&"WAVE"===i){let t=new DataView(e.buffer,e.byteOffset,44);return{isValid:!0,format:{channels:t.getUint16(22,!0),sampleRate:t.getUint32(24,!0),bitsPerSample:t.getUint16(34,!0)}}}return{isValid:!1}}(e);t.isValid?(a=t.format,this.sampleRate=a.sampleRate,e=e.slice(44),s=!0):r=!0}if(s){let t=2*Math.floor(e.length/2);if(t>0){let i=e.slice(0,t);e=e.slice(t);let s=new Int16Array(i.buffer,i.byteOffset,i.length/2),a=this.int16ToFloat32(s);this.allData.push(a),this.processedChunks++,this.playQueue&&this.playQueue.push(a),this.processedChunks>=this.minChunksBeforePlay&&this.tryEmitCanplay()}}}}async processMp3Stream(){let{MPEGDecoderWebWorker:t}=await e.A(529605),i=new Uint8Array(0),s=performance.now(),a=-1,r=new t,n=null,l=[];for(;;){let{done:e,value:t}=await this.reader.read();if(e){await Promise.all(l),null==n||n.then(()=>{r.free(),this.loadDoneHandle()});break}i=this.concatTypedArrays(i,t),t.length;let o=performance.now();a<0&&(a=o-s);let c=2*Math.floor(i.length/2),d=i.slice(0,c);i=i.slice(c),n=r.ready.then(()=>{let e=r.decode(d).then(e=>{let{channelData:t}=e,[i]=t;this.allData.push(i),this.processedChunks++,this.playQueue&&this.playQueue.push(i),this.processedChunks>=this.minChunksBeforePlay&&this.tryEmitCanplay()}).catch(e=>{console.error(e)});return l.push(e),e})}}concatTypedArrays(e,t){let i=new Uint8Array(e.length+t.length);return i.set(e,0),i.set(t,e.length),i}int16ToFloat32(e){let t=new Float32Array(e.length);for(let i=0;i<e.length;i++)t[i]=e[i]/32768;return t}timeUpdateFn(){"playing"===this.playStatus&&this.emit("timeupdate",this.currentTime)}async play(){if(await s.initialize(),this.playQueue&&0===this.playQueue.length){var e;return this.loadDone?void this.stop():(null==(e=this.audioContext)||e.suspend(),this.playStatus="pending",void(this.waitTimer=setTimeout(this.play,100)))}this.waitTimer=null,this.playQueue||(this.playQueue=this.allData.slice());let t=null===this.audioContext;null===this.audioContext&&(this.audioContext=s.getContext(),this.timeUpdateTimer=setInterval(this.timeUpdateFn.bind(this),200)),"suspended"===this.audioContext.state&&s.resumeContext(),this.offsetTime=this.audioContext.currentTime;let i=[];for(;this.playQueue.length>0;)i.push(this.playQueue.shift());let a=i.reduce((e,t)=>e+((null==t?void 0:t.length)||0),0);if(0===a){this.waitTimer=setTimeout(this.play,100);return}let r=new Float32Array(a),n=0;i.forEach(e=>{r.set(e,n),n+=e.length});let l=this.audioContext.createBuffer(1,r.length,this.sampleRate);l.copyToChannel(r,0);let o=this.audioContext.createBufferSource();this.currentSource=o,o.buffer=l,o.connect(s.getMasterGainNode()),o.onended=()=>{this.currentSource===o&&"playing"===this.playStatus&&(this.startTime=this.currentTime,setTimeout(()=>{this.play()}))},t?o.start(0,this.startTime):o.start(),this.playStatus="playing"}clearAudioContext(){this.currentSource&&(this.currentSource.stop(),this.currentSource.disconnect(),this.currentSource=null),this.audioContext&&(this.audioContext.suspend(),this.audioContext=null,this.offsetTime=0),this.waitTimer&&clearTimeout(this.waitTimer),this.timeUpdateTimer&&clearInterval(this.timeUpdateTimer),this.playQueue=null}pause(){this.audioContext&&"pending"!==this.playStatus&&(this.startTime=this.currentTime),this.clearAudioContext(),this.playStatus="pause",this.emit("stop")}stop(){this.clearAudioContext(),this.startTime=0,this.playStatus="stop",this.emit("stop"),this.emit("timeupdate",0)}close(){var e;null==(e=this.audioContext)||e.close()}get duration(){return this.durationCache}get volume(){return this.volumeProxy}set volume(e){this.volumeProxy=e,s.setVolume(e)}set currentTime(e){if("playing"===this.playStatus||"pending"===this.playStatus){this.stop(),this.startTime=e,this.play();return}this.startTime=e}get currentTime(){if("playing"===this.playStatus){var e;return((null==(e=this.audioContext)?void 0:e.currentTime)||0)+this.startTime-this.offsetTime}return this.startTime}constructor(e,i={}){(0,t._)(this,"reader",void 0),(0,t._)(this,"options",void 0),(0,t._)(this,"format",void 0),(0,t._)(this,"channels",void 0),(0,t._)(this,"loadDone",void 0),(0,t._)(this,"playQueue",void 0),(0,t._)(this,"allData",void 0),(0,t._)(this,"sampleRate",void 0),(0,t._)(this,"durationCache",void 0),(0,t._)(this,"playStatus",void 0),(0,t._)(this,"canplayEmitted",void 0),(0,t._)(this,"processedChunks",void 0),(0,t._)(this,"minChunksBeforePlay",void 0),(0,t._)(this,"listeners",void 0),(0,t._)(this,"audioContext",void 0),(0,t._)(this,"volumeProxy",void 0),(0,t._)(this,"startTime",void 0),(0,t._)(this,"offsetTime",void 0),(0,t._)(this,"waitTimer",void 0),(0,t._)(this,"timeUpdateTimer",void 0),(0,t._)(this,"currentSource",void 0),this.reader=e,this.options=i,this.format="mp3",this.channels=1,this.loadDone=!1,this.playQueue=null,this.allData=[],this.sampleRate=44100,this.durationCache=-1,this.playStatus="stop",this.canplayEmitted=!1,this.processedChunks=0,this.minChunksBeforePlay=3,this.listeners={loadDone:[],stop:[],durationUpdate:[],timeupdate:[],canplay:[]},this.audioContext=null,this.volumeProxy=1,this.startTime=0,this.offsetTime=0,this.waitTimer=null,this.timeUpdateTimer=null,this.currentSource=null,this.options.sampleRate&&(this.sampleRate=this.options.sampleRate),this.format=this.options.format||"mp3",this.channels=this.options.channels||1,this.downloadByReader(),this.play=this.play.bind(this),this.pause=this.pause.bind(this),this.emit=this.emit.bind(this)}}},141632,e=>{"use strict";e.s(["overviewAsr",()=>l,"overviewTTS",()=>n,"topModels",()=>a,"topUsers",()=>r]);var t=e.i(100574),i=e.i(874183),s=e.i(307523);let a=t.fetcher.path("/overview/top_models").method("get").create(),r=t.fetcher.path("/overview/top_users").method("get").create();t.fetcher.path("/overview/home/tts/models").method("get").create();let n=async e=>{let{text:s,model_id:a,recaptcha:r,posthog_distinct_id:n}=e,l=new AbortController,o=setTimeout(()=>l.abort(),36e5),c=await fetch("".concat(t.BASE_URL,"/overview/home/tts"),{method:"POST",headers:{authorization:(0,t.getAuthorization)(),"content-type":"application/json"},body:JSON.stringify({text:s,model_id:a,recaptcha:r,posthog_distinct_id:n}),signal:l.signal});if(clearTimeout(o),401==c.status&&(0,t.handle401)(),!c.ok)if(c.status>=400&&c.status<500)(0,t.handle4xx)(await c.json());else throw Error("Unknown error occurred");let d=c.body.getReader();return c.headers.forEach((e,t)=>{console.log(t,e)}),{audio:new i.AudioPlayer(d)}},l=async e=>{let i=(0,s.serialize)(e,{noAttributesWithArrayNotation:!0,noFilesWithArrayNotation:!0,dotsForObjectNotation:!0,nullsAsUndefineds:!0}),a=await fetch("".concat(t.BASE_URL,"/overview/home/asr"),{method:"POST",headers:{authorization:(0,t.getAuthorization)()},body:i});if(401==a.status&&(0,t.handle401)(),!a.ok)if(a.status>=400&&a.status<500)(0,t.handle4xx)(await a.json());else throw Error("Unknown error occurred");return a}},472132,e=>{"use strict";e.s(["CommunityLinks",()=>l,"FooterDesktopColumn",()=>d,"FooterDropdown",()=>c,"TermLinks",()=>o]);var t=e.i(843476),i=e.i(271645),s=e.i(522016),a=e.i(664659),r=e.i(647163),n=e.i(100574);function l(e){let{communityConfig:i}=e,a=(0,n.isCnEnvironment)()?[i[0],i[4]]:i;return(0,t.jsx)("div",{className:"mt-12 flex gap-4 md:mt-0",children:a.map(e=>(0,t.jsx)(s.default,{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"text-black transition-colors hover:text-gray-500 dark:text-white dark:hover:text-gray-300",children:e.icon},e.href))})}function o(e){let{termConfig:i}=e,a=(0,n.isCnEnvironment)()?i:i.slice(0,3);return(0,t.jsx)("div",{className:"mt-4 flex gap-4 md:mt-0",children:a.map(e=>{let i=!e.href.startsWith("/");return(0,t.jsx)(s.default,{className:"text-xs font-medium text-black transition-colors hover:text-gray-500 dark:text-white dark:hover:text-gray-300",href:e.href,...i&&{target:"_blank",rel:"noopener noreferrer"},children:e.title},e.title)})})}function c(e){let{title:n,children:l}=e,[o,c]=(0,i.useState)(!1);return(0,t.jsxs)("div",{className:"md:hidden",children:[(0,t.jsxs)("button",{onClick:()=>c(!o),className:"flex w-full items-center justify-between py-3 text-left text-sm font-bold text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("span",{children:n}),(0,t.jsx)(a.ChevronDown,{className:(0,r.cn)("h-4 w-4 transition-transform",o&&"rotate-180")})]}),(0,t.jsx)("div",{className:(0,r.cn)("overflow-hidden transition-all duration-200",o?"max-h-96":"max-h-0"),children:(0,t.jsx)("ul",{className:"flex flex-col gap-2 pb-3 pt-2",children:l.map(e=>{let i=!e.href.startsWith("/");return(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{className:"text-sm text-black transition-colors hover:text-gray-500 dark:text-white dark:hover:text-gray-300",href:e.href,...i&&{target:"_blank",rel:"noopener noreferrer"},children:e.title})},e.title)})})})]})}function d(e){let{title:i,children:a}=e;return(0,t.jsxs)("nav",{className:"hidden md:block",children:[(0,t.jsx)("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400",children:i}),(0,t.jsx)("ul",{className:"mt-2 flex flex-col gap-2 text-sm md:mt-4 md:gap-4",children:a.map(e=>{let i=!e.href.startsWith("/");return(0,t.jsx)("li",{children:(0,t.jsx)(s.default,{className:"text-black transition-colors hover:text-gray-500 dark:text-white dark:hover:text-gray-300",href:e.href,...i&&{target:"_blank",rel:"noopener noreferrer"},children:e.title})},e.title)})})]})}},552389,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(843476),i=e.i(271645),s=e.i(363178),a=e.i(115052),r=e.i(647163),n=e.i(846932);let l=(0,i.lazy)(async()=>{let{default:i,Layout:s,Fit:a,Alignment:l}=await e.A(230347);return{default:e=>{let{isDark:o}=e;return(0,t.jsxs)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 h-full w-full",children:[(0,t.jsx)("div",{className:(0,r.cn)("absolute left-0 top-0 z-[1] w-full bg-gradient-to-b from-background to-transparent dark:h-[100px]",{hidden:!o})}),(0,t.jsx)(i,{className:(0,r.cn)({hidden:!o}),src:"/fish.audio.riv",layout:new s({fit:a.Cover,alignment:l.Center})}),(0,t.jsx)("div",{className:(0,r.cn)("absolute bottom-0 left-0 z-[1] w-full bg-gradient-to-t from-background to-transparent dark:h-[100px]",{hidden:!o})})]})}}});function o(){let{theme:e}=(0,s.useTheme)(),r=(0,a.useIsMobile)(),[n,o]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{o("dark"===e)},[e]),(0,i.useEffect)(()=>{if(n&&!r){let e=setTimeout(()=>d(!0),250);return()=>clearTimeout(e)}d(!1)},[n,r]),c)?(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(l,{isDark:n})}):null}},808541,e=>{"use strict";e.s(["HookDialogProvider",()=>u,"useHookDialog",()=>h],808541);var t=e.i(843476),i=e.i(271645),s=e.i(585264),a=e.i(255566),r=e.i(219613),n=e.i(344040),l=e.i(9309),o=e.i(647163);function c(e){let{open:i,onOpenChange:c,title:d,description:u,content:h}=e,m=(0,s.useTranslations)("auth"),f=[{title:m("free-voice-generation"),icon:(0,t.jsx)(n.FreeIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:m("high-quality-audio-in-seconds"),icon:(0,t.jsx)(n.HighQualityIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:m("countless-character-sounds"),icon:(0,t.jsx)(n.CountlessCharacterSoundsIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:m("latest-ai-model"),icon:(0,t.jsx)(n.LatestAiModelIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})}];return(0,t.jsx)(a.StandardModal,{isOpen:i,onClose:()=>c(!1),backgroundComponent:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"auth-gradient-bg absolute left-0 right-0 top-0 z-[1] h-[12rem] w-full"}),(0,t.jsx)(l.PlanBgDotLeftIcon,{className:(0,o.cn)("absolute -left-4 -top-8 -z-[2] hidden w-full opacity-60 md:block")}),(0,t.jsx)(l.PlanBgDotRightIcon,{className:(0,o.cn)("absolute -right-64 -top-8 -z-[2] hidden w-full opacity-60 md:block")})]}),children:(0,t.jsxs)("div",{className:"relative w-full px-4 pb-12 md:min-w-[32rem] md:pb-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-6 text-center",children:[(0,t.jsx)(r.FishAudioIcon,{className:"h-10"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.StandardDialogTitle,{className:"text-center text-2xl font-semibold tracking-tight text-std-text-heading md:text-4xl",children:d||m("unlock-full-potential")})})]}),(0,t.jsxs)("div",{className:"mt-8 flex flex-col gap-3 md:px-4",children:[(0,t.jsx)("div",{className:"mx-auto flex w-fit gap-2 md:gap-4",children:f.slice(0,2).map((e,i)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 text-std-text-heading",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:e.icon}),(0,t.jsx)("span",{className:"whitespace-nowrap text-xs md:text-sm",children:e.title})]},i))}),(0,t.jsx)("div",{className:"mx-auto flex w-fit justify-center gap-2 md:gap-4",children:f.slice(2,4).map((e,i)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 text-std-text-heading",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:e.icon}),(0,t.jsx)("span",{className:"whitespace-nowrap text-xs md:text-sm",children:e.title})]},i))})]}),(0,t.jsx)("div",{className:"separator mx-auto mb-8 mt-12 hidden w-[70%] md:block"}),(0,t.jsx)("div",{className:"my-12 flex flex-col gap-4 px-8 md:my-6 md:px-12",children:h})]})})}let d=(0,i.createContext)(void 0);function u(e){let{children:s}=e,[a,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(null),o=(0,i.useCallback)(e=>{l(e),r(!0)},[]),u=(0,i.useCallback)(()=>{r(!1),setTimeout(()=>{l(null)},100)},[]);return(0,t.jsxs)(d.Provider,{value:{openDialog:o,closeDialog:u},children:[s,(0,t.jsx)(c,{open:a,onOpenChange:r,content:n})]})}function h(){let e=(0,i.useContext)(d);if(void 0===e)throw Error("useHookDialog must be used within a HookDialogProvider");return e}},727316,e=>{"use strict";e.s(["LoginCTA",()=>g,"default",()=>w],727316);var t=e.i(843476),i=e.i(271645),s=e.i(647163),a=e.i(552389),r=e.i(808541),n=e.i(221663),l=e.i(956850),o=e.i(80075);let c={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function d(e){4===e.length&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn("Unable to convert hex string ".concat(e," to rgb values")),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function u(e){if(void 0===e)return[0,0,0];if(3==arguments.length)return arguments;if(!isNaN(e)){var t;return[((t=parseInt(t=e))>>16&255)/255,(t>>8&255)/255,(255&t)/255]}return"#"===e[0]?d(e):c[e.toLowerCase()]?d(c[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0])}class h extends Array{get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(u(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}constructor(e){if(Array.isArray(e))return super(...e);return super(...u(...arguments))}}var m=e.i(753604);function f(e){let{color:s=[1,1,1],speed:a=1,amplitude:r=.1,mouseReact:c=!1,className:d=""}=e,u=(0,i.useRef)(null),f=(0,i.useRef)({x:.5,y:.5});return(0,i.useEffect)(()=>{let e,t;if(!u.current)return;let i=u.current,d=new n.Renderer,p=d.gl;function x(){d.setSize(+i.offsetWidth,+i.offsetHeight),e&&(e.uniforms.uResolution.value=new h(p.canvas.width,p.canvas.height,p.canvas.width/p.canvas.height))}p.clearColor(1,1,1,1),window.addEventListener("resize",x,!1),x();let v=new m.Triangle(p);e=new l.Program(p,{vertex:"\nattribute vec2 uv;\nattribute vec2 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = vec4(position, 0, 1);\n}\n",fragment:"\nprecision highp float;\n\nuniform float uTime;\nuniform vec3 uColor;\nuniform vec3 uResolution;\nuniform vec2 uMouse;\nuniform float uAmplitude;\nuniform float uSpeed;\n\nvarying vec2 vUv;\n\nvoid main() {\n  float mr = min(uResolution.x, uResolution.y);\n  vec2 uv = (vUv.xy * 2.0 - 1.0) * uResolution.xy / mr;\n\n  uv += (uMouse - vec2(0.5)) * uAmplitude;\n\n  float d = -uTime * 0.5 * uSpeed;\n  float a = 0.0;\n  for (float i = 0.0; i < 8.0; ++i) {\n    a += cos(i - d - a * uv.x);\n    d += sin(uv.y * i + a);\n  }\n  d += uTime * 0.5 * uSpeed;\n  vec3 col = vec3(cos(uv * vec2(d, a)) * 0.6 + 0.4, cos(a + d) * 0.5 + 0.5);\n  col = cos(col * cos(vec3(d, a, 2.5)) * 0.5 + 0.5) * uColor;\n  gl_FragColor = vec4(col, 1.0);\n}\n",uniforms:{uTime:{value:0},uColor:{value:new h(...s)},uResolution:{value:new h(p.canvas.width,p.canvas.height,p.canvas.width/p.canvas.height)},uMouse:{value:new Float32Array([f.current.x,f.current.y])},uAmplitude:{value:r},uSpeed:{value:a}}});let g=new o.Mesh(p,{geometry:v,program:e});function w(t){let s=i.getBoundingClientRect(),a=(t.clientX-s.left)/s.width,r=1-(t.clientY-s.top)/s.height;f.current={x:a,y:r},e.uniforms.uMouse.value[0]=a,e.uniforms.uMouse.value[1]=r}return t=requestAnimationFrame(function i(s){t=requestAnimationFrame(i),e.uniforms.uTime.value=.001*s,d.render({scene:g})}),i.appendChild(p.canvas),c&&i.addEventListener("mousemove",w),()=>{var e;cancelAnimationFrame(t),window.removeEventListener("resize",x),c&&i.removeEventListener("mousemove",w),i.removeChild(p.canvas),null==(e=p.getExtension("WEBGL_lose_context"))||e.loseContext()}},[s,a,r,c]),(0,t.jsx)("div",{ref:u,className:"h-full w-full ".concat(d)})}var p=e.i(585264),x=e.i(160889);let v=(0,i.forwardRef)((e,i)=>{let{children:n,showIridescence:l=!0,showRive:o=!0,showPoweredBy:c=!0,showLoginCTA:d=!1,className:u,iridescenceColor:h=[.6,.5,.8],iridescenceSpeed:m=.7,iridescenceAmplitude:x=.1,id:v,poweredBy:w}=e,y=(0,p.useTranslations)("home");return(0,t.jsxs)("section",{ref:i,id:v,className:(0,s.cn)("demo relative mb-28 min-h-[32.125rem] md:mb-20 md:min-h-[36.625rem]",u),children:[(0,t.jsxs)("div",{className:"relative mt-8 flex w-full flex-col items-center",children:[(0,t.jsx)("div",{className:"relative mx-auto w-full max-w-5xl px-4 sm:px-6 lg:px-8",children:(0,t.jsx)(r.HookDialogProvider,{children:(0,t.jsxs)("div",{className:"text-area-container relative w-full",children:[l&&(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-[1.75rem] opacity-30 dark:opacity-40",children:(0,t.jsx)(f,{color:h,speed:m,amplitude:x,mouseReact:!1})}),(0,t.jsx)("div",{className:"absolute bottom-[2.75rem] left-[0.25rem] right-[0.25rem] top-[0.25rem] z-[5] rounded-[1.5rem] bg-[var(--bg-base)]"}),(0,t.jsx)("div",{className:"relative z-10 w-full",children:n}),c&&(0,t.jsx)("div",{className:"absolute bottom-4 left-1/2 z-10 -translate-x-1/2 whitespace-nowrap text-xs font-semibold text-black dark:text-white md:text-sm",children:null!=w?w:y("demo.poweredBy")})]})})}),o&&(0,t.jsx)("div",{className:"absolute left-0 top-0 -z-[1] h-full w-full overflow-hidden",children:(0,t.jsx)(a.default,{})})]}),d&&(0,t.jsx)(g,{})]})});function g(){let e=(0,p.useTranslations)("home");return(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-6 px-4 md:mt-4",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-black dark:text-white md:text-sm",children:e("loginSection.experience")}),(0,t.jsx)(x.Link,{href:"/auth/?redirect=/app/",className:"flex items-center justify-center rounded-full bg-black px-5 py-3 text-xs font-extrabold uppercase tracking-wider text-white transition-all hover:bg-gray-900 dark:bg-white dark:text-black dark:hover:bg-gray-100",children:e("loginSection.login")})]})}v.displayName="DemoContainer";let w=v},756118,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(843476),i=e.i(271645),s=e.i(585264),a=e.i(664659),r=e.i(647163),n=e.i(160889);let l=e=>{let{question:i,answer:s,isOpen:n,onToggle:l}=e;return(0,t.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-800",children:[(0,t.jsxs)("button",{onClick:l,className:"flex w-full items-center justify-between py-6 text-left transition-all hover:text-gray-600 dark:hover:text-gray-300",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:i}),(0,t.jsx)(a.ChevronDown,{className:(0,r.cn)("h-5 w-5 text-gray-500 transition-transform duration-200",n&&"rotate-180")})]}),(0,t.jsx)("div",{className:(0,r.cn)("overflow-hidden transition-all duration-300",n?"max-h-96 pb-6":"max-h-0"),children:(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:s})})]})};function o(){let e=(0,s.useTranslations)("home.faq"),[a,r]=(0,i.useState)(null),o="text-gray-800 font-medium hover:text-black dark:text-gray-300 dark:hover:text-white",c=[{question:e("q1.question"),answer:e("q1.answer")},{question:e("q2.question"),answer:e("q2.answer")},{question:e("q3.question"),answer:(0,t.jsx)(t.Fragment,{children:e.rich("q3.answer",{voiceClonePage:e=>(0,t.jsx)(n.Link,{href:"/app/voice-cloning/",className:o,children:e})})})},{question:e("q4.question"),answer:e("q4.answer")},{question:e("q5.question"),answer:(0,t.jsx)(t.Fragment,{children:e.rich("q5.answer",{pricingPage:e=>(0,t.jsx)(n.Link,{href:"/plan/",className:o,children:e})})})},{question:e("q6.question"),answer:(0,t.jsx)(t.Fragment,{children:e.rich("q6.answer",{ttsPage:e=>(0,t.jsx)(n.Link,{href:"/app/text-to-speech/",className:o,children:e}),developersPage:e=>(0,t.jsx)(n.Link,{href:"/developers/",className:o,children:e})})})},{question:e("q7.question"),answer:(0,t.jsx)(t.Fragment,{children:e.rich("q7.answer",{discoveryPage:e=>(0,t.jsx)(n.Link,{href:"/app/discovery/",className:o,children:e}),topicsPage:e=>(0,t.jsx)(n.Link,{href:"/topics",children:e})})})}];return(0,t.jsx)("section",{className:"relative py-16 md:py-24",children:(0,t.jsxs)("div",{className:"mx-auto max-w-3xl px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("h2",{className:"mb-12 text-center text-3xl font-bold text-gray-900 dark:text-white md:text-4xl",children:e("title")}),(0,t.jsx)("div",{className:"space-y-0",children:c.map((e,i)=>(0,t.jsx)(l,{question:e.question,answer:e.answer,isOpen:a===i,onToggle:()=>{r(a===i?null:i)}},i))})]})})}},707180,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]])},387951,e=>{"use strict";e.s(["Mic",()=>t.default]);var t=e.i(707180)},860243,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(475254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},569074,e=>{"use strict";e.s(["Upload",()=>t.default]);var t=e.i(860243)},163300,e=>{"use strict";e.s(["default",()=>b,"useRecord",()=>C],163300);var t=e.i(843476),i=e.i(271645),s=e.i(846696),a=e.i(39839),r=e.i(163850),n=e.i(531278),l=e.i(387951),o=e.i(569074),c=e.i(647163),d=e.i(585264),u=e.i(141632);function h(e){return(0,t.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M18.0012 20.7101C19.5689 19.7337 20.7758 18.2734 21.4396 16.55C22.1033 14.8265 22.1877 12.9338 21.6799 11.1582C21.1722 9.38254 20.0999 7.82057 18.6254 6.70859C17.1509 5.59661 15.3543 4.99512 13.5075 4.99512C11.6607 4.99512 9.8641 5.59661 8.38958 6.70859C6.91505 7.82057 5.8428 9.38254 5.33505 11.1582C4.8273 12.9338 4.91167 14.8265 5.57541 16.55C6.23914 18.2734 7.44612 19.7337 9.01374 20.7101C6.43249 21.5551 4.10999 23.1339 2.24249 25.3564C2.07175 25.5594 1.98868 25.822 2.01153 26.0863C2.03439 26.3506 2.16131 26.595 2.36436 26.7657C2.56742 26.9365 2.82998 27.0196 3.09429 26.9967C3.3586 26.9738 3.603 26.8469 3.77374 26.6439C6.28249 23.6489 9.73999 22.0001 13.5012 22.0001C17.2625 22.0001 20.72 23.6489 23.2362 26.6439C23.407 26.8469 23.6514 26.9738 23.9157 26.9967C24.18 27.0196 24.4426 26.9365 24.6456 26.7657C24.8487 26.595 24.9756 26.3506 24.9984 26.0863C25.0213 25.822 24.9382 25.5594 24.7675 25.3564C22.8987 23.1339 20.5762 21.5551 18.0012 20.7101ZM7.00124 13.5001C7.00124 12.2145 7.38246 10.9578 8.09669 9.88891C8.81091 8.81999 9.82608 7.98687 11.0138 7.4949C12.2015 7.00293 13.5084 6.87421 14.7693 7.12501C16.0302 7.37582 17.1884 7.99488 18.0974 8.90392C19.0065 9.81296 19.6255 10.9712 19.8763 12.232C20.1271 13.4929 19.9984 14.7998 19.5065 15.9876C19.0145 17.1753 18.1814 18.1904 17.1124 18.9047C16.0435 19.6189 14.7868 20.0001 13.5012 20.0001C11.7779 19.9981 10.1258 19.3127 8.90724 18.0941C7.68868 16.8756 7.00322 15.2234 7.00124 13.5001ZM25.9212 8.20012C26.6339 9.87621 27.0012 11.6788 27.0012 13.5001C27.0012 15.3214 26.6339 17.124 25.9212 18.8001C25.8443 18.9804 25.7161 19.1341 25.5525 19.2421C25.389 19.3501 25.1972 19.4077 25.0012 19.4076C24.8357 19.4077 24.6727 19.3668 24.5269 19.2884C24.3811 19.21 24.2571 19.0967 24.1659 18.9585C24.0747 18.8204 24.0192 18.6617 24.0044 18.4969C23.9897 18.332 24.0161 18.166 24.0812 18.0139C24.6883 16.5865 25.0013 15.0513 25.0013 13.5001C25.0013 11.949 24.6883 10.4138 24.0812 8.98637C23.977 8.74237 23.9739 8.46694 24.0727 8.22068C24.1715 7.97443 24.3641 7.7775 24.6081 7.67324C24.8521 7.56898 25.1275 7.56591 25.3738 7.66472C25.6201 7.76353 25.817 7.95612 25.9212 8.20012ZM31.0012 13.5001C31.0059 15.8702 30.5257 18.2163 29.59 20.3939C29.4805 20.6299 29.2834 20.8139 29.0405 20.907C28.7976 21.0001 28.528 20.9948 28.2889 20.8923C28.0498 20.7898 27.86 20.5982 27.7599 20.3581C27.6597 20.118 27.6571 19.8484 27.7525 19.6064C28.5765 17.6761 29.0012 15.5989 29.0012 13.5001C29.0012 11.4013 28.5765 9.32418 27.7525 7.39387C27.6962 7.27249 27.6648 7.14106 27.6603 7.00735C27.6557 6.87364 27.678 6.74037 27.7259 6.61543C27.7737 6.4905 27.8462 6.37644 27.9389 6.28C28.0317 6.18357 28.1428 6.10673 28.2658 6.05403C28.3887 6.00132 28.521 5.97383 28.6548 5.97318C28.7886 5.97253 28.9212 5.99874 29.0447 6.05024C29.1681 6.10174 29.28 6.1775 29.3737 6.27303C29.4674 6.36855 29.5409 6.4819 29.59 6.60637C30.5257 8.78398 31.0059 11.13 31.0012 13.5001Z",fill:"currentColor"})})}function m(e){return(0,t.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M16 22C17.5908 21.9983 19.116 21.3657 20.2408 20.2408C21.3657 19.116 21.9983 17.5908 22 16V8C22 6.4087 21.3679 4.88258 20.2426 3.75736C19.1174 2.63214 17.5913 2 16 2C14.4087 2 12.8826 2.63214 11.7574 3.75736C10.6321 4.88258 10 6.4087 10 8V16C10.0017 17.5908 10.6343 19.116 11.7592 20.2408C12.884 21.3657 14.4092 21.9983 16 22ZM12 8C12 6.93913 12.4214 5.92172 13.1716 5.17157C13.9217 4.42143 14.9391 4 16 4C17.0609 4 18.0783 4.42143 18.8284 5.17157C19.5786 5.92172 20 6.93913 20 8V16C20 17.0609 19.5786 18.0783 18.8284 18.8284C18.0783 19.5786 17.0609 20 16 20C14.9391 20 13.9217 19.5786 13.1716 18.8284C12.4214 18.0783 12 17.0609 12 16V8ZM17 25.95V30C17 30.2652 16.8946 30.5196 16.7071 30.7071C16.5196 30.8946 16.2652 31 16 31C15.7348 31 15.4804 30.8946 15.2929 30.7071C15.1054 30.5196 15 30.2652 15 30V25.95C12.5346 25.6991 10.2497 24.543 8.5873 22.7051C6.9249 20.8672 6.00305 18.4782 6 16C6 15.7348 6.10536 15.4804 6.29289 15.2929C6.48043 15.1054 6.73478 15 7 15C7.26522 15 7.51957 15.1054 7.70711 15.2929C7.89464 15.4804 8 15.7348 8 16C8 18.1217 8.84285 20.1566 10.3431 21.6569C11.8434 23.1571 13.8783 24 16 24C18.1217 24 20.1566 23.1571 21.6569 21.6569C23.1571 20.1566 24 18.1217 24 16C24 15.7348 24.1054 15.4804 24.2929 15.2929C24.4804 15.1054 24.7348 15 25 15C25.2652 15 25.5196 15.1054 25.7071 15.2929C25.8946 15.4804 26 15.7348 26 16C25.997 18.4782 25.0751 20.8672 23.4127 22.7051C21.7503 24.543 19.4654 25.6991 17 25.95Z",fill:"currentColor"})})}function f(e){return(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("g",{clipPath:"url(#clip0_265_2406)",children:(0,t.jsx)("path",{d:"M7.5 3.75L13.75 10L7.5 16.25",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_265_2406",children:(0,t.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})}function p(e){return(0,t.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M27.895 8.5525L25.895 4.5525C25.8119 4.38636 25.6841 4.24667 25.526 4.14908C25.3679 4.05149 25.1858 3.99987 25 4H7C6.81422 3.99987 6.63208 4.05149 6.47399 4.14908C6.31591 4.24667 6.18814 4.38636 6.105 4.5525L4.105 8.5525C4.03607 8.69161 4.00014 8.84475 4 9V26C4 26.5304 4.21071 27.0391 4.58579 27.4142C4.96086 27.7893 5.46957 28 6 28H26C26.5304 28 27.0391 27.7893 27.4142 27.4142C27.7893 27.0391 28 26.5304 28 26V9C27.9999 8.84475 27.9639 8.69161 27.895 8.5525ZM7.6175 6H24.3825L25.3825 8H6.6175L7.6175 6ZM26 26H6V10H26V26ZM20.7075 16.2925C20.8004 16.3854 20.8741 16.4957 20.9244 16.6171C20.9747 16.7385 21.0006 16.8686 21.0006 17C21.0006 17.1314 20.9747 17.2615 20.9244 17.3829C20.8741 17.5043 20.8004 17.6146 20.7075 17.7075C20.6146 17.8004 20.5043 17.8741 20.3829 17.9244C20.2615 17.9747 20.1314 18.0006 20 18.0006C19.8686 18.0006 19.7385 17.9747 19.6171 17.9244C19.4957 17.8741 19.3854 17.8004 19.2925 17.7075L17 15.4137V23C17 23.2652 16.8946 23.5196 16.7071 23.7071C16.5196 23.8946 16.2652 24 16 24C15.7348 24 15.4804 23.8946 15.2929 23.7071C15.1054 23.5196 15 23.2652 15 23V15.4137L12.7075 17.7075C12.6146 17.8004 12.5043 17.8741 12.3829 17.9244C12.2615 17.9747 12.1314 18.0006 12 18.0006C11.8686 18.0006 11.7385 17.9747 11.6171 17.9244C11.4957 17.8741 11.3854 17.8004 11.2925 17.7075C11.1996 17.6146 11.1259 17.5043 11.0756 17.3829C11.0253 17.2615 10.9994 17.1314 10.9994 17C10.9994 16.8686 11.0253 16.7385 11.0756 16.6171C11.1259 16.4957 11.1996 16.3854 11.2925 16.2925L15.2925 12.2925C15.3854 12.1995 15.4957 12.1258 15.6171 12.0754C15.7385 12.0251 15.8686 11.9992 16 11.9992C16.1314 11.9992 16.2615 12.0251 16.3829 12.0754C16.5043 12.1258 16.6146 12.1995 16.7075 12.2925L20.7075 16.2925Z",fill:"currentColor"})})}var x=e.i(4272);function v(e){return(0,t.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("g",{clipPath:"url(#clip0_528_1295)",children:(0,t.jsx)("path",{d:"M16.875 4.375V15.625C16.875 15.9565 16.7433 16.2745 16.5089 16.5089C16.2745 16.7433 15.9565 16.875 15.625 16.875H4.375C4.04348 16.875 3.72554 16.7433 3.49112 16.5089C3.2567 16.2745 3.125 15.9565 3.125 15.625V4.375C3.125 4.04348 3.2567 3.72554 3.49112 3.49112C3.72554 3.2567 4.04348 3.125 4.375 3.125H15.625C15.9565 3.125 16.2745 3.2567 16.5089 3.49112C16.7433 3.72554 16.875 4.04348 16.875 4.375Z",fill:"currentColor"})}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_528_1295",children:(0,t.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})}var g=e.i(100574);let w=["wav","mp3","flac","m4a"],y=(0,i.forwardRef)((e,s)=>{let{className:a,onChange:r,children:n,...l}=e,o=(0,i.useRef)(null);return(0,t.jsxs)(x.Button,{className:(0,c.cn)("upload-btn flex items-center rounded-full border border-file-upload-border border-opacity-50 p-4",a),onClick:()=>{var e;null==(e=o.current)||e.click()},children:[n,(0,t.jsx)("input",{className:"hidden",ref:o,type:"file",...l,onChange:function(e){e.target.files&&(null==r||r(e.target.files))}})]})});y.displayName="FileUpload";let C=t=>{let{onRecord:s,enableVolumeDetection:a=!1,deviceId:r}=t,[n,l]=(0,i.useState)(!0),[o,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(0),h=(0,i.useRef)(null),m=(0,i.useRef)(void 0),f=(0,i.useRef)(void 0),[p,x]=(0,i.useState)(!1),v=(0,i.useRef)(null),g=(0,i.useRef)(null),w=(0,i.useRef)([]),[y,C]=(0,i.useState)(),j=(0,i.useRef)(void 0);(0,i.useEffect)(()=>(e.A(964336).then(e=>{let{isSupported:t}=e;t().then(e=>{e?l(e):l(void 0!==window.MediaRecorder&&"function"==typeof window.MediaRecorder.isTypeSupported&&(window.MediaRecorder.isTypeSupported("audio/mp4")||window.MediaRecorder.isTypeSupported("audio/webm")))})}),()=>{let e=j.current,t=m.current;e&&clearInterval(e),t&&cancelAnimationFrame(t)}),[]),(0,i.useEffect)(()=>()=>{m.current&&cancelAnimationFrame(m.current),h.current&&h.current.disconnect()},[]);let b=()=>{if(!h.current)return;let e=new Uint8Array(h.current.frequencyBinCount);h.current.getByteFrequencyData(e);let t=0;for(let i=0;i<32;i++)t+=e[i];u(t/32),setTimeout(()=>{m.current=requestAnimationFrame(b)},100)};function N(e){var t,i;if(w.current.push(e.data),(null==(t=g.current)?void 0:t.state)==="inactive"){let e=new File([new Blob(w.current,{type:"audio/x-mpeg-3"})],"record.mp3");null==s||s(e),null==(i=v.current)||i.getTracks().forEach(e=>e.stop()),g.current=null,v.current=null}}async function k(){try{if(x(!0),C(void 0),v.current=await navigator.mediaDevices.getUserMedia({audio:!r||{deviceId:{exact:r}}}),a){let e=new AudioContext,t=e.createMediaStreamSource(v.current);h.current=e.createAnalyser(),h.current.fftSize=64,t.connect(h.current),b()}g.current=new MediaRecorder(v.current),w.current=[],g.current.ondataavailable=N,g.current.start(),g.current.onstart=()=>{x(!1),c(!0),f.current=performance.now();let e=()=>{if(!f.current)return;let t=(performance.now()-f.current)/1e3;C(t),m.current=requestAnimationFrame(e)};m.current=requestAnimationFrame(e)}}catch(e){console.error("Error getting recording permission",e),x(!1)}}async function A(){var e;m.current&&cancelAnimationFrame(m.current),null==(e=g.current)||e.stop(),j.current&&clearInterval(j.current),u(0),f.current=void 0}return{support:n,recording:o,isConnecting:p,duration:y,volume:d,startRecording:k,stopRecording:A,setRecording:c,setDuration:C,handleButtonClick:function(){o?(A(),c(!1)):k()}}},j=(0,i.forwardRef)((e,j)=>{let{className:b,...N}=e,k=(0,d.useTranslations)("home"),[A,T]=(0,i.useState)(""),{support:S,recording:F,isConnecting:R,handleButtonClick:M}=C({onRecord:async e=>{await E(e)&&q(e)}}),_=(0,a.useMediaQuery)("(min-width: 768px)"),L=async e=>{let t=e[0];t&&await E(t)&&q(t)},E=async e=>{if(!e||"undefined"==typeof document)return!1;let t=new Audio,i=document.createElement("source"),a=URL.createObjectURL(e);i.src=a,i.type="audio/mpeg",t.appendChild(i);try{if(await new Promise((e,i)=>{t.addEventListener("loadedmetadata",()=>{t.duration===1/0?(t.currentTime=1e101,t.addEventListener("durationchange",()=>e(t.duration))):e(t.duration)}),t.addEventListener("error",i)}),t.duration>120)return s.toast.error(k("audio-file.duration-limit")),!1;return!0}catch(e){return console.error("Error loading audio file:",e),s.toast.error(k("audio-file.load-error")),!1}finally{URL.revokeObjectURL(a)}},[U,q]=(0,r.useAsyncFn)(async e=>{let t=await (0,g.getReCaptchaToken)("demo"),i=await (0,u.overviewAsr)({audio:e,recaptcha:t});T(await i.text())});return(0,t.jsx)("div",{ref:j,className:(0,c.cn)("text-to-speech-demo",b),...N,children:(0,t.jsxs)("div",{className:"text-area-wrapper relative z-[2]",children:[A?(0,t.jsx)("div",{className:"empty-area flex h-[19.5rem] w-full flex-col items-center overflow-y-auto p-4 text-center text-2xl font-normal",children:(0,t.jsx)("div",{className:"mt-16 flex items-center gap-4",children:A})}):(0,t.jsxs)("div",{className:"empty-area flex h-[19.5rem] w-full flex-col items-center p-4",children:[(0,t.jsxs)("div",{className:"mt-16 flex items-center gap-4",children:[(0,t.jsx)(m,{className:"icon-fill h-8 w-8"}),(0,t.jsx)(f,{className:"icon-fill h-5 w-5"}),(0,t.jsx)(p,{className:"icon-fill h-8 w-8"}),(0,t.jsx)(f,{className:"icon-fill h-5 w-5"}),(0,t.jsx)(h,{className:"icon-fill h-8 w-8"})]}),(0,t.jsx)("div",{className:"mt-4 px-4 text-center text-lg font-normal leading-7 md:w-[30rem] md:px-0",children:k("speech-to-text-demo.empty-area")})]}),_?(0,t.jsxs)("div",{className:"area-bottom bottom-4 right-0 box-border flex h-[4.25rem] w-full items-center justify-between border-t p-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(y,{multiple:!0,disabled:U.loading,accept:"audio/*,".concat(w.map(e=>".".concat(e)).join(",")),onChange:L,className:"rounded-full px-4 dark:bg-primary",children:[U.loading?(0,t.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(o.Upload,{className:"mr-2 h-4 w-4"}),k("audio-file.upload-audio")]}),(0,t.jsx)(x.Button,{className:"record-btn overflow-hidden rounded-full p-0",variant:"outline",disabled:U.loading,onClick:M,children:(0,t.jsx)("div",{className:"content flex h-full items-center px-4",children:S?(0,t.jsxs)("div",{className:"flex items-center",children:[U.loading?(0,t.jsx)(n.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):F?(0,t.jsx)(v,{className:"mr-2 h-4 w-4"}):(0,t.jsx)(l.Mic,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:R?k("audio-file.connecting"):F?k("audio-file.stop"):k("audio-file.start")})]}):(0,t.jsx)("div",{className:"flex items-center",children:k("audio-file.record-not-supported")})})})]})]}):(0,t.jsxs)("div",{className:"area-bottom bottom-8 right-0 box-border flex h-[4.25rem] w-full items-center justify-between px-8",children:[(0,t.jsx)(y,{multiple:!0,disabled:U.loading,accept:"audio/*,".concat(w.map(e=>".".concat(e)).join(",")),onChange:L,className:"mb-12 h-[3.6rem] w-[3.6rem] rounded-full px-4 dark:bg-primary",children:U.loading?(0,t.jsx)(n.Loader2,{className:"h-6 w-6 animate-spin"}):(0,t.jsx)(o.Upload,{className:"h-6 w-6"})}),(0,t.jsx)(x.Button,{className:"record-btn mb-12 h-[3.6rem] w-[3.6rem] overflow-hidden rounded-full p-0",variant:"outline",disabled:U.loading,onClick:M,children:(0,t.jsx)("div",{className:"content flex h-full items-center px-4",children:(0,t.jsx)("div",{className:"flex items-center",children:U.loading?(0,t.jsx)(n.Loader2,{className:"h-6 w-6 animate-spin"}):F?(0,t.jsx)(v,{className:"h-6 w-6"}):(0,t.jsx)(l.Mic,{className:"h-6 w-6"})})})})]})]})})});j.displayName="SpeechToTextDemo";let b=j}]);