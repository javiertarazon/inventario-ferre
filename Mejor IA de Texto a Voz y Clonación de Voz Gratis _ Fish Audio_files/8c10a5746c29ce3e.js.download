(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,473665,e=>{"use strict";e.s(["MdEmail",()=>i]);var t=e.i(940141);function i(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(e)}},125789,e=>{"use strict";e.s(["AuthDialogProvider",()=>b,"useAuthDialog",()=>j],125789);var t=e.i(843476),i=e.i(271645),s=e.i(522016),o=e.i(585264),a=e.i(473665),r=e.i(693936),l=e.i(558249),n=e.i(255566),c=e.i(4272),d=e.i(357675),x=e.i(160889),g=e.i(64585),m=e.i(611995),u=e.i(219613),h=e.i(344040),p=e.i(9309),f=e.i(647163);function _(e){let{open:_,onOpenChange:v,title:b,description:j,source:w,redirectPath:N}=e,k=(0,o.useTranslations)("auth"),y=(0,x.useRouter)(),{setToken:A,inviteCode:F,user:S,hasLogin:I,gclid:C,fbclid:D}=(0,g.useUser)(),B=[{title:k("free-voice-generation"),icon:(0,t.jsx)(h.FreeIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:k("high-quality-audio-in-seconds"),icon:(0,t.jsx)(h.HighQualityIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:k("countless-character-sounds"),icon:(0,t.jsx)(h.CountlessCharacterSoundsIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})},{title:k("latest-ai-model"),icon:(0,t.jsx)(h.LatestAiModelIcon,{className:"h-5 w-5 text-[#18181B] dark:text-[#FAFAFA]"})}];(0,i.useEffect)(()=>{_&&(0,l.track)("signin_dialog.open",{custom_title:!!b,custom_description:!!j,source:w||"null",has_invite_code:!!F,has_gclid:!!C,has_fbclid:!!D,timestamp:new Date().toISOString()},S)},[_,b,j,w,F,C,D,S]);let E=(0,r.useGoogleLogin)({onSuccess:async e=>{try{var t;(0,l.track)("signin_dialog.google_login_attempt",{has_invite_code:!!F,has_gclid:!!C,has_affiliate_code:!!sessionStorage.getItem("affiliate_code")},S);let i=await (0,m.loginUseGoogle)({token:e.access_token,invite_code:null!=F?F:void 0,gclid:null!=C?C:void 0,affiliate_code:null!=(t=sessionStorage.getItem("affiliate_code"))?t:void 0});A(i.data.token,void 0,i.data.is_new_user)}catch(e){console.error("Failed to fetch user info:",e),(0,l.track)("signin_dialog.google_login_error",{error_message:JSON.stringify(e)||"Unknown error"},S)}},onError:e=>{console.error("Web Google login error:",e),(0,l.track)("signin_dialog.google_login_error",{error_message:JSON.stringify(e)||"Unknown error",error_type:"oauth_error"},S)}});return(0,i.useEffect)(()=>{S&&((0,l.track)("signin_dialog.login_success",{user_id:S._id,email:S.email},S),v(!1))},[v,S]),(0,t.jsx)(n.StandardModal,{isOpen:_,onClose:()=>v(!1),backgroundComponent:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"auth-gradient-bg absolute left-0 right-0 top-0 z-[1] h-[12rem] w-full"}),(0,t.jsx)(p.PlanBgDotLeftIcon,{className:(0,f.cn)("absolute -left-4 -top-8 -z-[2] hidden w-full opacity-60 md:block")}),(0,t.jsx)(p.PlanBgDotRightIcon,{className:(0,f.cn)("absolute -right-64 -top-8 -z-[2] hidden w-full opacity-60 md:block")})]}),children:(0,t.jsxs)("div",{className:"relative w-full px-4 pb-12 md:min-w-[32rem] md:pb-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-6 text-center",children:[(0,t.jsx)(u.FishAudioIcon,{className:"w-20"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.StandardDialogTitle,{className:"text-center text-2xl font-semibold tracking-tight text-std-text-heading md:text-4xl",children:b||k("unlock-full-potential")}),(0,t.jsx)(n.StandardDialogDescription,{className:"bg-gradient-to-l from-[#3083FF] to-[#7147FF] bg-clip-text pt-2 text-center text-lg font-semibold text-transparent",children:j||k("sign-in-to-enjoy")})]})]}),(0,t.jsxs)("div",{className:"mt-8 flex flex-col gap-3 md:px-4",children:[(0,t.jsx)("div",{className:"mx-auto flex w-fit gap-2 md:gap-4",children:B.slice(0,2).map((e,i)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 text-std-text-heading",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:e.icon}),(0,t.jsx)("span",{className:"whitespace-nowrap text-xs md:text-sm",children:e.title})]},i))}),(0,t.jsx)("div",{className:"mx-auto flex w-fit justify-center gap-2 md:gap-4",children:B.slice(2,4).map((e,i)=>(0,t.jsxs)("div",{className:"flex items-center gap-1 text-std-text-heading",children:[(0,t.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:e.icon}),(0,t.jsx)("span",{className:"whitespace-nowrap text-xs md:text-sm",children:e.title})]},i))})]}),(0,t.jsx)("div",{className:"separator mx-auto mb-8 mt-12 hidden w-[70%] md:block"}),(0,t.jsxs)("div",{className:"my-12 flex flex-col gap-4 px-8 md:my-6 md:px-12",children:[(0,t.jsxs)(c.Button,{variant:"outline",onClick:()=>{(0,l.track)("signin_dialog.google_click",{custom_title:!!b,custom_description:!!j},S),E()},className:"w-full rounded-lg border border-std-border-base bg-gradient-to-b from-[#EEEEF1] to-[#FAFAFA] py-4 font-semibold shadow-[0px_1px_1px_0px_rgba(14,14,17,0.04),0px_2px_4px_0px_rgba(14,14,17,0.04)] dark:text-std-bg-popover dark:hover:text-std-bg-popover",children:[(0,t.jsx)(d.Icons.google_colorful,{className:"mr-2 h-4 w-4"}),k("continue-with-google")]}),(0,t.jsxs)(c.Button,{onClick:()=>{(0,l.track)("signin_dialog.email_click",{custom_title:!!b,custom_description:!!j,redirect_url:window.location.href},S);let e=N?"/auth?redirect=".concat(encodeURIComponent(N)):"/auth";y.push(e)},className:"w-full rounded-lg border border-std-border-base bg-gradient-to-b from-[#1D1D20] to-[#18181B] py-4 font-semibold shadow-[0px_1px_1px_0px_rgba(14,14,17,0.04),0px_2px_4px_0px_rgba(14,14,17,0.04)] dark:text-std-text-primary",children:[(0,t.jsx)(a.MdEmail,{className:"mr-3 h-5 w-5"}),k("email-options")]})]}),(0,t.jsxs)("p",{className:"px-8 pb-4 text-center text-xs text-muted-foreground dark:text-[#9CA3AF]",children:[k("privacy_policy_start"),(0,t.jsx)("br",{}),(0,t.jsx)(s.default,{href:"/terms",className:"underline underline-offset-4 hover:text-primary",children:k("terms_of_use")}),k("and"),(0,t.jsx)(s.default,{href:"/privacy",className:"underline underline-offset-4 hover:text-primary",children:k("privacy_policy")})]})]})})}let v=(0,i.createContext)(void 0);function b(e){let{children:s}=e,[o,a]=(0,i.useState)(!1),[r,l]=(0,i.useState)({});return(0,t.jsxs)(v.Provider,{value:{showAuthDialog:e=>{l(e||{});let t=(null==e?void 0:e.redirectPath)||window.location.href;sessionStorage.setItem("redirect",t),a(!0)}},children:[s,(0,t.jsx)(_,{open:o,onOpenChange:a,title:r.title,description:r.description,source:r.source,redirectPath:r.redirectPath})]})}function j(){let e=(0,i.useContext)(v);if(void 0===e)throw Error("useAuthDialog must be used within an AuthDialogProvider");return e}}]);